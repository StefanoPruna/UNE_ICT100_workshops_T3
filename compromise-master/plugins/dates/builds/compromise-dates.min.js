!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).compromiseDates=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=i(t);if(e){var r=i(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u(this,a)}}var c="(in|by|before|during|on|until|after|of|within|all)",d="(last|next|this|previous|current|upcoming|coming)",h="(start|end|middle|starting|ending|midpoint|beginning)",l="(spring|summer|winter|fall|autumn)",m=function(t,e){!0===t.found&&t.forEach((function(t){var a=t.text("reduced"),n=parseInt(a,10);n&&n>1e3&&n<3e3&&t.tag("Year",e)}))},f=function(t,e){!0===t.found&&t.forEach((function(t){var a=t.text("reduced"),n=parseInt(a,10);n&&n>1900&&n<2030&&t.tag("Year",e)}))},y="date-values",p="date-tagger",g="section-tagger",v="time-tagger",b="shift-tagger",w="fix-tagger",k=[function(t){t.match("in the (night|evening|morning|afternoon|day|daytime)").tag("Time","in-the-night"),t.match("(#Value|#Time) (am|pm)").tag("Time","value-ampm"),t.match("/^[0-9]{4}-[0-9]{2}$/").tag("Date","2012-06"),t.match("(tue|thu)").tag("WeekDay","misc-weekday");var e=t.if("#Month");!0===e.found&&(e.match("#Month #Date+").tag("Date","correction-numberRange"),e.match("#Value of #Month").tag("Date","value-of-month"),e.match("#Cardinal #Month").tag("Date","cardinal-month"),e.match("#Month #Value to #Value").tag("Date","value-to-value"),e.match("#Month the #Value").tag("Date","month-the-value"));var a=t.if("#Value");if(!0===a.found){a.match("(#WeekDay|#Month) #Value").ifNo("#Money").tag("Date","date-value"),a.match("#Value (#WeekDay|#Month)").ifNo("#Money").tag("Date","value-date"),a.match("#TextValue #TextValue").if("#Date").tag("#Date","textvalue-date"),a.match("#Value (#WeekDay|#Duration) back").tag("#Date","3-back");var n=a.if("#Duration");!0===n.found&&(n.match("for #Value #Duration").tag("Date","for-x-duration"),n.match("#Value #Duration #Conjunction").tag("Date","val-duration-conjunction"),n.match("".concat(c,"? #Value #Duration")).tag("Date","value-duration"),n.match("#Value #Duration old").unTag("Date","val-years-old"))}var r=t.if(l);!0===r.found&&(r.match("".concat(c,"? ").concat(d," ").concat(l)).tag("Date","thisNext-season"),r.match("the? ".concat(h," of ").concat(l)).tag("Date","section-season"),r.match("".concat(l," ").concat(c,"? #Cardinal")).tag("Date","season-year"));var i=t.if("#Date");!0===i.found&&(i.match("#Date the? #Ordinal").tag("Date","correction"),i.match("".concat(d," #Date")).tag("Date","thisNext"),i.match("due? (by|before|after|until) #Date").tag("Date","by"),i.match("(last|next|this|previous|current|upcoming|coming|the) #Date").tag("Date","next-feb"),i.match("the? ".concat(h," of #Date")).tag("Date","section-of"),i.match("#Ordinal #Duration in #Date").tag("Date","duration-in"),i.match("(early|late) (at|in)? the? #Date").tag("Time","early-evening"),i.match("#Date (by|before|after|at|@|about) #Cardinal").not("^#Date").tag("Time","date-before-Cardinal"),i.match("#Date [(am|pm)]",0).unTag("Verb").unTag("Copula").tag("Time","date-am"),i.match("#Date (#Preposition|to) #Date").ifNo("#Duration").tag("Date","date-prep-date"));var o=t.if("#Cardinal");if(!0===o.found){var u=o.match("#Date #Value [#Cardinal]",0);m(u,"date-value-year"),u=o.match("#Date [#Cardinal]",0),f(u,"date-year"),u=o.match("".concat(h," of [#Cardinal]")),f(u,"section-year"),u=o.match("#Month #Value [#Cardinal]",0),m(u,"month-value-year"),u=o.match("#Month #Value to #Value [#Cardinal]",0),m(u,"month-range-year"),u=o.match("(in|of|by|during|before|starting|ending|for|year|since) [#Cardinal]",0),m(u,"in-year-1"),u=o.match("(q1|q2|q3|q4) [#Cardinal]",0),m(u,"in-year-2"),u=o.match("#Ordinal quarter [#Cardinal]",0),m(u,"in-year-3"),u=o.match("the year [#Cardinal]",0),m(u,"in-year-4"),u=o.match("it (is|was) [#Cardinal]",0),f(u,"in-year-5"),o.match("".concat(h," of #Year")).tag("Date")}var s=t.if("#Time");!0===s.found&&(s.match("(by|before|after|at|@|about) #Time").tag("Time","preposition-time"),s.match("#Time [(eastern|pacific|central|mountain)]",0).tag("Date","timezone"),s.match("#Time [(est|pst|gmt)]",0).tag("Date","timezone abbr"));var y=t.match("^/^20[012][0-9]$/$");return f(y,"2020-ish"),t.match("(in|after) /^[0-9]+(min|sec|wk)s?/").tag("Date","shift-units"),t},function(t){return t.has("once [a] #Duration")||t.match("[a] #Duration",0).replaceWith("1").tag("Cardinal",y),t.has("#Value")&&(t.match("#Month #Value to #Value of? #Year?").tag("Date",y),t.match("#Value to #Value of? #Month #Year?").tag("Date",y),t.match("#Value #Duration of #Date").tag("Date",y),t.match("#Value+ #Duration (after|before|into|later|afterwards|ago)?").tag("Date",y),t.match("#Value #Date").tag("Date",y),t.match("#Date #Value").tag("Date",y),t.match("#Date #Preposition #Value").tag("Date",y),t.match("#Date (after|before|during|on|in) #Value").tag("Date",y),t.match("#Value (year|month|week|day) and a half").tag("Date",y),t.match("#Value and a half (years|months|weeks|days)").tag("Date",y),t.match("on the #Ordinal").tag("Date",y)),t},function(t){return t.match("(spring|summer|winter|fall|autumn|springtime|wintertime|summertime)").match("#Noun").tag("Season",p),t.match("(q1|q2|q3|q4)").tag("FinancialQuarter",p),t.match("(this|next|last|current) quarter").tag("FinancialQuarter",p),t.match("(this|next|last|current) season").tag("Season",p),t.has("#Date")&&(t.match("#Date #Preposition #Date").tag("Date",p),t.match("(once|twice) (a|an|each) #Date").tag("Date",p),t.match("(by|until|on|in|at|during|over|every|each|due) the? #Date").tag("Date",p),t.match("#Date+").tag("Date",p),t.match("(by|until|on|in|at|during|over|every|each|due) the? #Date").tag("Date",p),t.match("a #Duration").tag("Date",p),t.match("(between|from) #Date").tag("Date",p),t.match("(to|until|upto) #Date").tag("Date",p),t.match("#Date and #Date").tag("Date",p),t.match("(by|until|after|before|during|on|in|following|since) (next|this|last)? (#Date|#Date)").tag("Date",p),t.match("the? #Date after next one?").tag("Date",p),t.match("(about|approx|approximately|around) #Date").tag("Date",p)),t},function(t){return t.has("#Date")&&(t.match("this? (last|next|past|this|previous|current|upcoming|coming|the) #Date").tag("Date",g),t.match("(starting|beginning|ending) #Date").tag("Date",g),t.match("the? (start|end|middle|beginning) of (last|next|this|the) (#Date|#Date)").tag("Date",g),t.match("(the|this) #Date").tag("Date",g),t.match("#Date up to #Date").tag("Date",g)),t},function(t){return t.match("#Cardinal oclock").tag("Time",v),t.match("/^[0-9]{2}h[0-9]{2}$/").tag("Time",v),t.match("/^[0-9]{2}/[0-9]{2}/").tag("Date",v).unTag("Value"),t.match("[#Value] (in|at) the? (morning|evening|night|nighttime)").tag("Time",v),t.has("#Cardinal")&&!t.has("#Month")&&t.match("1? (half|quarter|25|15|10|5) (past|after|to) #Cardinal").tag("Time",v),t.has("#Date")&&(t.match("/^[0-9]{4}[:-][0-9]{2}[:-][0-9]{2}T[0-9]/").tag("Time",v),t.match("#Date [at #Cardinal]",0).notIf("#Year").tag("Time",v),t.match("half an (hour|minute|second)").tag("Date",v),t.match("#Noun (standard|daylight|central|mountain)? time").tag("Timezone",v),t.match("/^utc[+-][0-9]/").tag("Timezone",v),t.match("/^gmt[+-][0-9]/").tag("Timezone",v),t.match("(in|for|by|near|at) #Timezone").tag("Timezone",v),t.match("#Time [(eastern|mountain|pacific|central)]",0).tag("Timezone",v)),t},function(t){return t.has("#Date")&&(t.match("#Cardinal #Duration (before|after|ago|from|hence|back)").tag("DateShift",b),t.match("in #Cardinal #Duration").tag("DateShift",b),t.match("in a (few|couple) of? #Duration").tag("DateShift",b),t.match("#Cardinal #Duration and? #DateShift").tag("DateShift",b),t.match("#DateShift and #Cardinal #Duration").tag("DateShift",b),t.match("[#Duration (after|before)] #Date",0).tag("DateShift",b),t.match("in half (a|an) #Duration").tag("DateShift",b)),t},function(t){if(t.has("#Date")){var e=t.match("#Date+ by #Date+");e.found&&!e.has("^due")&&e.match("^#Date+").unTag("Date","by-monday");var a=t.match("#Date+");a.match("^day$").unTag("Date","spa-day"),a.match("(in|of|by|for)? (#Possessive && #Date)").unTag("Date","tomorrows meeting");var n="(yesterday|today|tomorrow)";a.has(n)&&(a.match("".concat(n," [#Value]$")).unTag("Date","yesterday-7"),a.match("^[#Value] ".concat(n,"$"),0).unTag("Date","7 yesterday"),a.match("#WeekDay+ ".concat(n,"$")).unTag("Date").lastTerm().tag("Date","fri-yesterday"),a.match("(this|last|next) #Date ".concat(n,"$")).unTag("Date").lastTerm().tag("Date","this month yesterday")),a.match("on #Cardinal$").unTag("Date",w),a.match("this tomorrow").terms(0).unTag("Date","this-tomorrow"),a.match("(q1|q2|q3|q4) #Year").tag("Date",w),a.match("^#Value (this|next|last)").terms(0).unTag("Date",w),a.has("(last|this|next)")&&(a.match("(last|this|next) #Duration #Value").terms(2).unTag("Date",w),a.match("!#Month #Value (last|this|next) #Date").terms(0).unTag("Date",w)),!1===a.has("(#Year|#Time|#TextValue|#NumberRange)")&&a.match("(#Month|#WeekDay) #Value #Value").terms(2).unTag("Date",w),a.has("^between")&&!a.has("and .")&&a.unTag("Date",w),!a.has("#Month #Month")||a.has("@hasHyphen")||a.has("@hasComma")||a.match("#Month").lastTerm().unTag("Date","month-month"),a.has("(minutes|seconds|weeks|hours|days|months)")&&!a.has("#Value #Duration")&&a.match("(minutes|seconds|weeks|hours|days|months)").unTag("Date","log-hours"),a.has("about #Holiday")&&a.match("about").unTag("#Date","about-thanksgiving"),a.match("(from|by|before) now").unTag("Time"),a.match("#Date+").match("^the").unTag("Date")}return t}],D=function(t){return t=function(t){return t.numbers().normalize(),t}(t),k.forEach((function(e){return e(t)})),t},A={FinancialQuarter:{isA:"Date"},Season:{isA:"Date"},Year:{isA:["Date"],notA:"RomanNumeral"},Duration:{isA:["Date","Noun"]},Holiday:{isA:["Date","Noun"]},Timezone:{isA:["Date","Noun"],notA:["Adjective","DateShift"]},DateShift:{isA:["Date"],notA:["TimeZone","Holiday"]}};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function O(t){var e={exports:{}};return t(e,e.exports),e.exports}var x=O((function(t,e){t.exports=function(){function t(t,r){return e(t)||a(t,r)||n(t,r)||i()}function e(t){if(Array.isArray(t))return t}function a(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],n=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done)&&(a.push(o.value),!e||a.length!==e);n=!0);}catch(t){r=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw i}}return a}}function n(t,e){if(t){if("string"==typeof t)return r(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o=36e5,u=function(e,a,n){var r=t(e.split("/"),2),i=r[0],u=t(r[1].split(":"),2),s=u[0],c=u[1];return Date.UTC(n,i-1,s,c)-a*o},s=function(t,e,a,n,r){var i=new Date(t).getUTCFullYear(),o=u(e,r,i),s=u(a,n,i);return t>=o&&t<s},c=function(t){var e=t.timezones[t.tz];if(void 0===e)return console.warn("Warning: couldn't find timezone "+t.tz),0;if(void 0===e.dst)return e.offset;var a=e.offset,n=e.offset+1;"n"===e.hem&&(n=a-1);var r=e.dst.split("->");return!0===s(t.epoch,r[0],r[1],a,n)?a:n},d={"9|s":"2/dili,2/jayapura","9|n":"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau","9.5|s|04/05:03->10/04:02":"4/adelaide,4/broken_hill,4/south,4/yancowinna","9.5|s":"4/darwin,4/north","8|s|03/08:01->10/04:00":"12/casey","8|s":"2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west","8|n|03/25:03->09/29:23":"2/ulan_bator","8|n":"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar","8.75|s":"4/eucla","7|s":"12/davis,2/jakarta,9/christmas","7|n":"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane","6|s":"12/vostok","6|n":"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/qostanay,2/thimbu,2/thimphu,2/urumqi,9/chagos","6.5|n":"2/rangoon,2/yangon,9/cocos","5|s":"12/mawson,9/kerguelen","5|n":"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives","5.75|n":"2/kathmandu,2/katmandu","5.5|n":"2/calcutta,2/colombo,2/kolkata","4|s":"9/reunion","4|n":"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius","4.5|n|03/21:00->09/20:24":"2/tehran","4.5|n":"2/kabul","3|s":"12/syowa,9/antananarivo","3|n|03/29:03->10/25:04":"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye","3|n|03/29:02->10/25:03":"8/chisinau,8/tiraspol","3|n|03/29:00->10/24:24":"2/beirut","3|n|03/28:00->10/24:01":"2/gaza,2/hebron","3|n|03/27:02->10/25:02":"2/jerusalem,2/tel_aviv","3|n|03/27:00->10/30:01":"2/amman","3|n|03/27:00->10/29:24":"2/damascus","3|n":"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte","2|s|03/29:02->10/25:02":"12/troll","2|s":"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane","2|n|03/29:02->10/25:03":"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich","2|n":"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad","1|s|04/02:01->09/03:03":"0/windhoek","1|s":"0/kinshasa,0/luanda","1|n|04/19:03->05/31:02":"0/casablanca,0/el_aaiun","1|n|03/29:01->10/25:02":"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london","1|n":"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis","14|n":"11/kiritimati","13|s|04/05:04->09/27:03":"11/apia","13|s|01/15:02->11/05:03":"11/tongatapu","13|n":"11/enderbury,11/fakaofo","12|s|04/05:03->09/27:02":"12/mcmurdo,12/south_pole,11/auckland","12|s|01/12:03->12/20:02":"11/fiji","12|n":"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis","12.75|s|04/05:03->04/05:02":"11/chatham","11|s|04/05:03->10/04:02":"12/macquarie","11|s":"11/bougainville","11|n":"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape","11.5|n|04/05:03->10/04:02":"11/norfolk","10|s|04/05:03->10/04:02":"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria","10|s":"12/dumontdurville,4/brisbane,4/lindeman,4/queensland","10|n":"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap","10.5|s|04/05:01->10/04:02":"4/lhi,4/lord_howe","0|n|03/29:00->10/25:01":"1/scoresbysund,3/azores","0|n":"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu","-9|n|03/08:02->11/01:02":"1/adak,1/atka","-9|n":"11/gambier","-9.5|n":"11/marquesas","-8|n|03/08:02->11/01:02":"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat","-8|n":"11/pitcairn","-7|n|03/08:02->11/01:02":"1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,6/pacific,10/bajanorte","-7|n|03/08:02->11/01:01":"1/dawson,1/whitehorse,6/yukon","-7|n":"1/creston,1/dawson_creek,1/fort_nelson,1/hermosillo,1/phoenix","-6|s|04/04:22->09/05:22":"7/easterisland,11/easter","-6|n|04/05:02->10/25:02":"1/chihuahua,1/mazatlan,10/bajasur","-6|n|03/08:02->11/01:02":"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain","-6|n":"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos","-5|s":"1/lima,1/rio_branco,5/acre","-5|n|04/05:02->10/25:02":"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general","-5|n|03/12:03->11/05:01":"1/north_dakota","-5|n|03/08:02->11/01:02":"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central","-5|n":"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre","-4|s|05/13:23->08/13:01":"12/palmer","-4|s|04/04:24->09/06:00":"1/santiago,7/continental","-4|s|03/21:24->10/04:00":"1/asuncion","-4|s|02/16:24->11/03:00":"1/campo_grande,1/cuiaba","-4|s":"1/la_paz,1/manaus,5/west","-4|n|03/12:03->11/05:01":"1/indiana,1/kentucky","-4|n|03/08:02->11/01:02":"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern","-4|n|03/08:00->11/01:01":"1/havana","-4|n":"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin","-3|s":"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,5/east","-3|n|03/28:22->10/24:23":"1/nuuk","-3|n|03/08:02->11/01:02":"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic","-3|n":"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem","-2|s":"5/denoronha","-2|n|03/28:22->10/24:23":"1/godthab","-2|n|03/08:02->11/01:02":"1/miquelon","-2|n":"1/noronha,3/south_georgia","-2.5|n|03/08:02->11/01:02":"1/st_johns,6/newfoundland","-1|n":"3/cape_verde","-11|n":"11/midway,11/niue,11/pago_pago,11/samoa","-10|n":"11/honolulu,11/johnston,11/rarotonga,11/tahiti"},h=["africa","america","asia","atlantic","australia","brazil","canada","chile","europe","indian","mexico","pacific","antarctica","etc"];function l(t,e){return t(e={exports:{}},e.exports),e.exports}function m(t){return t&&t.default||t}var f=m(Object.freeze({__proto__:null,default:d})),y={};Object.keys(f).forEach((function(t){var e=t.split("|"),a={offset:Number(e[0]),hem:e[1]};e[2]&&(a.dst=e[2]),f[t].split(",").forEach((function(t){t=t.replace(/(^[0-9]+)\//,(function(t,e){return e=Number(e),h[e]+"/"})),y[t]=a}))})),y.utc={offset:0,hem:"n"};for(var p=-14;p<=14;p+=.5){var g=p;g>0&&(g="+"+g);var v="etc/gmt"+g;y[v]={offset:-1*p,hem:"n"},y[v="utc/gmt"+g]={offset:-1*p,hem:"n"}}var b=y,w="utc",k=function(){if("undefined"==typeof Intl||void 0===Intl.DateTimeFormat)return null;var t=Intl.DateTimeFormat();if(void 0===t||void 0===t.resolvedOptions)return null;var e=t.resolvedOptions().timeZone;return e?e.toLowerCase():null},D=/(\-?[0-9]+)h(rs)?/i,A=/(\-?[0-9]+)/,O=/utc([\-+]?[0-9]+)/i,x=/gmt([\-+]?[0-9]+)/i,z=function(t){return(t=Number(t))>=-13&&t<=13?"etc/gmt"+(t=((t*=-1)>0?"+":"")+t):null},j=function(t){var e=t.match(D);if(null!==e)return z(e[1]);if(null!==(e=t.match(O)))return z(e[1]);if(null!==(e=t.match(x))){var a=-1*Number(e[1]);return z(a)}return null!==(e=t.match(A))?z(e[1]):null},_=function(){var t=k();return null===t?w:t}(),T=Object.keys(b).reduce((function(t,e){var a=e.split("/")[1]||"";return t[a=a.replace(/_/g," ")]=e,t}),{}),M=function(t){return t=(t=(t=(t=(t=(t=t.replace(/ time/g,"")).replace(/ (standard|daylight|summer)/g,"")).replace(/\b(east|west|north|south)ern/g,"$1")).replace(/\b(africa|america|australia)n/g,"$1")).replace(/\beuropean/g,"europe")).replace(/\islands/g,"island")},q=function(t,e){if(!t)return _;"string"!=typeof t&&console.error("Timezone must be a string - recieved: '",t,"'\n");var a=t.trim(),n=t.split("/");if(n.length>2&&!1===e.hasOwnProperty(a)&&(a=n[0]+"/"+n[1]),a=a.toLowerCase(),!0===e.hasOwnProperty(a))return a;if(a=M(a),!0===e.hasOwnProperty(a))return a;if(!0===T.hasOwnProperty(a))return T[a];if(!0===/[0-9]/.test(a)){var r=j(a);if(r)return r}throw new Error("Spacetime: Cannot find timezone named: '"+t+"'. Please enter an IANA timezone id.")},S={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};S.date=S.day,S.month=25488e5,S.week=6048e5,S.year=3154e7,Object.keys(S).forEach((function(t){S[t+"s"]=S[t]}));var V=S,E=function(t,e,a,n,r){var i=t.d[a]();if(i!==e){var o=null===r?null:t.d[r](),u=t.epoch,s=e-i;t.epoch+=V[n]*s,"day"===n&&Math.abs(s)>28&&e<28&&(t.epoch+=V.hour),null!==r&&o!==t.d[r]()&&(t.epoch=u);for(var c=V[n]/2;t.d[a]()<e;)t.epoch+=c;for(;t.d[a]()>e;)t.epoch-=c;null!==r&&o!==t.d[r]()&&(t.epoch=u)}},C={year:{valid:function(t){return t>-4e3&&t<4e3},walkTo:function(t,e){return E(t,e,"getFullYear","year",null)}},month:{valid:function(t){return t>=0&&t<=11},walkTo:function(t,e){var a=t.d,n=a.getMonth(),r=t.epoch,i=a.getFullYear();if(n!==e){var o=e-n;for(t.epoch+=V.day*(28*o),i!==t.d.getFullYear()&&(t.epoch=r);t.d.getMonth()<e;)t.epoch+=V.day;for(;t.d.getMonth()>e;)t.epoch-=V.day}}},date:{valid:function(t){return t>0&&t<=31},walkTo:function(t,e){return E(t,e,"getDate","day","getMonth")}},hour:{valid:function(t){return t>=0&&t<24},walkTo:function(t,e){return E(t,e,"getHours","hour","getDate")}},minute:{valid:function(t){return t>=0&&t<60},walkTo:function(t,e){return E(t,e,"getMinutes","minute","getHours")}},second:{valid:function(t){return t>=0&&t<60},walkTo:function(t,e){t.epoch=t.seconds(e).epoch}},millisecond:{valid:function(t){return t>=0&&t<1e3},walkTo:function(t,e){t.epoch=t.milliseconds(e).epoch}}},P=function(t,e){for(var a=Object.keys(C),n=t.clone(),r=0;r<a.length;r++){var i=a[r],o=e[i];if(void 0===o&&(o=n[i]()),"string"==typeof o&&(o=parseInt(o,10)),!C[i].valid(o))return t.epoch=null,void(!1===t.silent&&console.warn("invalid "+i+": "+o));C[i].walkTo(t,o)}},N=["jan","feb","mar","apr","may","jun","jul","aug","sept","oct","nov","dec"],Y=["january","february","march","april","may","june","july","august","september","october","november","december"];function $(){for(var t={sep:8},e=0;e<N.length;e++)t[N[e]]=e;for(var a=0;a<Y.length;a++)t[Y[a]]=a;return t}var I={short:function(){return N},long:function(){return Y},mapping:function(){return $()},set:function(t){N=t.short||N,Y=t.long||Y}},L=function(t,e){if(!e)return t;"Z"!==e&&"z"!==e||(e="+0000");var a=0;/^[\+-]?[0-9]{2}:[0-9]{2}$/.test(e)&&(!0===/:00/.test(e)&&(e=e.replace(/:00/,"")),!0===/:30/.test(e)&&(e=e.replace(/:30/,".5"))),/^[\+-]?[0-9]{4}$/.test(e)&&(e=e.replace(/30$/,".5")),a=parseFloat(e),Math.abs(a)>100&&(a/=100),(a*=-1)>=0&&(a="+"+a);var n="etc/gmt"+a;return t.timezones[n]&&(t.tz=n),t},H=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=(e=e.replace(/^\s+/,"").toLowerCase()).match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\.]?([0-9]{1,4})?/);if(null!==a){var n=Number(a[1]);if(n<0||n>24)return t.startOf("day");var r=Number(a[2]);if(a[2].length<2||r<0||r>59)return t.startOf("day");a[4]>999&&(a[4]=parseInt("".concat(a[4]).substring(0,3),10)),t=(t=(t=(t=t.hour(n)).minute(r)).seconds(a[3]||0)).millisecond(a[4]||0);var i=e.match(/[\b0-9](am|pm)\b/);return null!==i&&i[1]&&(t=t.ampm(i[1])),t}if(null!==(a=e.match(/([0-9]+) ?(am|pm)/))&&a[1]){var o=Number(a[1]);return o>12||o<1?t.startOf("day"):t=(t=(t=t.hour(a[1]||0)).ampm(a[2])).startOf("hour")}return t=t.startOf("day")},B=[31,28,31,30,31,30,31,31,30,31,30,31],F=l((function(t,e){e.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},e.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.valueOf())},e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},e.isBoolean=function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},e.zeroPad=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a="0";return(t+="").length>=e?t:new Array(e-t.length+1).join(a)+t},e.titleCase=function(t){return t?t[0].toUpperCase()+t.substr(1):""},e.ordinal=function(t){var e=t%10,a=t%100;return 1===e&&11!==a?t+"st":2===e&&12!==a?t+"nd":3===e&&13!==a?t+"rd":t+"th"},e.toCardinal=function(t){return t=(t=String(t)).replace(/([0-9])(st|nd|rd|th)$/i,"$1"),parseInt(t,10)},e.normalize=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"day"===(t=(t=(t=(t=t.toLowerCase().trim()).replace(/ies$/,"y")).replace(/s$/,"")).replace(/-/g,""))||"days"===t?"date":"min"===t||"mins"===t?"minute":t},e.getEpoch=function(t){return"number"==typeof t?t:e.isDate(t)?t.getTime():t.epoch?t.epoch:null},e.beADate=function(t,a){return!1===e.isObject(t)?a.clone().set(t):t},e.formatTimezone=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t>0?"+":"-",r=Math.abs(t),i=e.zeroPad(parseInt(""+r,10)),o=e.zeroPad(r%1*60);return"".concat(n).concat(i).concat(a).concat(o)}})),W=(F.isLeapYear,F.isDate,F.isArray,F.isObject,F.isBoolean,F.zeroPad,F.titleCase,F.ordinal,F.toCardinal,F.normalize,F.getEpoch,F.beADate,F.formatTimezone,F.isLeapYear),J=function(t){if(!0!==B.hasOwnProperty(t.month))return!1;if(1===t.month)return!!(W(t.year)&&t.date<=29)||t.date<=28;var e=B[t.month]||0;return t.date<=e},Q=I.mapping(),K=function(){var t=arguments.length>1?arguments[1]:void 0,e=parseInt((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim(),10);return!e&&t&&(e=t.year),e=e||(new Date).getFullYear()},R=[{reg:/^(\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\-\+:]+)?$/i,parse:function(t,e,a,n){var r=parseInt(e[2],10)-1,i={year:e[1],month:r,date:e[3]};return!1===J(i)?(t.epoch=null,t):(L(t,e[5]),P(t,i),t=H(t,e[4]))}},{reg:/^([0-9]{4})[\-\/.]([0-9]{1,2})[\-\/.]([0-9]{1,2}),?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,parse:function(t,e){var a={year:e[1],month:parseInt(e[2],10)-1,date:parseInt(e[3],10)};return a.month>=12&&(a.date=parseInt(e[2],10),a.month=parseInt(e[3],10)-1),!1===J(a)?(t.epoch=null,t):(P(t,a),t=H(t,e[4]))}},{reg:/^([0-9]{1,2})[\-\/.]([0-9]{1,2})[\-\/.]?([0-9]{4})?,?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,parse:function(t,e){var a=parseInt(e[1],10)-1,n=parseInt(e[2],10);(t.british||a>=12)&&(n=parseInt(e[1],10),a=parseInt(e[2],10)-1);var r={year:e[3]||(new Date).getFullYear(),month:a,date:n};return!1===J(r)?(t.epoch=null,t):(P(t,r),t=H(t,e[4]))}},{reg:/^([0-9]{4})[\-\/]([0-9]{2})$/i,parse:function(t,e,a,n){var r=parseInt(e[2],10)-1,i={year:e[1],month:r,date:1};return!1===J(i)?(t.epoch=null,t):(L(t,e[5]),P(t,i),t=H(t,e[4]))}},{reg:/^([0-9]{1,2})[\-\/]([a-z]+)[\-\/]?([0-9]{4})?$/i,parse:function(t,e){var a=Q[e[2].toLowerCase()],n={year:K(e[3],t._today),month:a,date:F.toCardinal(e[1]||"")};return!1===J(n)?(t.epoch=null,t):(P(t,n),t=H(t,e[4]))}},{reg:/^([a-z]+)[\-\/]([0-9]{1,2})[\-\/]?([0-9]{4})?$/i,parse:function(t,e){var a=Q[e[1].toLowerCase()],n={year:K(e[3],t._today),month:a,date:F.toCardinal(e[2]||"")};return!1===J(n)?(t.epoch=null,t):(P(t,n),t=H(t,e[4]))}},{reg:/^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,parse:function(t,e){var a=Q[e[1].toLowerCase()],n={year:K(e[3],t._today),month:a,date:F.toCardinal(e[2]||"")};return!1===J(n)?(t.epoch=null,t):(P(t,n),t=H(t,e[4]))}},{reg:/^([a-z]+) ([0-9]{4})$/i,parse:function(t,e){var a=Q[e[1].toLowerCase()],n={year:K(e[2],t._today),month:a,date:t._today.date||1};return!1===J(n)?(t.epoch=null,t):(P(t,n),t=H(t,e[4]))}},{reg:/^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?,? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,parse:function(t,e){var a=Q[e[2].toLowerCase()];if(!a)return null;var n={year:K(e[3],t._today),month:a,date:F.toCardinal(e[1])};return!1===J(n)?(t.epoch=null,t):(P(t,n),t=H(t,e[4]))}},{reg:/^(q[0-9])( of)?( [0-9]{4})?/i,parse:function(t,e){var a=e[1]||"";t=t.quarter(a);var n=e[3]||"";return n&&(n=n.trim(),t=t.year(n)),t}},{reg:/^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,parse:function(t,e){var a=e[1]||"";t=t.season(a);var n=e[3]||"";return n&&(n=n.trim(),t=t.year(n)),t}},{reg:/^[0-9,]+ ?b\.?c\.?$/i,parse:function(t,e){var a=e[0]||"";a=(a=a.replace(/^([0-9,]+) ?b\.?c\.?$/i,"-$1")).replace(/,/g,"");var n=parseInt(a.trim(),10),r=new Date,i={year:n,month:r.getMonth(),date:r.getDate()};return!1===J(i)?(t.epoch=null,t):(P(t,i),t=H(t))}},{reg:/^[0-9,]+ ?(a\.?d\.?|c\.?e\.?)$/i,parse:function(t,e){var a=e[0]||"";a=a.replace(/,/g,"");var n=parseInt(a.trim(),10),r=new Date,i={year:n,month:r.getMonth(),date:r.getDate()};return!1===J(i)?(t.epoch=null,t):(P(t,i),t=H(t))}},{reg:/^[0-9]{4}( ?a\.?d\.?)?$/i,parse:function(t,e){var a=t._today,n=K(e[0],a),r=new Date;a.month&&!a.date&&(a.date=1);var i={year:n,month:a.month||r.getMonth(),date:a.date||r.getDate()};return!1===J(i)?(t.epoch=null,t):(P(t,i),t=H(t))}}],Z=function(t){return t.epoch=Date.now(),Object.keys(t._today||{}).forEach((function(e){"function"==typeof t[e]&&(t=t[e](t._today[e]))})),t},G={now:function(t){return Z(t)},today:function(t){return Z(t)},tonight:function(t){return t=(t=Z(t)).hour(18)},tomorrow:function(t){return t=(t=(t=Z(t)).add(1,"day")).startOf("day")},yesterday:function(t){return t=(t=(t=Z(t)).subtract(1,"day")).startOf("day")},christmas:function(t){var e=Z(t).year();return t=t.set([e,11,25,18,0,0])},"new years":function(t){var e=Z(t).year();return t=t.set([e,11,31,18,0,0])}};G["new years eve"]=G["new years"];var U=G,X=25e8,tt={year:(new Date).getFullYear(),month:0,date:1},et=function(t,e,a){if(0===e.length)return t;for(var n=["year","month","date","hour","minute","second","millisecond"],r=0;r<n.length;r++){var i=e[r]||a[n[r]]||tt[n[r]]||0;t=t[n[r]](i)}return t},at=function(t,e,a){if(0===Object.keys(e).length)return t;e=Object.assign({},tt,a,e);for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(void 0!==t[i]&&"function"==typeof t[i]&&null!==e[i]&&void 0!==e[i]&&""!==e[i]){var o=e[i]||a[i]||tt[i]||0;t=t[i](o)}}return t},nt=function(t,e,a){var n=t._today||tt;if("number"==typeof e)return e>0&&e<X&&!1===t.silent&&(console.warn("  - Warning: You are setting the date to January 1970."),console.warn("       -   did input seconds instead of milliseconds?")),t.epoch=e,t;if(t.epoch=Date.now(),t._today&&F.isObject(t._today)&&Object.keys(t._today).length>0){var r=at(t,n,tt);r.isValid()&&(t.epoch=r.epoch)}if(null==e||""===e)return t;if(!0===F.isDate(e))return t.epoch=e.getTime(),t;if(!0===F.isArray(e))return t=et(t,e,n);if(!0===F.isObject(e))return e.epoch?(t.epoch=e.epoch,t.tz=e.tz,t):t=at(t,e,n);if("string"!=typeof e)return t;if(e=(e=(e=e.replace(/\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\b/i,"")).replace(/,/g,"")).replace(/ +/g," ").trim(),!0===U.hasOwnProperty(e))return t=U[e](t);for(var i=0;i<R.length;i++){var o=e.match(R[i].reg);if(o){var u=R[i].parse(t,o,a);if(null!==u&&u.isValid())return u}}return!1===t.silent&&console.warn("Warning: couldn't parse date-string: '"+e+"'"),t.epoch=null,t},rt=["sun","mon","tue","wed","thu","fri","sat"],it=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],ot={short:function(){return rt},long:function(){return it},set:function(t){rt=t.short||rt,it=t.long||it},aliases:{tues:2,thur:4,thurs:4}},ut=!0,st={useTitleCase:function(){return ut},set:function(t){ut=t}},ct=function(t){var e=t.timezone().current.offset;return e?F.formatTimezone(e,":"):"Z"},dt=function(t){return st.useTitleCase()?F.titleCase(t):t},ht={day:function(t){return dt(t.dayName())},"day-short":function(t){return dt(ot.short()[t.day()])},"day-number":function(t){return t.day()},"day-ordinal":function(t){return F.ordinal(t.day())},"day-pad":function(t){return F.zeroPad(t.day())},date:function(t){return t.date()},"date-ordinal":function(t){return F.ordinal(t.date())},"date-pad":function(t){return F.zeroPad(t.date())},month:function(t){return dt(t.monthName())},"month-short":function(t){return dt(I.short()[t.month()])},"month-number":function(t){return t.month()},"month-ordinal":function(t){return F.ordinal(t.month())},"month-pad":function(t){return F.zeroPad(t.month())},"iso-month":function(t){return F.zeroPad(t.month()+1)},year:function(t){var e=t.year();return e>0?e:(e=Math.abs(e),e+" BC")},"year-short":function(t){var e=t.year();return e>0?"'".concat(String(t.year()).substr(2,4)):(e=Math.abs(e))+" BC"},"iso-year":function(t){var e=t.year(),a=e<0,n=F.zeroPad(Math.abs(e),4);return a&&(n="-"+(n=F.zeroPad(n,6))),n},time:function(t){return t.time()},"time-24":function(t){return"".concat(t.hour24(),":").concat(F.zeroPad(t.minute()))},hour:function(t){return t.hour12()},"hour-pad":function(t){return F.zeroPad(t.hour12())},"hour-24":function(t){return t.hour24()},"hour-24-pad":function(t){return F.zeroPad(t.hour24())},minute:function(t){return t.minute()},"minute-pad":function(t){return F.zeroPad(t.minute())},second:function(t){return t.second()},"second-pad":function(t){return F.zeroPad(t.second())},ampm:function(t){return t.ampm()},quarter:function(t){return"Q"+t.quarter()},season:function(t){return t.season()},era:function(t){return t.era()},json:function(t){return t.json()},timezone:function(t){return t.timezone().name},offset:function(t){return ct(t)},numeric:function(t){return"".concat(t.year(),"/").concat(F.zeroPad(t.month()+1),"/").concat(F.zeroPad(t.date()))},"numeric-us":function(t){return"".concat(F.zeroPad(t.month()+1),"/").concat(F.zeroPad(t.date()),"/").concat(t.year())},"numeric-uk":function(t){return"".concat(F.zeroPad(t.date()),"/").concat(F.zeroPad(t.month()+1),"/").concat(t.year())},"mm/dd":function(t){return"".concat(F.zeroPad(t.month()+1),"/").concat(F.zeroPad(t.date()))},iso:function(t){var e=t.format("iso-year"),a=F.zeroPad(t.month()+1),n=F.zeroPad(t.date()),r=F.zeroPad(t.h24()),i=F.zeroPad(t.minute()),o=F.zeroPad(t.second()),u=F.zeroPad(t.millisecond(),3),s=ct(t);return"".concat(e,"-").concat(a,"-").concat(n,"T").concat(r,":").concat(i,":").concat(o,".").concat(u).concat(s)},"iso-short":function(t){var e=F.zeroPad(t.month()+1),a=F.zeroPad(t.date());return"".concat(t.year(),"-").concat(e,"-").concat(a)},"iso-utc":function(t){return new Date(t.epoch).toISOString()},nice:function(t){return"".concat(I.short()[t.month()]," ").concat(F.ordinal(t.date()),", ").concat(t.time())},"nice-year":function(t){return"".concat(I.short()[t.month()]," ").concat(F.ordinal(t.date()),", ").concat(t.year())},"nice-day":function(t){return"".concat(ot.short()[t.day()]," ").concat(dt(I.short()[t.month()])," ").concat(F.ordinal(t.date()))},"nice-full":function(t){return"".concat(t.dayName()," ").concat(dt(t.monthName())," ").concat(F.ordinal(t.date()),", ").concat(t.time())}},lt={"day-name":"day","month-name":"month","iso 8601":"iso","time-h24":"time-24","time-12":"time","time-h12":"time",tz:"timezone","day-num":"day-number","month-num":"month-number","month-iso":"iso-month","year-iso":"iso-year","nice-short":"nice",mdy:"numeric-us",dmy:"numeric-uk",ymd:"numeric","yyyy/mm/dd":"numeric","mm/dd/yyyy":"numeric-us","dd/mm/yyyy":"numeric-us","little-endian":"numeric-uk","big-endian":"numeric","day-nice":"nice-day"};Object.keys(lt).forEach((function(t){return ht[t]=ht[lt[t]]}));var mt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!0!==t.isValid())return"";if(ht.hasOwnProperty(e)){var a=ht[e](t)||"";return"json"!==e&&(a=String(a),"ampm"!==e&&(a=dt(a))),a}if(-1!==e.indexOf("{")){var n=/\{(.+?)\}/g;return e=e.replace(n,(function(e,a){return a=a.toLowerCase().trim(),ht.hasOwnProperty(a)?String(ht[a](t)):""}))}return t.format("iso-short")},ft=F.zeroPad,yt=F.formatTimezone,pt={G:function(t){return t.era()},GG:function(t){return t.era()},GGG:function(t){return t.era()},GGGG:function(t){return"AD"===t.era()?"Anno Domini":"Before Christ"},y:function(t){return t.year()},yy:function(t){return parseInt(String(t.year()).substr(2,4),10)},yyy:function(t){return t.year()},yyyy:function(t){return t.year()},yyyyy:function(t){return"0"+t.year()},Q:function(t){return t.quarter()},QQ:function(t){return t.quarter()},QQQ:function(t){return t.quarter()},QQQQ:function(t){return t.quarter()},M:function(t){return t.month()+1},MM:function(t){return ft(t.month()+1)},MMM:function(t){return t.format("month-short")},MMMM:function(t){return t.format("month")},w:function(t){return t.week()},ww:function(t){return ft(t.week())},d:function(t){return t.date()},dd:function(t){return ft(t.date())},D:function(t){return t.dayOfYear()},DD:function(t){return ft(t.dayOfYear())},DDD:function(t){return ft(t.dayOfYear(),3)},E:function(t){return t.format("day-short")},EE:function(t){return t.format("day-short")},EEE:function(t){return t.format("day-short")},EEEE:function(t){return t.format("day")},EEEEE:function(t){return t.format("day")[0]},e:function(t){return t.day()},ee:function(t){return t.day()},eee:function(t){return t.format("day-short")},eeee:function(t){return t.format("day")},eeeee:function(t){return t.format("day")[0]},a:function(t){return t.ampm().toUpperCase()},aa:function(t){return t.ampm().toUpperCase()},aaa:function(t){return t.ampm().toUpperCase()},aaaa:function(t){return t.ampm().toUpperCase()},h:function(t){return t.h12()},hh:function(t){return ft(t.h12())},H:function(t){return t.hour()},HH:function(t){return ft(t.hour())},m:function(t){return t.minute()},mm:function(t){return ft(t.minute())},s:function(t){return t.second()},ss:function(t){return ft(t.second())},A:function(t){return t.epoch-t.startOf("day").epoch},z:function(t){return t.timezone().name},zz:function(t){return t.timezone().name},zzz:function(t){return t.timezone().name},zzzz:function(t){return t.timezone().name},Z:function(t){return yt(t.timezone().current.offset)},ZZ:function(t){return yt(t.timezone().current.offset)},ZZZ:function(t){return yt(t.timezone().current.offset)},ZZZZ:function(t){return yt(t.timezone().current.offset,":")}},gt=function(t,e,a){for(var n=t,r=e,i=0;i<a;i+=1)pt[n]=pt[r],n+=t,r+=e};gt("q","Q",4),gt("L","M",4),gt("Y","y",4),gt("c","e",4),gt("k","H",2),gt("K","h",2),gt("S","s",2),gt("v","z",4),gt("V","Z",4);var vt=function(t){for(var e=0;e<t.length;e+=1)if("'"===t[e])for(var a=e+1;a<t.length;a+=1){if(t[a]&&(t[e]+=t[a]),"'"===t[a]){t[a]=null;break}t[a]=null}return t.filter((function(t){return t}))},bt=function(t){for(var e=0;e<t.length;e+=1)for(var a=t[e],n=e+1;n<t.length&&t[n]===a;n+=1)t[e]+=t[n],t[n]=null;return t=(t=t.filter((function(t){return t}))).map((function(t){return"''"===t&&(t="'"),t}))},wt=function(t,e){var a=e.split("");return a=vt(a),(a=bt(a)).reduce((function(e,a){return void 0!==pt[a]?e+=pt[a](t)||"":(/^'.{1,}'$/.test(a)&&(a=a.replace(/'/g,"")),e+=a),e}),"")},kt=["year","season","quarter","month","week","day","quarterHour","hour","minute"],Dt=function(t,e){var a=t.clone().startOf(e),n=t.clone().endOf(e).epoch-a.epoch,r=(t.epoch-a.epoch)/n;return parseFloat(r.toFixed(2))},At=function(t,e){if(e)return e=F.normalize(e),Dt(t,e);var a={};return kt.forEach((function(e){a[e]=Dt(t,e)})),a},Ot=function(t,e){var a=t.progress();return"quarterhour"===(e=F.normalize(e))&&(e="quarterHour"),void 0!==a[e]?(a[e]>.5&&(t=t.add(1,e)),t=t.startOf(e)):!1===t.silent&&console.warn("no known unit '"+e+"'"),t},xt=function(t,e,a){var n=0;for(t=t.clone();t.isBefore(e);)t=t.add(1,a),n+=1;return t.isAfter(e,a)&&(n-=1),n},zt=function(t,e,a){return t.isBefore(e)?xt(t,e,a):-1*xt(e,t,a)},jt=function(t,e){var a=e.year()-t.year();return(t=t.year(e.year())).isAfter(e)&&(a-=1),a},_t=function(t,e){var a=e.epoch-t.epoch,n={milliseconds:a,seconds:parseInt(a/1e3,10)};n.minutes=parseInt(n.seconds/60,10),n.hours=parseInt(n.minutes/60,10);var r=t.clone();return n.years=jt(r,e),r=t.add(n.years,"year"),n.months=12*n.years,r=t.add(n.months,"month"),n.months+=zt(r,e,"month"),n.weeks=52*n.years,r=t.add(n.weeks,"week"),n.weeks+=zt(r,e,"week"),n.days=7*n.weeks,r=t.add(n.days,"day"),n.days+=zt(r,e,"day"),n},Tt=function(t){return Object.keys(t).forEach((function(e){t[e]*=-1})),t},Mt=function(t,e,a){e=F.beADate(e,t);var n=!1;if(t.isAfter(e)){var r=t;t=e,e=r,n=!0}var i=_t(t,e);return n&&(i=Tt(i)),a?(a=F.normalize(a),!0!==/s$/.test(a)&&(a+="s"),"dates"===a&&(a="days"),i[a]):i},qt={months:{almost:10,over:4},days:{almost:25,over:10},hours:{almost:20,over:8},minutes:{almost:50,over:20},seconds:{almost:50,over:20}};function St(t,e){var a=t.isBefore(e),n=a?e:t,r=a?t:e;r=r.clone();var i={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return Object.keys(i).forEach((function(t){if(!r.isSame(n,t)){var e=r.diff(n,t);r=r.add(e,t),i[t]=e}})),a&&Object.keys(i).forEach((function(t){0!==i[t]&&(i[t]*=-1)})),i}function Vt(t,e){return 1===t&&(e=e.slice(0,-1)),t+" "+e}var Et=function(t,e){var a,n,r,i=St(t,e=F.beADate(e,t));if(!0===Object.keys(i).every((function(t){return!i[t]})))return{diff:i,rounded:"now",qualified:"now",precise:"now"};var o=[];return Object.keys(i).forEach((function(t,e,r){var u=Math.abs(i[t]);if(0!==u){var s=Vt(u,t);if(o.push(s),!a){if(a=n=s,e>4)return;var c=r[e+1],d=Math.abs(i[c]);d>qt[c].almost?(a=Vt(u+1,t),n="almost "+a):d>qt[c].over&&(n="over "+s)}}})),r=o.splice(0,2).join(", "),!0===t.isAfter(e)?(a+=" ago",n+=" ago",r+=" ago"):(a="in "+a,n="in "+n,r="in "+r),{diff:i,rounded:a,qualified:n,precise:r}},Ct={north:[["spring",2,1],["summer",5,1],["fall",8,1],["autumn",8,1],["winter",11,1]],south:[["fall",2,1],["autumn",2,1],["winter",5,1],["spring",8,1],["summer",11,1]]},Pt=[null,[0,1],[3,1],[6,1],[9,1]],Nt={minute:function(t){return P(t,{second:0,millisecond:0}),t},quarterhour:function(t){var e=t.minutes();return t=e>=45?t.minutes(45):e>=30?t.minutes(30):e>=15?t.minutes(15):t.minutes(0),P(t,{second:0,millisecond:0}),t},hour:function(t){return P(t,{minute:0,second:0,millisecond:0}),t},day:function(t){return P(t,{hour:0,minute:0,second:0,millisecond:0}),t},week:function(t){var e=t.clone();return(t=t.day(t._weekStart)).isAfter(e)&&(t=t.subtract(1,"week")),P(t,{hour:0,minute:0,second:0,millisecond:0}),t},month:function(t){return P(t,{date:1,hour:0,minute:0,second:0,millisecond:0}),t},quarter:function(t){var e=t.quarter();return Pt[e]&&P(t,{month:Pt[e][0],date:Pt[e][1],hour:0,minute:0,second:0,millisecond:0}),t},season:function(t){var e=t.season(),a="north";"South"===t.hemisphere()&&(a="south");for(var n=0;n<Ct[a].length;n++)if(Ct[a][n][0]===e){var r=t.year();return"winter"===e&&t.month()<3&&(r-=1),P(t,{year:r,month:Ct[a][n][1],date:Ct[a][n][2],hour:0,minute:0,second:0,millisecond:0}),t}return t},year:function(t){return P(t,{month:0,date:1,hour:0,minute:0,second:0,millisecond:0}),t},decade:function(t){var e=(t=t.startOf("year")).year(),a=10*parseInt(e/10,10);return t=t.year(a)},century:function(t){var e=(t=t.startOf("year")).year(),a=100*parseInt(e/100,10);return t=t.year(a)}};Nt.date=Nt.day;var Yt={startOf:function(t,e){var a=t.clone();return e=F.normalize(e),Nt[e]?Nt[e](a):"summer"===e||"winter"===e?(a=a.season(e),Nt.season(a)):a},endOf:function(t,e){var a=t.clone();return e=F.normalize(e),Nt[e]?a=(a=(a=Nt[e](a)).add(1,e)).subtract(1,"milliseconds"):a}},$t=function(t){return!!ot.short().find((function(e){return e===t}))||!!ot.long().find((function(e){return e===t}))},It=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;if(!e||!a)return[];if(e=F.normalize(e),a=t.clone().set(a),t.isAfter(a)){var n=t;t=a,a=n}var r=t.clone();$t(e)?(r=r.next(e),e="week"):r=r.next(e);for(var i=[];r.isBefore(a);)i.push(r),r=r.add(1,e);return i},Lt=function(t){return t?t.split("->"):[]},Ht=function(t){return t=(t=(t=t[0].toUpperCase()+t.substr(1)).replace(/\/gmt/,"/GMT")).replace(/[\/_]([a-z])/gi,(function(t){return t.toUpperCase()}))},Bt=function(t){var e=t.timezones,a=t.tz;if(!1===e.hasOwnProperty(a)&&(a=q(t.tz,e)),null===a)return!1===t.silent&&console.warn("Warn: could not find given or local timezone - '"+t.tz+"'"),{current:{epochShift:0}};var n=e[a],r={name:Ht(a),hasDst:Boolean(n.dst),default_offset:n.offset,hemisphere:"s"===n.hem?"South":"North",current:{}};if(r.hasDst){var i=Lt(n.dst);r.change={start:i[0],back:i[1]}}var o=n.offset,u=o;return!0===r.hasDst&&(u="North"===r.hemisphere?o-1:n.offset+1),!1===r.hasDst?(r.current.offset=o,r.current.isDST=!1):!0===s(t.epoch,r.change.start,r.change.back,o,u)?(r.current.offset=o,r.current.isDST="North"===r.hemisphere):(r.current.offset=u,r.current.isDST="South"===r.hemisphere),r},Ft=["century","decade","year","month","date","day","hour","minute","second","millisecond"],Wt={set:function(t,e){var a=this.clone();return a=nt(a,t,null),e&&(this.tz=q(e)),a},timezone:function(){return Bt(this)},isDST:function(){return Bt(this).current.isDST},hasDST:function(){return Bt(this).hasDst},offset:function(){return 60*Bt(this).current.offset},hemisphere:function(){return Bt(this).hemisphere},format:function(t){return mt(this,t)},unixFmt:function(t){return wt(this,t)},startOf:function(t){return Yt.startOf(this,t)},endOf:function(t){return Yt.endOf(this,t)},leapYear:function(){var t=this.year();return F.isLeapYear(t)},progress:function(t){return At(this,t)},nearest:function(t){return Ot(this,t)},diff:function(t,e){return Mt(this,t,e)},since:function(t){return t||(t=this.clone().set()),Et(this,t)},next:function(t){return this.add(1,t).startOf(t)},last:function(t){return this.subtract(1,t).startOf(t)},isValid:function(){return!(!this.epoch&&0!==this.epoch||isNaN(this.d.getTime()))},goto:function(t){var e=this.clone();return e.tz=q(t,e.timezones),e},every:function(t,e){return It(this,t,e)},isAwake:function(){var t=this.hour();return!(t<8||t>22)},isAsleep:function(){return!this.isAwake()},log:function(){return console.log(""),console.log(mt(this,"nice-short")),this},logYear:function(){return console.log(""),console.log(mt(this,"full-short")),this},json:function(){var t=this;return Ft.reduce((function(e,a){return e[a]=t[a](),e}),{})},debug:function(){var t=this.timezone(),e=this.format("MM")+" "+this.format("date-ordinal")+" "+this.year();return e+="\n     - "+this.format("time"),console.log("\n\n",e+"\n     - "+t.name+" ("+t.current.offset+")"),this},from:function(t){return(t=this.clone().set(t)).since(this)},fromNow:function(){return this.clone().set(Date.now()).since(this)},weekStart:function(t){if("number"==typeof t)return this._weekStart=t,this;if("string"==typeof t){t=t.toLowerCase().trim();var e=ot.short().indexOf(t);-1===e&&(e=ot.long().indexOf(t)),-1===e&&(e=1),this._weekStart=e}else console.warn("Spacetime Error: Cannot understand .weekStart() input:",t);return this}};Wt.inDST=Wt.isDST,Wt.round=Wt.nearest,Wt.each=Wt.every;var Jt=Wt,Qt=F.isLeapYear,Kt=function(t){return"string"==typeof t&&(t=parseInt(t,10)),t},Rt=["year","month","date","hour","minute","second","millisecond"],Zt=function(t,e,a){for(var n=Rt.indexOf(a),r=Rt.slice(n,Rt.length),i=0;i<r.length;i++){var o=e[r[i]]();t[r[i]](o)}return t},Gt={milliseconds:function(t,e){e=Kt(e);var a=t.millisecond()-e;return t.epoch-a},seconds:function(t,e){e=Kt(e);var a=(t.second()-e)*V.second;return t.epoch-a},minutes:function(t,e){e=Kt(e);var a=t.clone(),n=(t.minute()-e)*V.minute;return t.epoch-=n,Zt(t,a,"second"),t.epoch},hours:function(t,e){(e=Kt(e))>=24?e=24:e<0&&(e=0);var a=t.clone(),n=t.hour()-e,r=n*V.hour;return t.epoch-=r,t.date()!==a.date()&&(t=a.clone(),n>1&&(n-=1),n<1&&(n+=1),r=n*V.hour,t.epoch-=r),P(t,{hour:e}),Zt(t,a,"minute"),t.epoch},time:function(t,e){var a=e.match(/([0-9]{1,2})[:h]([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);if(!a){if(!(a=e.match(/([0-9]{1,2}) ?(am|pm)/)))return t.epoch;a.splice(2,0,"0"),a.splice(3,0,"")}var n=!1,r=parseInt(a[1],10),i=parseInt(a[2],10);r>12&&(n=!0),!1===n&&("am"===a[4]&&12===r&&(r=0),"pm"===a[4]&&r<12&&(r+=12)),a[3]=a[3]||"",a[3]=a[3].replace(/:/,"");var o=parseInt(a[3],10)||0;return(t=(t=(t=(t=t.hour(r)).minute(i)).second(o)).millisecond(0)).epoch},date:function(t,e){if((e=Kt(e))>28){var a=t.month(),n=B[a];1===a&&29===e&&Qt(t.year())&&(n=29),e>n&&(e=n)}return e<=0&&(e=1),P(t,{date:e}),t.epoch},month:function(t,e){"string"==typeof e&&(e=I.mapping()[e.toLowerCase()]),(e=Kt(e))>=12&&(e=11),e<=0&&(e=0);var a=t.date();return a>B[e]&&(a=B[e]),P(t,{month:e,date:a}),t.epoch},year:function(t,e){return"string"==typeof e&&/^'[0-9]{2}$/.test(e)&&(e=e.replace(/'/,"").trim(),e=(e=Number(e))>30?1900+e:2e3+e),e=Kt(e),P(t,{year:e}),t.epoch},dayOfYear:function(t,e){e=Kt(e);var a=t.clone();return(e-=1)<=0?e=0:e>=365&&(e=364),t=(t=t.startOf("year")).add(e,"day"),Zt(t,a,"hour"),t.epoch}},Ut={millisecond:function(t){if(void 0!==t){var e=this.clone();return e.epoch=Gt.milliseconds(e,t),e}return this.d.getMilliseconds()},second:function(t){if(void 0!==t){var e=this.clone();return e.epoch=Gt.seconds(e,t),e}return this.d.getSeconds()},minute:function(t){if(void 0!==t){var e=this.clone();return e.epoch=Gt.minutes(e,t),e}return this.d.getMinutes()},hour:function(t){var e=this.d;if(void 0!==t){var a=this.clone();return a.epoch=Gt.hours(a,t),a}return e.getHours()},hourFloat:function(t){if(void 0!==t){var e=this.clone(),a=t%1;a*=60;var n=parseInt(t,10);return e.epoch=Gt.hours(e,n),e.epoch=Gt.minutes(e,a),e}var r=this.d,i=r.getHours(),o=r.getMinutes();return i+(o/=60)},hour12:function(t){var e=this.d;if(void 0!==t){var a=this.clone(),n=(t=""+t).match(/^([0-9]+)(am|pm)$/);if(n){var r=parseInt(n[1],10);"pm"===n[2]&&(r+=12),a.epoch=Gt.hours(a,r)}return a}var i=e.getHours();return i>12&&(i-=12),0===i&&(i=12),i},time:function(t){if(void 0!==t){var e=this.clone();return t=t.toLowerCase().trim(),e.epoch=Gt.time(e,t),e}return"".concat(this.h12(),":").concat(F.zeroPad(this.minute())).concat(this.ampm())},ampm:function(t){var e="am",a=this.hour();if(a>=12&&(e="pm"),"string"!=typeof t)return e;var n=this.clone();return t=t.toLowerCase().trim(),a>=12&&"am"===t?(a-=12,n.hour(a)):a<12&&"pm"===t?(a+=12,n.hour(a)):n},dayTime:function(t){if(void 0!==t){var e={morning:"7:00am",breakfast:"7:00am",noon:"12:00am",lunch:"12:00pm",afternoon:"2:00pm",evening:"6:00pm",dinner:"6:00pm",night:"11:00pm",midnight:"23:59pm"},a=this.clone();return t=(t=t||"").toLowerCase(),!0===e.hasOwnProperty(t)&&(a=a.time(e[t])),a}var n=this.hour();return n<6?"night":n<12?"morning":n<17?"afternoon":n<22?"evening":"night"},iso:function(t){return void 0!==t?this.set(t):this.format("iso")}},Xt={date:function(t){if(void 0!==t){var e=this.clone();return e.epoch=Gt.date(e,t),e}return this.d.getDate()},day:function(t){if(void 0===t)return this.d.getDay();var e=this.clone(),a=t;"string"==typeof t&&(t=t.toLowerCase(),ot.aliases.hasOwnProperty(t)?a=ot.aliases[t]:-1===(a=ot.short().indexOf(t))&&(a=ot.long().indexOf(t)));var n=this.d.getDay(),r=n-a,i=this.subtract(r,"days");return P(i,{hour:e.hour(),minute:e.minute(),second:e.second()}),i},dayName:function(t){if(void 0===t)return ot.long()[this.day()];var e=this.clone();return e=e.day(t)},month:function(t){if(void 0!==t){var e=this.clone();return e.epoch=Gt.month(e,t),e}return this.d.getMonth()}},te=function(t){return t=(t=(t=t.minute(0)).second(0)).millisecond(1)},ee={dayOfYear:function(t){if(void 0!==t){var e=this.clone();return e.epoch=Gt.dayOfYear(e,t),e}for(var a,n=0,r=this.d.getMonth(),i=1;i<=r;i++)(a=new Date).setDate(1),a.setFullYear(this.d.getFullYear()),a.setHours(1),a.setMinutes(1),a.setMonth(i),a.setHours(-2),n+=a.getDate();return n+this.d.getDate()},week:function(t){if(void 0!==t){var e=this.clone();return e=(e=(e=e.month(0)).date(1)).day("monday"),"december"===(e=te(e)).monthName()&&e.date()>=28&&(e=e.add(1,"week")),t-=1,e=e.add(t,"weeks")}var a=this.clone();a=(a=a.month(0)).date(1),"december"===(a=(a=te(a)).day("monday")).monthName()&&a.date()>=28&&(a=a.add(1,"week"));var n=1;1===a.date()&&(n=0),a=a.minus(1,"second");var r=this.epoch;if(a.epoch>r)return 1;var i=0,o=4*this.month();for(a.epoch+=V.week*o,i+=o;i<52;i++){if(a.epoch>r)return i+n;a=a.add(1,"week")}return 52},monthName:function(t){if(void 0===t)return I.long()[this.month()];var e=this.clone();return e=e.month(t)},quarter:function(t){if(void 0!==t&&("string"==typeof t&&(t=t.replace(/^q/i,""),t=parseInt(t,10)),Pt[t])){var e=this.clone(),a=Pt[t][0];return e=(e=(e=e.month(a)).date(1)).startOf("day")}for(var n=this.d.getMonth(),r=1;r<Pt.length;r++)if(n<Pt[r][0])return r-1;return 4},season:function(t){var e="north";if("South"===this.hemisphere()&&(e="south"),void 0!==t){for(var a=this.clone(),n=0;n<Ct[e].length;n++)t===Ct[e][n][0]&&(a=(a=(a=a.month(Ct[e][n][1])).date(1)).startOf("day"));return a}for(var r=this.d.getMonth(),i=0;i<Ct[e].length-1;i++)if(r>=Ct[e][i][1]&&r<Ct[e][i+1][1])return Ct[e][i][0];return"winter"},year:function(t){if(void 0!==t){var e=this.clone();return e.epoch=Gt.year(e,t),e}return this.d.getFullYear()},era:function(t){if(void 0!==t){var e=this.clone();t=t.toLowerCase();var a=e.d.getFullYear();return"bc"===t&&a>0&&(e.epoch=Gt.year(e,-1*a)),"ad"===t&&a<0&&(e.epoch=Gt.year(e,-1*a)),e}return this.d.getFullYear()<0?"BC":"AD"},decade:function(t){if(void 0!==t){if(!(t=(t=(t=String(t)).replace(/([0-9])'?s$/,"$1")).replace(/([0-9])(th|rd|st|nd)/,"$1")))return console.warn("Spacetime: Invalid decade input"),this;2===t.length&&/[0-9][0-9]/.test(t)&&(t="19"+t);var e=Number(t);return isNaN(e)?this:(e=10*Math.floor(e/10),this.year(e))}return this.startOf("decade").year()},century:function(t){if(void 0!==t){"string"==typeof t&&(t=(t=(t=t.replace(/([0-9])(th|rd|st|nd)/,"$1")).replace(/([0-9]+) ?(b\.?c\.?|a\.?d\.?)/i,(function(t,e,a){return a.match(/b\.?c\.?/i)&&(e="-"+e),e}))).replace(/c$/,""));var e=Number(t);return isNaN(t)?(console.warn("Spacetime: Invalid century input"),this):(0===e&&(e=1),e=e>=0?100*(e-1):100*(e+1),this.year(e))}var a=this.startOf("century").year();return(a=Math.floor(a/100))<0?a-1:a+1},millenium:function(t){if(void 0!==t){if("string"==typeof t&&(t=t.replace(/([0-9])(th|rd|st|nd)/,"$1"),t=Number(t),isNaN(t)))return console.warn("Spacetime: Invalid millenium input"),this;t>0&&(t-=1);var e=1e3*t;return 0===e&&(e=1),this.year(e)}var a=Math.floor(this.year()/1e3);return a>=0&&(a+=1),a}},ae=Object.assign({},Ut,Xt,ee);ae.milliseconds=ae.millisecond,ae.seconds=ae.second,ae.minutes=ae.minute,ae.hours=ae.hour,ae.hour24=ae.hour,ae.h12=ae.hour12,ae.h24=ae.hour24,ae.days=ae.day;var ne=function(t){Object.keys(ae).forEach((function(e){t.prototype[e]=ae[e]}))},re=F.isLeapYear,ie=function(t,e){return 1===t&&re(e)?29:B[t]},oe={months:function(t,e){if(t.month>0){var a=parseInt(t.month/12,10);t.year=e.year()+a,t.month=t.month%12}else if(t.month<0){var n=Math.floor(Math.abs(t.month)/13,10);n=Math.abs(n)+1,t.year=e.year()-n,t.month=t.month%12,t.month=t.month+12,12===t.month&&(t.month=0)}return t},days:function(t,e,a){for(var n=e.year(),r=e.month(),i=ie(r,n);a>i;)a-=i,(r+=1)>=12&&(r-=12,n+=1),i=ie(r,n);return t.month=r,t.date=a,t},daysBack:function(t,e,a){t.year=e.year(),t.month=e.month();var n=e.date();for(t.date=n-Math.abs(a);t.date<1;){t.month-=1,t.month<0&&(t.month=11,t.year-=1);var r=ie(t.month,t.year);t.date+=r}return t}},ue=["millisecond","second","minute","hour","date","month"],se={second:ue.slice(0,1),minute:ue.slice(0,2),quarterhour:ue.slice(0,2),hour:ue.slice(0,3),date:ue.slice(0,4),month:ue.slice(0,4),quarter:ue.slice(0,4),season:ue.slice(0,4),year:ue,decade:ue,century:ue};se.week=se.hour,se.season=se.date,se.quarter=se.date;var ce={year:!0,quarter:!0,season:!0,month:!0,week:!0,day:!0},de={month:!0,quarter:!0,season:!0,year:!0},he=function(t){t.prototype.add=function(t,e){var a=this.clone();if(!e||0===t)return a;var n=this.clone();"fortnight"===(e=F.normalize(e))&&(t*=2,e="week"),V[e]?a.epoch+=V[e]*t:"week"===e?a.epoch+=V.day*(7*t):"quarter"===e||"season"===e?a.epoch+=V.month*(3.1*t):"quarterhour"===e&&(a.epoch+=15*V.minute*t);var r={};if(se[e]&&se[e].forEach((function(t){r[t]=n[t]()})),ce[e]){var i=n.timezone().current.offset-a.timezone().current.offset;a.epoch+=3600*i*1e3}if("month"===e&&(r.month=n.month()+t,r=oe.months(r,n)),"week"===e){var o=n.date()+7*t;o<=28&&o>1&&(r.date=o)}else if("date"===e){if(t<0)r=oe.daysBack(r,n,t);else{var u=n.date()+t;r=oe.days(r,n,u)}0!==t&&n.isSame(a,"day")&&(r.date=n.date()+t)}else if("year"===e){var s=n.year()+t,c=a.year();(c<s||c>s)&&(a.epoch+=V.day)}else"decade"===e?r.year=a.year()+10:"century"===e&&(r.year=a.year()+100);if(de[e]){var d=B[r.month];r.date=n.date(),r.date>d&&(r.date=d)}return P(a,r),a},t.prototype.subtract=function(t,e){return this.clone().add(-1*t,e)},t.prototype.minus=t.prototype.subtract,t.prototype.plus=t.prototype.add},le={millisecond:function(t){return t.epoch},second:function(t){return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second()].join("-")},minute:function(t){return[t.year(),t.month(),t.date(),t.hour(),t.minute()].join("-")},hour:function(t){return[t.year(),t.month(),t.date(),t.hour()].join("-")},day:function(t){return[t.year(),t.month(),t.date()].join("-")},week:function(t){return[t.year(),t.week()].join("-")},month:function(t){return[t.year(),t.month()].join("-")},quarter:function(t){return[t.year(),t.quarter()].join("-")},year:function(t){return t.year()}};le.date=le.day;var me=function(t){t.prototype.isSame=function(e,a){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this;return a?("string"!=typeof e&&"number"!=typeof e||(e=new t(e,this.timezone.name)),a=a.replace(/s$/,""),!0===n&&r.tz!==e.tz&&((e=e.clone()).tz=r.tz),le[a]?le[a](r)===le[a](e):null):null}},fe=function(t){var e={isAfter:function(t){t=F.beADate(t,this);var e=F.getEpoch(t);return null===e?null:this.epoch>e},isBefore:function(t){t=F.beADate(t,this);var e=F.getEpoch(t);return null===e?null:this.epoch<e},isEqual:function(t){t=F.beADate(t,this);var e=F.getEpoch(t);return null===e?null:this.epoch===e},isBetween:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=F.beADate(t,this),e=F.beADate(e,this);var n=F.getEpoch(t);if(null===n)return null;var r=F.getEpoch(e);return null===r?null:a?this.isBetween(t,e)||this.isEqual(t)||this.isEqual(e):n<this.epoch&&this.epoch<r}};Object.keys(e).forEach((function(a){t.prototype[a]=e[a]}))},ye=function(t){var e={i18n:function(t){F.isObject(t.days)&&ot.set(t.days),F.isObject(t.months)&&I.set(t.months),F.isBoolean(t.useTitleCase)&&st.set(t.useTitleCase)}};Object.keys(e).forEach((function(a){t.prototype[a]=e[a]}))},pe=b,ge=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.epoch=null,this.tz=q(e,pe),this.silent=a.silent||!0,this.british=a.dmy||a.british,this._weekStart=1,void 0!==a.weekStart&&(this._weekStart=a.weekStart),this._today={},void 0!==a.today&&(this._today=a.today),Object.defineProperty(this,"d",{get:function(){var t=c(this),e=(new Date(this.epoch).getTimezoneOffset()||0)+60*t;e=60*e*1e3;var a=this.epoch+e;return new Date(a)}}),Object.defineProperty(this,"timezones",{get:function(){return pe},set:function(t){return pe=t,t}});var n=nt(this,t,e);this.epoch=n.epoch};Object.keys(Jt).forEach((function(t){ge.prototype[t]=Jt[t]})),ge.prototype.clone=function(){return new ge(this.epoch,this.tz,{silent:this.silent,weekStart:this._weekStart,today:this._today})},ge.prototype.toLocalDate=function(){return new Date(this.epoch)},ne(ge),he(ge),me(ge),fe(ge),ye(ge);var ve=ge,be=function(t,e){var a=new ve(null),n=new ve(null);a=a.time(t),n=e?n.time(e):a.add(59,"minutes");var r=a.hour(),i=n.hour();return Object.keys(a.timezones).filter((function(t){if(-1===t.indexOf("/"))return!1;var e=new ve(null,t),o=e.hour();return o>=r&&o<=i&&!(o===r&&e.minute()<a.minute())&&!(o===i&&e.minute()>n.minute())}))},we="6.12.2",ke=function(t,e,a){return new ve(t,e,a)},De=function(t){var e=t._today||{};return Object.keys(e).forEach((function(a){t=t[a](e[a])})),t};return ke.now=function(t,e){var a=new ve((new Date).getTime(),t,e);return a=De(a)},ke.today=function(t,e){var a=new ve((new Date).getTime(),t,e);return(a=De(a)).startOf("day")},ke.tomorrow=function(t,e){var a=new ve((new Date).getTime(),t,e);return(a=De(a)).add(1,"day").startOf("day")},ke.yesterday=function(t,e){var a=new ve((new Date).getTime(),t,e);return(a=De(a)).subtract(1,"day").startOf("day")},ke.extend=function(t){return Object.keys(t).forEach((function(e){ve.prototype[e]=t[e]})),this},ke.whereIts=be,ke.version=we,ke.plugin=ke.extend,ke}()})),z="Australia/",j="Pacific/",_={"british summer time":"Europe/London",bst:"Europe/London","british time":"Europe/London","britain time":"Europe/London","irish summer time":"Europe/Dublin","irish time":"Europe/Dublin",ireland:"Europe/Dublin","central european time":"Europe/Berlin",cet:"Europe/Berlin","central european summer time":"Europe/Berlin",cest:"Europe/Berlin","central europe":"Europe/Berlin","eastern european time":"Europe/Riga",eet:"Europe/Riga","eastern european summer time":"Europe/Riga",eest:"Europe/Riga","eastern europe time":"Europe/Riga","western european time":"Europe/Lisbon","western european summer time":"Europe/Lisbon","western europe":"Europe/Lisbon","turkey standard time":"Europe/Istanbul",trt:"Europe/Istanbul","turkish time":"Europe/Istanbul",etc:"Africa/Freetown",utc:"Africa/Freetown","greenwich standard time":"Africa/Freetown",gmt:"Africa/Freetown","east africa time":"Africa/Nairobi","east african time":"Africa/Nairobi","eastern africa time":"Africa/Nairobi","central africa time":"Africa/Khartoum","central african time":"Africa/Khartoum","south africa standard time":"Africa/Johannesburg",sast:"Africa/Johannesburg","southern africa":"Africa/Johannesburg","south african":"Africa/Johannesburg","west africa standard time":"Africa/Lagos","western africa time":"Africa/Lagos","west african time":"Africa/Lagos","australian central standard time":z+"Adelaide",acst:z+"Adelaide","australian central daylight time":z+"Adelaide",acdt:z+"Adelaide","australia central":z+"Adelaide","australian eastern standard time":z+"Brisbane",aest:z+"Brisbane","australian eastern daylight time":z+"Brisbane",aedt:z+"Brisbane","australia east":z+"Brisbane","australian western standard time":z+"Perth",awst:z+"Perth","australian western daylight time":z+"Perth",awdt:z+"Perth","australia west":z+"Perth","australian central western standard time":z+"Eucla",acwst:z+"Eucla","australia central west":z+"Eucla","lord howe standard time":z+"Lord_Howe",lhst:z+"Lord_Howe","lord howe daylight time":z+"Lord_Howe",lhdt:z+"Lord_Howe","russian standard time":"Europe/Moscow",msk:"Europe/Moscow",russian:"Europe/Moscow","central standard time":"America/Chicago","central time":"America/Chicago",cst:"America/Havana","central daylight time":"America/Chicago",cdt:"America/Havana","mountain standard time":"America/Denver","mountain time":"America/Denver",mst:"America/Denver","mountain daylight time":"America/Denver",mdt:"America/Denver","atlantic standard time":"America/Halifax","atlantic time":"America/Halifax",ast:"Asia/Baghdad","atlantic daylight time":"America/Halifax",adt:"America/Halifax","eastern standard time":"America/New_York","eastern time":"America/New_York",est:"America/New_York","eastern daylight time":"America/New_York",edt:"America/New_York","pacific time":"America/Los_Angeles","pacific standard time":"America/Los_Angeles",pst:"America/Los_Angeles","pacific daylight time":"America/Los_Angeles",pdt:"America/Los_Angeles","alaskan standard time":"America/Anchorage","alaskan time":"America/Anchorage",ahst:"America/Anchorage","alaskan daylight time":"America/Anchorage",ahdt:"America/Anchorage","hawaiian standard time":j+"Honolulu","hawaiian time":j+"Honolulu",hst:j+"Honolulu","aleutian time":j+"Honolulu","hawaii time":j+"Honolulu","newfoundland standard time":"America/St_Johns","newfoundland time":"America/St_Johns",nst:"America/St_Johns","newfoundland daylight time":"America/St_Johns",ndt:"America/St_Johns","brazil time":"America/Sao_Paulo",brt:"America/Sao_Paulo","brasília":"America/Sao_Paulo",brasilia:"America/Sao_Paulo","brazilian time":"America/Sao_Paulo","argentina time":"America/Buenos_Aires","argentinian time":"America/Buenos_Aires","amazon time":"America/Manaus",amt:"America/Manaus","amazonian time":"America/Manaus","easter island standard time":"Chile/Easterisland",east:"Chile/Easterisland","easter island summer time":"Chile/Easterisland",easst:"Chile/Easterisland","venezuelan standard time":"America/Caracas","venezuelan time":"America/Caracas",vet:"America/Caracas","venezuela time":"America/Caracas","paraguay time":"America/Asuncion",pyt:"America/Asuncion","paraguay summer time":"America/Asuncion",pyst:"America/Asuncion","cuba standard time":"America/Havana","cuba time":"America/Havana","cuba daylight time":"America/Havana","cuban time":"America/Havana","bolivia time":"America/La_Paz","bolivian time":"America/La_Paz","colombia time":"America/Bogota",cot:"America/Bogota","colombian time":"America/Bogota","acre time":"America/Eirunepe","peru time":"America/Lima","chile standard time":"America/Punta_Arenas","chile time":"America/Punta_Arenas",clst:"America/Punta_Arenas","chile summer time":"America/Punta_Arenas",cldt:"America/Punta_Arenas","uruguay time":"America/Montevideo",uyt:"America/Montevideo",ist:"Asia/Jerusalem","arabic standard time":"Asia/Baghdad","arabic time":"Asia/Baghdad","arab time":"Asia/Baghdad","iran standard time":"Asia/Tehran","iran time":"Asia/Tehran",irst:"Asia/Tehran","iran daylight time":"Asia/Tehran",irdt:"Asia/Tehran",iranian:"Asia/Tehran","pakistan standard time":"Asia/Karachi","pakistan time":"Asia/Karachi",pkt:"Asia/Karachi","india standard time":"Asia/Kolkata","indian time":"Asia/Kolkata","indochina time":"Asia/Bangkok",ict:"Asia/Bangkok","south east asia":"Asia/Bangkok","china standard time":"Asia/Shanghai",ct:"Asia/Shanghai","chinese time":"Asia/Shanghai","alma-ata time":"Asia/Almaty",almt:"Asia/Almaty","oral time":"Asia/Oral","orat time":"Asia/Oral","yakutsk time":"Asia/Yakutsk",yakt:"Asia/Yakutsk","gulf standard time":"Asia/Dubai","gulf time":"Asia/Dubai",gst:"Asia/Dubai",uae:"Asia/Dubai","hong kong time":"Asia/Hong_Kong",hkt:"Asia/Hong_Kong","western indonesian time":"Asia/Jakarta",wib:"Asia/Jakarta","indonesia time":"Asia/Jakarta","central indonesian time":"Asia/Makassar",wita:"Asia/Makassar","israel daylight time":"Asia/Jerusalem",idt:"Asia/Jerusalem","israel standard time":"Asia/Jerusalem","israel time":"Asia/Jerusalem",israeli:"Asia/Jerusalem","krasnoyarsk time":"Asia/Krasnoyarsk",krat:"Asia/Krasnoyarsk","malaysia time":"Asia/Kuala_Lumpur",myt:"Asia/Kuala_Lumpur","singapore time":"Asia/Singapore",sgt:"Asia/Singapore","korea standard time":"Asia/Seoul","korea time":"Asia/Seoul",kst:"Asia/Seoul","korean time":"Asia/Seoul","uzbekistan time":"Asia/Samarkand",uzt:"Asia/Samarkand","vladivostok time":"Asia/Vladivostok",vlat:"Asia/Vladivostok","maldives time":"Indian/Maldives",mvt:"Indian/Maldives","mauritius time":"Indian/Mauritius",mut:"Indian/Mauritius","marshall islands time":j+"Kwajalein",mht:j+"Kwajalein","samoa standard time":j+"Midway",sst:j+"Midway","somoan time":j+"Midway","chamorro standard time":j+"Guam",chst:j+"Guam","papua new guinea time":j+"Bougainville",pgt:j+"Bougainville"},T=x().timezones,M=Object.keys(T).reduce((function(t,e){return t[e]=e,t}),{}),q=Object.assign({},_,M),S=[[["weekday","summer","winter","autumn","some day","one day","all day","some point","eod","eom","eoy","standard time","daylight time","tommorrow"],"#Date"],[["centuries","century","day","days","decade","decades","hour","hours","hr","hrs","millisecond","milliseconds","minute","minutes","min","mins","month","months","seconds","sec","secs","week end","week ends","weekend","weekends","week","weeks","wk","wks","year","years","yr","yrs","quarter","quarters","qtr","qtrs","season","seasons"],"#Duration"],[["all hallows eve","all saints day","all sts day","april fools","armistice day","australia day","bastille day","boxing day","canada day","christmas eve","christmas","cinco de mayo","day of the dead","dia de muertos","dieciseis de septiembre","emancipation day","grito de dolores","groundhog day","halloween","harvey milk day","inauguration day","independence day","independents day","juneteenth","labour day","national freedom day","national nurses day","new years eve","new years","purple heart day","rememberance day","rosa parks day","saint andrews day","saint patricks day","saint stephens day","saint valentines day","st andrews day","st patricks day","st stephens day","st valentines day ","valentines day","valentines","veterans day","victoria day","womens equality day","xmas","epiphany","orthodox christmas day","orthodox new year","assumption of mary","all souls day","feast of the immaculate conception","feast of our lady of guadalupe","kwanzaa","imbolc","beltaine","lughnassadh","samhain","martin luther king day","mlk day","presidents day","mardi gras","tax day","commonwealth day","mothers day","memorial day","fathers day","columbus day","indigenous peoples day","canadian thanksgiving","election day","thanksgiving","t-day","turkey day","black friday","cyber monday","ash wednesday","palm sunday","maundy thursday","good friday","holy saturday","easter","easter sunday","easter monday","orthodox good friday","orthodox holy saturday","orthodox easter","orthodox easter monday","ascension day","pentecost","whitsunday","whit sunday","whit monday","trinity sunday","corpus christi","advent","tu bishvat","tu bshevat","purim","passover","yom hashoah","lag baomer","shavuot","tisha bav","rosh hashana","yom kippur","sukkot","shmini atzeret","simchat torah","chanukah","hanukkah","isra and miraj","lailat al-qadr","eid al-fitr","id al-Fitr","eid ul-Fitr","ramadan","eid al-adha","muharram","the prophets birthday","ostara","march equinox","vernal equinox","litha","june solistice","summer solistice","mabon","september equinox","fall equinox","autumnal equinox","yule","december solstice","winter solstice","chinese new year","diwali"],"#Holiday"],[["noon","midnight","now","morning","tonight","evening","afternoon","night","breakfast time","lunchtime","dinnertime","sometime","midday","eod","oclock","oclock","all day","at night"],"#Time"],[Object.keys(q),"#Timezone"]],V={"a couple":"Value"};S.forEach((function(t){for(var e=0;e<t[0].length;e++)V[t[0][e]]=t[1]}));var E=V,C={second:!0,minute:!0,hour:!0,day:!0,week:!0,weekend:!0,month:!0,season:!0,quarter:!0,year:!0},P={wk:"week",min:"minute",sec:"second",weekend:"week"},N=function(t){var e=t.match("#Duration").text("normal");return e=e.replace(/s$/,""),P.hasOwnProperty(e)&&(e=P[e]),e},Y=function(t){var e={},a=t.match("#DateShift+");if(!1===a.found)return e;a.match("#Cardinal #Duration").forEach((function(t){var a=t.match("#Cardinal").text("normal");if((a=parseFloat(a))&&"number"==typeof a){var n=N(t);!0===C[n]&&(e[n]=a)}})),!0===a.has("(before|ago|hence|back)$")&&Object.keys(e).forEach((function(t){return e[t]*=-1})),a.remove("#Cardinal #Duration");var n=a.match("[<unit>#Duration] [<dir>(after|before)]");if(n.found){var r=n.groups("unit").text("reduced"),i=n.groups("dir").text("reduced");"after"===i?e[r]=1:"before"===i&&(e[r]=-1)}if((n=a.match("half (a|an) [#Duration]",0)).found){var o=N(n);e[o]=.5}return t.remove("#DateShift"),e},$={minute:!0},I=function(t){var e=t.match("[<num>#Value] [<unit>#Duration+] (of|in)");if(e.found){var a=e.groups(),n=a.num.text("reduced"),r=a.unit.text("reduced"),i={unit:r,num:Number(n)||0};return $[r]||(i.num-=1),t=t.remove(e),i}if((e=t.match("[<dir>(first|initial|last|final)] [<unit>#Duration+] (of|in)")).found){var o=e.groups(),u=o.dir.text("reduced");"initial"===u&&(u="first"),"final"===u&&(u="last");var s={unit:o.unit.text("reduced"),dir:u};return t=t.remove(e),s}return{}},L={daybreak:"7:00am",breakfast:"8:00am",morning:"9:00am",noon:"12:00pm",midday:"12:00pm",afternoon:"2:00pm",lunchtime:"12:00pm",evening:"6:00pm",dinnertime:"6:00pm",night:"8:00pm",eod:"10:00pm",midnight:"12:00am"},H=function(t,e){var a=t.match("(at|by|for|before|this)? #Time+");a.found&&t.remove(a),a=(a=(a=a.not("^(at|by|for|before|this)")).not("sharp")).not("on the dot");var n=x.now(e.timezone),r=n.clone(),i=a.text("reduced");if(L.hasOwnProperty(i))return L[i];var o=a.match("^#Cardinal oclock (am|pm)?");if(o.found&&(o=o.not("oclock"),(n=(n=n.hour(o.text("reduced"))).startOf("hour")).isValid()&&!n.isEqual(r)))return n.time();if((o=a.match("(half|quarter|25|15|10|5) (past|after|to) #Cardinal")).found&&(n=function(t,e){var a=t.match("#Cardinal$").text("reduced"),n=t.match("(half|quarter|25|15|10|5)"),r=n.text("reduced");n.has("half")&&(r="30"),n.has("quarter")&&(r="15");var i=t.has("to");return e=(e=e.hour(a)).startOf("hour"),a<6&&(e=e.ampm("pm")),i?e.subtract(r,"minutes"):e.add(r,"minutes")}(o,n)).isValid()&&!n.isEqual(r))return n.time();if((o=a.match("[<time>#Time] (in|at) the? [<desc>(morning|evening|night|nighttime)]")).found){var u=o.groups("time").text("reduced");if((n=/^[0-9]{1,2}$/.test(u)?n.hour(u):n.time(u)).isValid()&&!n.isEqual(r)){var s=o.groups("desc").text("reduced");return"evening"!==s&&"night"!==s||(n=n.ampm("pm")),n.time()}}if((o=a.match("this? [<desc>(morning|evening|tonight)] at [<time>(#Cardinal|#Time)]")).found){var c=o.groups(),d=c.time.text("reduced");if((n=/^[0-9]{1,2}$/.test(d)?(n=n.hour(d)).startOf("hour"):n.time(d)).isValid()&&!n.isEqual(r)){var h=c.desc.text("reduced");return"morning"===h&&(n=n.ampm("am")),"evening"!==h&&"tonight"!==h||(n=n.ampm("pm")),n.time()}}if((o=a.match("^#Cardinal$")).found&&(n=(n=n.hour(o.text("reduced"))).startOf("hour")).isValid()&&!n.isEqual(r))return n.time();var l=a.text("reduced");return(n=n.time(l)).isValid()&&!n.isEqual(r)?n.time():null},B=function(t){if(t.has("(next|last|this)$"))return null;var e=null,a=t.match("^this? (next|upcoming|coming)");return a.found&&(e="next",t.remove(a)),(a=t.match("^this? (last|previous)")).found&&(e="last",t.remove(a)),(a=t.match("^(this|current)")).found&&(e="this",t.remove(a)),e},F=function(t){var e=t.match("[(start|beginning) of] .",0);return e.found?(t.remove(e),"start"):(e=t.match("[end of] .",0)).found?(t.remove(e),"end"):(e=t.match("[(middle|midpoint|center) of] .",0)).found?(t.remove(e),"middle"):null},W=/(\-?[0-9]+)h(rs)?/i,J=/(\-?[0-9]+)/,Q=/utc([\-+]?[0-9]+)/i,K=/gmt([\-+]?[0-9]+)/i,R=function(t){return(t=Number(t))>-13&&t<13?"Etc/GMT"+(t=((t*=-1)>0?"+":"")+t):null},Z=function(t){var e=t.match("#Timezone+"),a=(e=e.remove("(in|for|by|near|at)")).text("reduced");if(t.remove("#Timezone+"),q.hasOwnProperty(a))return q[a];var n=function(t){var e=t.match(W);if(null!==e)return R(e[1]);if(null!==(e=t.match(Q)))return R(e[1]);if(null!==(e=t.match(K))){var a=-1*Number(e[1]);return R(a)}return null!==(e=t.match(J))?R(e[1]):null}(a);return n||null},G=function(){function t(a,n,r,i){e(this,t),this.unit=n||"day";var o={};(r=r||{}).today&&(o={date:r.today.date(),month:r.today.month(),year:r.today.year()});var u=x(a,r.timezone,{today:o});Object.defineProperty(this,"d",{enumerable:!1,writable:!0,value:u}),Object.defineProperty(this,"context",{enumerable:!1,writable:!0,value:r})}return n(t,[{key:"clone",value:function(){return new t(this.d,this.unit,this.context)}},{key:"log",value:function(){return console.log("--"),this.d.log(),console.log("\n"),this}},{key:"applyShift",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).forEach((function(a){t.d=t.d.add(e[a],a)})),this}},{key:"applyTime",value:function(t){return this.d=t?this.d.time(t):this.d.startOf("day"),this}},{key:"applyRel",value:function(t){return"next"===t?this.next():"last"===t?this.last():this}},{key:"applySection",value:function(t){return"start"===t?this.start():"end"===t?this.end():"middle"===t?this.middle():this}},{key:"format",value:function(t){return this.d.format(t)}},{key:"start",value:function(){return this.d=this.d.startOf(this.unit),this}},{key:"end",value:function(){return this.d=this.d.endOf(this.unit),this}},{key:"middle",value:function(){var t=this.d.diff(this.d.endOf(this.unit)),e=Math.round(t.minutes/2);return this.d=this.d.add(e,"minutes"),this}},{key:"before",value:function(){return this.d=this.d.minus(1,this.unit),this.d=this.d.endOf(this.unit),this}},{key:"after",value:function(){return this.d=this.d.add(1,this.unit),this.d=this.d.startOf(this.unit),this}},{key:"next",value:function(){return this.d=this.d.add(1,this.unit),this.d=this.d.startOf(this.unit),this}},{key:"last",value:function(){return this.d=this.d.minus(1,this.unit),this.d=this.d.startOf(this.unit),this}}]),t}(),U=function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i)).unit="day",o.d.isValid()&&(o.d=o.d.startOf("day")),o}return n}(G),X=function(t){r(i,t);var a=s(i);function i(t,n,r){var o;return e(this,i),(o=a.call(this,t,n,r)).unit="day",o.d.isValid()&&(o.d=o.d.startOf("day")),o}return n(i,[{key:"next",value:function(){return this.d=this.d.add(1,"year"),this}},{key:"last",value:function(){return this.d=this.d.minus(1,"year"),this}}]),i}(U),tt={Day:U,WeekDay:function(t){r(i,t);var a=s(i);function i(t,n,r){var o;return e(this,i),(o=a.call(this,t,n,r)).unit="week","string"==typeof t?(o.d=x(r.today,r.timezone),o.d=o.d.day(t),o.d.isBefore(r.today)&&(o.d=o.d.add(7,"days"))):o.d=t,o.weekDay=o.d.dayName(),o.d.isValid()&&(o.d=o.d.startOf("day")),o}return n(i,[{key:"clone",value:function(){return new i(this.d,this.unit,this.context)}},{key:"end",value:function(){return this.d=this.d.endOf("day"),this}},{key:"next",value:function(){return this.d=this.d.add(7,"days"),this.d=this.d.day(this.weekDay),this}},{key:"last",value:function(){return this.d=this.d.minus(7,"days"),this.d=this.d.day(this.weekDay),this}}]),i}(U),CalendarDate:X,Holiday:function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i)).unit="day",o.d.isValid()&&(o.d=o.d.startOf("day")),o}return n}(X)},et=function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i)).unit="month",o.d.isValid()&&(o.d=o.d.startOf(o.unit)),o}return n}(G),at=function(t){r(i,t);var a=s(i);function i(t,n,r){var o;return e(this,i),(o=a.call(this,t,n,r)).unit="month",o.d.isValid()&&(o.d=o.d.startOf(o.unit)),o}return n(i,[{key:"next",value:function(){return this.d=this.d.add(1,"year"),this.d=this.d.startOf("month"),this}},{key:"last",value:function(){return this.d=this.d.minus(1,"year"),this.d=this.d.startOf("month"),this}}]),i}(G),nt=function(t){r(i,t);var a=s(i);function i(t,n,r){var o;return e(this,i),(o=a.call(this,t,n,r)).unit="quarter",o.d.isValid()&&(o.d=o.d.startOf(o.unit)),o}return n(i,[{key:"last",value:function(){return console.log(this.d.format()),this.d=this.d.minus(1,"quarter"),console.log(this.d.format()),this.d=this.d.startOf(this.unit),console.log(this.d.format()),this}}]),i}(G),rt={AnyMonth:et,Month:at,Quarter:function(t){r(i,t);var a=s(i);function i(t,n,r){var o;return e(this,i),(o=a.call(this,t,n,r)).unit="quarter",o.d.isValid()&&(o.d=o.d.startOf(o.unit)),o}return n(i,[{key:"next",value:function(){return this.d=this.d.add(1,"year"),this.d=this.d.startOf(this.unit),this}},{key:"last",value:function(){return this.d=this.d.minus(1,"year"),this.d=this.d.startOf(this.unit),this}}]),i}(G),AnyQuarter:nt,Season:function(t){r(i,t);var a=s(i);function i(t,n,r){var o;return e(this,i),(o=a.call(this,t,n,r)).unit="season",o.d.isValid()&&(o.d=o.d.startOf(o.unit)),o}return n(i,[{key:"next",value:function(){return this.d=this.d.add(1,"year"),this.d=this.d.startOf(this.unit),this}},{key:"last",value:function(){return this.d=this.d.minus(1,"year"),this.d=this.d.startOf(this.unit),this}}]),i}(G),Year:function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i)).unit="year",o.d.isValid()&&(o.d=o.d.startOf("year")),o}return n}(G)},it={Week:function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i)).unit="week",o.d.isValid()&&(o.d=o.d.startOf("week")),o}return n}(G),WeekEnd:function(t){r(i,t);var a=s(i);function i(t,n,r){var o;return e(this,i),(o=a.call(this,t,n,r)).unit="week",o.d.isValid()&&(o.d=o.d.day("saturday"),o.d=o.d.startOf("day")),o}return n(i,[{key:"start",value:function(){return this.d=this.d.day("saturday").startOf("day"),this}},{key:"next",value:function(){return this.d=this.d.add(1,this.unit),this.d=this.d.startOf("weekend"),this}},{key:"last",value:function(){return this.d=this.d.minus(1,this.unit),this.d=this.d.startOf("weekend"),this}}]),i}(G)},ot={Hour:function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i,!0)).unit="hour",o.d.isValid()&&(o.d=o.d.startOf("hour")),o}return n}(G),Minute:function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i,!0)).unit="minute",o.d.isValid()&&(o.d=o.d.startOf("minute")),o}return n}(G),Moment:function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i,!0)).unit="millisecond",o}return n}(G)},ut=Object.assign({Unit:G},tt,rt,it,ot),st=ut.Day,ct=ut.Moment,dt=(ut.Hour,{today:function(t){return new st(t.today,null,t)},yesterday:function(t){return new st(t.today.minus(1,"day"),null,t)},tomorrow:function(t){return new st(t.today.plus(1,"day"),null,t)},eom:function(t){var e=t.today.endOf("month");return e=e.startOf("day"),new st(e,null,t)},eoy:function(t){var e=t.today.endOf("year");return e=e.startOf("day"),new st(e,null,t)}});dt.tommorrow=dt.tomorrow,dt.tmrw=dt.tomorrow;var ht=function(t,e,a){var n=null;!1===t.found&&(null!==a.time&&(n=new ct(e.today,null,e)),Object.keys(a.shift).length>0&&(n=a.shift.hour||a.shift.minute?new ct(e.today,null,e):new st(e.today,null,e)));var r=t.text("reduced");return!0===dt.hasOwnProperty(r)?dt[r](e):"next"===r&&Object.keys(a.shift).length>0?dt.tomorrow(e):n},lt=O((function(e,a){e.exports=function(e){function a(e){return e&&"object"===t(e)&&"default"in e?e:{default:e}}var n=a(e),r="january",i="february",o="march",u="april",s="may",c="july",d="august",h="september",l="october",m="november",f="december",y={"new years eve":[f,31],"new years":[r,1],"new years day":[r,1],"inauguration day":[r,20],"australia day":[r,26],"national freedom day":[i,1],"groundhog day":[i,2],"rosa parks day":[i,4],"valentines day":[i,14],"saint valentines day":[i,14],"st valentines day ":[i,14],"saint patricks day":[o,17],"st patricks day":[o,17],"april fools":[u,1],"april fools day":[u,1],"emancipation day":[u,16],"tax day":[u,15],"labour day":[s,1],"cinco de mayo":[s,5],"national nurses day":[s,6],"harvey milk day":[s,22],"victoria day":[s,24],juneteenth:["june",19],"canada day":[c,1],"independence day":[c,4],"independents day":[c,4],"bastille day":[c,14],"purple heart day":[d,7],"womens equality day":[d,26],"16 de septiembre":[h,16],"dieciseis de septiembre":[h,16],"grito de dolores":[h,16],halloween:[l,31],"all hallows eve":[l,31],"day of the dead":[l,31],"dia de muertos":[l,31],"veterans day":[m,11],"st andrews day":[m,30],"saint andrews day":[m,30],"all saints day":[m,1],"all sts day":[m,1],"armistice day":[m,11],"rememberance day":[m,11],"christmas eve":[f,24],christmas:[f,25],xmas:[f,25],"boxing day":[f,26],"st stephens day":[f,26],"saint stephens day":[f,26],epiphany:[r,6],"orthodox christmas day":[r,7],"orthodox new year":[r,14],"assumption of mary":[d,15],"all souls day":[m,2],"feast of the immaculate conception":[f,8],"feast of our lady of guadalupe":[f,12],kwanzaa:[f,26],imbolc:[i,2],beltaine:[s,1],lughnassadh:[d,1],samhain:[l,31]},p=function(t,e,a,r){if(y.hasOwnProperty(t)||y.hasOwnProperty(e)){var i=y[t]||y[e]||[],o=n.default.now(r);if((o=(o=(o=(o=o.year(a)).startOf("year")).month(i[0])).date(i[1])).isValid())return o}return null},g="october",v="november",b="monday",w="sunday",k={"martin luther king day":[3,b,"january"],"presidents day":[3,b,"february"],"commonwealth day":[2,b,"march"],"mothers day":[2,w,"may"],"fathers day":[3,w,"june"],"labor day":[1,b,"september"],"columbus day":[2,b,g],"canadian thanksgiving":[2,b,g],thanksgiving:[4,"thursday",v],"black friday":[4,"friday",v]};k["turday day"]=k.thanksgiving,k["indigenous peoples day"]=k["columbus day"],k["mlk day"]=k["martin luther king day"];var D=k,A=function(t,e,a,r){if(D.hasOwnProperty(t)||D.hasOwnProperty(e)){var i=D[t]||D[e]||[],o=n.default.now(r),u=(o=(o=(o=o.year(a)).month(i[2])).startOf("month")).month();if((o=o.day(i[1])).month()!==u&&(o=o.add(1,"week")),i[0]>1&&(o=o.add(i[0]-1,"week")),o.isValid())return o}return null},O={easter:0,"ash wednesday":-46,"palm sunday":7,"maundy thursday":-3,"good friday":-2,"holy saturday":-1,"easter saturday":-1,"easter monday":1,"ascension day":39,"whit sunday":49,"whit monday":50,"trinity sunday":65,"corpus christi":60,"mardi gras":-47};O["easter sunday"]=O.easter,O.pentecost=O["whit sunday"],O.whitsun=O["whit sunday"];var x=O,z=function(t){var e=Math.floor,a=t%19,n=e(t/100),r=(n-e(n/4)-e((8*n+13)/25)+19*a+15)%30,i=r-e(r/28)*(1-e(29/(r+1))*e((21-a)/11)),o=i-(t+e(t/4)+i+2-n+e(n/4))%7,u=3+e((o+40)/44),s=o+28-31*e(u/4);return(u=4===u?"April":"March")+" "+s},j=function(t,e,a,r){if(x.hasOwnProperty(t)||x.hasOwnProperty(e)){var i=x[t]||x[e]||[],o=z(a);if(!o)return null;var u=n.default(o,r),s=(u=u.year(a)).add(i,"day");if(s.isValid())return s}return null},_={spring:[2003,2007,2044,2048,2052,2056,2060,2064,2068,2072,2076,2077,2080,2081,2084,2085,2088,2089,2092,2093,2096,2097],summer:[2021,2016,2020,2024,2028,2032,2036,2040,2041,2044,2045,2048,2049,2052,2053,2056,2057,2060,2061,2064,2065,2068,2069,2070,2072,2073,2074,2076,2077,2078,2080,2081,2082,2084,2085,2086,2088,2089,2090,2092,2093,2094,2096,2097,2098,2099],fall:[2002,2003,2004,2006,2007,2010,2011,2014,2015,2018,2019,2022,2023,2026,2027,2031,2035,2039,2043,2047,2051,2055,2059,2092,2096],winter:[2002,2003,2006,2007,2011,2015,2019,2023,2027,2031,2035,2039,2043,2080,2084,2088,2092,2096]},T=[2080,2084,2088,2092,2096],M=function(t){var e={spring:"March 20 "+t,summer:"June 21 "+t,fall:"Sept 22 "+t,winter:"Dec 21 "+t};return-1!==_.spring.indexOf(t)&&(e.spring="March 19 "+t),-1!==_.summer.indexOf(t)&&(e.summer="June 20 "+t),-1!==_.fall.indexOf(t)&&(e.fall="Sept 21 "+t),-1!==_.winter.indexOf(t)&&(e.winter="Dec 22 "+t),-1!==T.indexOf(t)&&(e.winter="Dec 20 "+t),e},q={"spring equinox":"spring","summer solistice":"summer","fall equinox":"fall","winter solstice":"winter"};q["march equinox"]=q["spring equinox"],q["vernal equinox"]=q["spring equinox"],q.ostara=q["spring equinox"],q["june solstice"]=q["summer solistice"],q.litha=q["summer solistice"],q["autumn equinox"]=q["fall equinox"],q["autumnal equinox"]=q["fall equinox"],q["september equinox"]=q["fall equinox"],q["sept equinox"]=q["fall equinox"],q.mabon=q["fall equinox"],q["december solstice"]=q["winter solistice"],q["dec solstice"]=q["winter solistice"],q.yule=q["winter solistice"];var S=q,V=function(t,e,a,r){if(S.hasOwnProperty(t)||S.hasOwnProperty(e)){var i=S[t]||S[e],o=M(a);if(!i||!o||!o[i])return null;var u=n.default(o[i],r);if(u.isValid())return u}return null},E={"isra and miraj":"april 13","lailat al-qadr":"june 10","eid al-fitr":"june 15","id al-Fitr":"june 15","eid ul-Fitr":"june 15",ramadan:"may 16","eid al-adha":"sep 22",muharram:"sep 12","prophets birthday":"nov 21"},C=-10.64,P=function(t,e,a,r){if(E.hasOwnProperty(t)||E.hasOwnProperty(e)){var i=E[t]||E[e]||[];if(!i)return null;var o=n.default(i+" 2018",r),u=(a-2018)*C;if((o=(o=(o=o.add(u,"day")).startOf("day")).year(a)).isValid())return o}return null},N=n.default.now().year();return function(t,e,a){e=e||N,t=t||"";var n=(t=(t=(t=String(t)).trim().toLowerCase()).replace(/'s/,"s")).replace(/ day$/,"");n=(n=n.replace(/^the /,"")).replace(/^orthodox /,"");var r=p(t,n,e,a);return null!==r||null!==(r=A(t,n,e,a))||null!==(r=j(t,n,e,a))||null!==(r=V(t,n,e,a))||null!==(r=P(t,n,e,a))?r:null}}(x)})),mt=ut.Holiday,ft=function(t,e){var a=null,n=t.match("[<holiday>#Holiday+] [<year>#Year?]"),r=e.today.year();n.groups("year").found&&(r=Number(n.groups("year").text("reduced"))||r);var i=n.groups("holiday").text("reduced"),o=lt(i,r,e.timezone);return null!==o&&(o.isBefore(e.today)&&r===e.today.year()&&(o=lt(i,r+1,e.timezone)),a=new mt(o,null,e)),a},yt=ut.Week,pt=ut.WeekEnd,gt=ut.AnyMonth,vt=ut.AnyQuarter,bt=ut.Year,wt=ut.Season,kt=ut.WeekDay,Dt=ut.Day,At=ut.Hour,Ot=ut.Minute,xt=ut.Moment,zt={day:Dt,hour:At,evening:At,second:xt,milliscond:xt,instant:xt,minute:Ot,week:yt,weekend:pt,month:gt,quarter:vt,year:bt,season:wt,yr:bt,qtr:vt,wk:yt,sec:xt,hr:At},jt="^(".concat(Object.keys(zt).join("|"),")$"),_t=function(t,e){var a=t.match(jt);if(!0===a.found){var n=a.text("reduced");if(zt.hasOwnProperty(n)){var r=zt[n];return r?new r(null,n,e):null}}if(!0===(a=t.match("^#WeekDay$")).found){var i=a.text("reduced");return new kt(i,null,e)}return null},Tt=ut.Quarter,Mt=ut.Season,qt=ut.Year,St=function(t){return{date:t.today.date(),month:t.today.month(),year:t.today.year()}},Vt=function(t,e){var a=t.match("(spring|summer|winter|fall|autumn) [<year>#Year?]");if(a.found){var n=t.text("reduced"),r=x(n,e.timezone,{today:St(e)}),i=new Mt(r,null,e);if(!0===i.d.isValid())return i}if((a=t.match("[<q>#FinancialQuarter] [<year>#Year?]")).found){var o=a.groups("q").text("reduced"),u=x(o,e.timezone,{today:St(e)});if(a.groups("year")){var s=Number(a.groups("year").text())||e.today.year();u=u.year(s)}var c=new Tt(u,null,e);if(!0===c.d.isValid())return c}if((a=t.match("[<q>#Value] quarter (of|in)? [<year>#Year?]")).found){var d=a.groups("q").text("reduced"),h=x("q".concat(d),e.timezone,{today:St(e)});if(a.groups("year")){var l=Number(a.groups("year").text())||e.today.year();h=h.year(l)}var m=new Tt(h,null,e);if(!0===m.d.isValid())return m}if((a=t.match("^#Year$")).found){var f=t.text("reduced"),y=x(null,e.timezone,{today:St(e)});y=y.year(f);var p=new qt(y,null,e);if(!0===p.d.isValid())return p}return null},Et=ut.Day,Ct=ut.CalendarDate,Pt=ut.Month,Nt=ut.Moment,Yt=function(t,e){var a=e.today.year(),n=t.match("[<date>#Value] of? [<month>#Month] [<year>#Year]");if(n.found||(n=t.match("[<month>#Month] the? [<date>#Value] [<year>#Year]")),n.found){var r={month:n.groups("month").text(),date:n.groups("date").text(),year:n.groups("year").text()||a},i=new Ct(r,null,e);if(!0===i.d.isValid())return i}if((n=t.match("[<month>#Month] of? [<year>#Year]")).found){var o={month:n.groups("month").text(),year:n.groups("year").text()||a},u=new Pt(o,null,e);if(!0===u.d.isValid())return u}if((n=t.match("[<date>#Value] of? [<month>#Month]")).found||(n=t.match("[<month>#Month] the? [<date>#Value]")),n.found){var s={month:n.groups("month").text(),date:n.groups("date").text(),year:e.today.year()},c=new Ct(s,null,e);if(c.d.month()<e.today.month()&&(s.year+=1,c=new Ct(s,null,e)),!0===c.d.isValid())return c}if(t.has("#Month")){var d={month:t.match("#Month").text(),date:1,year:e.today.year()},h=new Pt(d,null,e);if(h.d.month()<e.today.month()&&(d.year+=1,h=new Pt(d,null,e)),!0===h.d.isValid())return h}if((n=t.match("#WeekDay [<date>#Value]")).found){var l={month:e.today.month(),date:n.groups("date").text(),year:e.today.year()},m=new Ct(l,null,e);if(!0===m.d.isValid())return m}if((n=t.match("the [<date>#Value]")).found){var f={month:e.today.month(),date:n.groups("date").text(),year:e.today.year()},y=new Ct(f,null,e);if(!0===y.d.isValid())return y.d.isBefore(e.today)&&(y.d=y.d.add(1,"month")),y}if((n=t.match("/[0-9]{4}-[0-9]{2}-[0-9]{2}t[0-9]{2}:/")).found){var p=t.text("reduced"),g=new Nt(p,null,e);if(!0===g.d.isValid())return g}var v=t.text("reduced"),b=new Et(v,null,e);return!1===b.d.isValid()?null:b},$t=ut.Quarter,It=ut.Season,Lt=ut.Week,Ht=ut.Day,Bt=ut.Hour,Ft=ut.Minute,Wt=ut.Month,Jt={day:Ht,week:Lt,weekend:ut.WeekEnd,month:Wt,quarter:$t,season:It,hour:Bt,minute:Ft},Qt={shift:Y,counter:I,time:H,relative:B,section:F,timezone:Z},Kt={today:ht,holiday:ft,nextLast:_t,yearly:Vt,explicit:Yt},Rt={counter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Jt[e.unit];if(!a)return t;var n=t.d;"first"===e.dir||0===e.num?n=(n=t.start().d).startOf(e.unit):"last"===e.dir?n=(n=n.endOf(t.unit)).startOf(e.unit):e.num&&(n=n.add(e.num,e.unit));var r=new a(n,null,t.context);return!0===r.d.isValid()?r:t}},Zt=function(t,e){t.match("[^the] !#Value",0).remove();var a=Qt.shift(t),n=Qt.counter(t),r=Qt.timezone(t),i=Qt.time(t,e),o=Qt.section(t,e),u=Qt.relative(t);if(r){var s=(e=Object.assign({},e,{timezone:r})).today.format("iso-short");e.today=e.today.goto(e.timezone).set(s)}var c=null;return(c=(c=(c=(c=(c=c||Kt.today(t,e,{shift:a,time:i,rel:u}))||Kt.holiday(t,e))||Kt.nextLast(t,e))||Kt.yearly(t,e))||Kt.explicit(t,e))?(a&&c.applyShift(a),u&&c.applyRel(u),o&&c.applySection(o),i&&c.applyTime(i),n&&n.unit&&(c=Rt.counter(c,n)),c):null},Gt=function(t,e){return t=t.applyShift(e.punt)},Ut=[{match:"between [<start>*] and [<end>*]",parse:function(t,e){var a=t.groups("start");a=Zt(a,e);var n=t.groups("end");return n=Zt(n,e),a&&n?{start:a,end:n.before()}:null}},{match:"[<from>#Month #Value] (to|through|thru) [<to>#Month #Value] [<year>#Year?]",parse:function(t,e){var a=t.groups(),n=a.from;if(a.year&&(n=n.append(a.year)),n=Zt(n,e)){var r=a.to;if(a.year&&(r=r.append(a.year)),r=Zt(r,e),n.d.isAfter(r.d)){var i=n;n=r,r=i}return{start:n,end:r.end()}}return null}},{match:"[<month>#Month] [<from>#Value] (to|through|thru) [<to>#Value] of? [<year>#Year]",parse:function(t,e){var a=t.groups(),n=a.month,r=a.from,i=a.to,o=a.year,u=o.clone(),s=r.prepend(n.text()).append(o.text());if(s=Zt(s,e)){var c=i.prepend(n.text()).append(u);return{start:s,end:(c=Zt(c,e)).end()}}return null}},{match:"[<from>#Value] (to|through|thru) [<to>#Value of? #Month of? #Year]",parse:function(t,e){var a=t.groups("to");if(a=Zt(a,e)){var n=t.groups("to"),r=a.clone();return r.d=r.d.date(n.text("normal")),{start:r,end:a.end()}}return null}},{match:"[<from>#Value] (to|through|thru) [<to>#Value of? #Month]",parse:function(t,e){var a=t.groups("to");if(a=Zt(a,e)){var n=t.groups("from"),r=a.clone();return r.d=r.d.date(n.text("normal")),{start:r,end:a.end()}}return null}},{match:"[<from>#Month #Value] (to|through|thru) [<to>#Value]",parse:function(t,e){var a=t.groups("from");if(a=Zt(a,e)){var n=t.groups("to"),r=a.clone();return r.d=r.d.date(n.text("normal")),{start:a,end:r.end()}}return null}},{match:"from? [<from>*] (to|until|upto|through|thru) [<to>*]",parse:function(t,e){var a=t.groups("from"),n=t.groups("to");return a=Zt(a,e),n=Zt(n,e),a&&n?{start:a,end:n.end()}:null}},{match:"^due? (by|before) [*]",group:0,parse:function(t,e){var a=Zt(t,e);if(a){var n=new G(e.today,null,e);return n.d.isAfter(a.d)&&(n=a.clone().applyShift({weeks:-2})),{start:n,end:a.clone().applyShift({day:-1}).end()}}return null}},{match:"^(on|in|at|@) [*]",group:0,parse:function(t,e){var a=Zt(t,e);return a?{start:a,end:a.clone().end()}:null}},{match:"^(after|following) [*]",group:0,parse:function(t,e){var a=Zt(t,e);return a?{start:(a=a.after()).clone(),end:Gt(a.clone(),e)}:null}},{match:"^(on|during|in|during) [*]",group:0,parse:function(t,e){var a=Zt(t,e);return a?{start:a,end:a.clone().end()}:null}}],Xt=function(t,e){for(var a=0;a<Ut.length;a+=1){var n=Ut[a],r=t.match(n.match);if(r.found){void 0!==n.group&&(r=r.groups(n.group));var i=n.parse(r,e);if(null!==i)return i}}var o=Zt(t,e);return o?{start:o,end:o.clone().end()}:{start:null,end:null}},te=function(t){if((t=t.clone()).numbers){var e=t.numbers();e.toNumber(),e.toCardinal(!1)}else console.warn("Compromise: compromise-dates cannot find plugin dependency 'compromise-number'");t.contractions().expand(),t.adverbs().remove(),t.replace("week end","weekend").tag("Date"),t.replace("up to","upto").tag("Date");var a=t.match("in [a few] #Duration");return a.found&&(a.groups("0").replaceWith("2"),a.tag("DateShift")),t},ee=function(t,e){return(e=e||{}).timezone=e.timezone||"ETC/UTC",e.today=x(e.today||null,e.timezone),t=te(t),Xt(t,e)},ae=[["mon","monday"],["tue","tuesday"],["tues","tuesday"],["wed","wednesday"],["thu","thursday"],["thurs","thursday"],["fri","friday"],["sat","saturday"],["sun","sunday"],["jan","january"],["feb","february"],["mar","march"],["apr","april"],["jun","june"],["jul","july"],["aug","august"],["sep","september"],["sept","september"],["oct","october"],["nov","november"],["dec","december"]],ne=ae=ae.map((function(t){return{short:t[0],long:t[1]}})),re={json:function(t){var e=this,a=null;"number"==typeof t&&(a=t,t=null);var n=[],r=(t=t||{terms:!1}).format||"iso";return this.forEach((function(a){var i=a.json(t)[0],o=ee(a,e.context),u=o.start?o.start.format(r):null,s=o.end?o.end.format(r):null;i.date={start:u,end:s},u&&s&&(i.date.duration=o.start.d.diff(o.end.d),delete i.date.duration.milliseconds,delete i.date.duration.seconds),n.push(i)})),null!==a?n[a]:n},format:function(t){var e=this;return this.forEach((function(a){var n=ee(a,e.context),r="";if(n.start){if(r=n.start.format(t),n.end){var i=n.start.format(t);r!==i&&(r+=" to "+i)}a.replaceWith(r,{keepTags:!0,keepCase:!1})}})),this},toLongForm:function(){var t=this;return ne.forEach((function(e){t.replace(e.short,e.long,!0)})),this},toShortForm:function(){var t=this;return ne.forEach((function(e){t.replace(e.long,e.short,!0)})),this}},ie={punt:{weeks:2}};return function(a,n){n.addTags(A),n.addWords(E),n.postProcess(D);var i=function(t){r(n,t);var a=s(n);function n(t,r,i){var o;return e(this,n),(o=a.call(this,t,r,i)).context=ie,o}return n}(a);Object.assign(i.prototype,re),a.prototype.dates=function(e){var a={};e&&"object"===t(e)&&(a=e,e=null),a=Object.assign({},a,ie);var n=this.match("#Date+");"number"==typeof e&&(n=n.get(e));var r=new i(n.list,this,this.world);return a.today&&(a.today=x(a.today,a.timezone)),r.context=a,r}}}));
