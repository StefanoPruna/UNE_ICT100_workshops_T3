{"version":3,"file":"compromise-dates.js","sources":["../src/01-tagger/00-basic.js","../src/01-tagger/01-values.js","../src/01-tagger/02-dates.js","../src/01-tagger/03-sections.js","../src/01-tagger/04-time.js","../src/01-tagger/05-shifts.js","../src/01-tagger/06-fixup.js","../src/01-tagger/index.js","../src/data/_tags.js","../node_modules/spacetime/builds/spacetime.js","../src/data/_timezones.js","../src/data/words/dates.js","../src/data/words/durations.js","../src/data/words/holidays.js","../src/data/words/times.js","../src/data/words/index.js","../src/parseDate/01-tokenize/01-shift.js","../src/parseDate/01-tokenize/02-counter.js","../src/parseDate/01-tokenize/03-time.js","../src/parseDate/01-tokenize/04-relative.js","../src/parseDate/01-tokenize/05-section.js","../src/parseDate/01-tokenize/06-timezone.js","../src/parseDate/units/Unit.js","../src/parseDate/units/_day.js","../src/parseDate/units/_year.js","../src/parseDate/units/_week.js","../src/parseDate/units/_time.js","../src/parseDate/units/index.js","../src/parseDate/02-parse/01-today.js","../node_modules/spacetime-holiday/builds/spacetime-holiday.js","../src/parseDate/02-parse/02-holidays.js","../src/parseDate/02-parse/03-next-last.js","../src/parseDate/02-parse/04-yearly.js","../src/parseDate/02-parse/05-explicit.js","../src/parseDate/03-transform/addCounter.js","../src/parseDate/parse.js","../src/02-ranges/ranges.js","../src/02-ranges/index.js","../src/normalize.js","../src/find.js","../src/data/_abbrevs.js","../src/methods.js","../src/index.js"],"sourcesContent":["//ambiguous 'may' and 'march'\nconst preps = '(in|by|before|during|on|until|after|of|within|all)' //6\nconst thisNext = '(last|next|this|previous|current|upcoming|coming)' //2\nconst sections = '(start|end|middle|starting|ending|midpoint|beginning)' //2\nconst seasons = '(spring|summer|winter|fall|autumn)'\n\n//ensure a year is approximately typical for common years\n//please change in one thousand years\nconst tagYear = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1000 && num < 3000) {\n      p.tag('Year', reason)\n    }\n  })\n}\n//same, but for less-confident values\nconst tagYearSafe = (m, reason) => {\n  if (m.found !== true) {\n    return\n  }\n  m.forEach((p) => {\n    let str = p.text('reduced')\n    let num = parseInt(str, 10)\n    if (num && num > 1900 && num < 2030) {\n      p.tag('Year', reason)\n    }\n  })\n}\n\nconst tagDates = function (doc) {\n  // in the evening\n  doc.match('in the (night|evening|morning|afternoon|day|daytime)').tag('Time', 'in-the-night')\n  // 8 pm\n  doc.match('(#Value|#Time) (am|pm)').tag('Time', 'value-ampm')\n  // 22-aug\n  // doc.match('/^[0-9]{2}-(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov)/').tag('Date', '20-jan')\n  // 2012-06\n  doc.match('/^[0-9]{4}-[0-9]{2}$/').tag('Date', '2012-06')\n\n  // misc weekday words\n  doc.match('(tue|thu)').tag('WeekDay', 'misc-weekday')\n\n  //months:\n  let month = doc.if('#Month')\n  if (month.found === true) {\n    //June 5-7th\n    month.match(`#Month #Date+`).tag('Date', 'correction-numberRange')\n    //5th of March\n    month.match('#Value of #Month').tag('Date', 'value-of-month')\n    //5 March\n    month.match('#Cardinal #Month').tag('Date', 'cardinal-month')\n    //march 5 to 7\n    month.match('#Month #Value to #Value').tag('Date', 'value-to-value')\n    //march the 12th\n    month.match('#Month the #Value').tag('Date', 'month-the-value')\n  }\n\n  //months:\n  let val = doc.if('#Value')\n  if (val.found === true) {\n    //june 7\n    val.match('(#WeekDay|#Month) #Value').ifNo('#Money').tag('Date', 'date-value')\n\n    //7 june\n    val.match('#Value (#WeekDay|#Month)').ifNo('#Money').tag('Date', 'value-date')\n\n    //may twenty five\n    val.match('#TextValue #TextValue').if('#Date').tag('#Date', 'textvalue-date')\n\n    //two thursdays back\n    val.match('#Value (#WeekDay|#Duration) back').tag('#Date', '3-back')\n\n    //eg 'year'\n    let duration = val.if('#Duration')\n    if (duration.found === true) {\n      //for 4 months\n      duration.match('for #Value #Duration').tag('Date', 'for-x-duration')\n      //two days before\n      duration.match('#Value #Duration #Conjunction').tag('Date', 'val-duration-conjunction')\n      //for four days\n      duration.match(`${preps}? #Value #Duration`).tag('Date', 'value-duration')\n      //two years old\n      duration.match('#Value #Duration old').unTag('Date', 'val-years-old')\n    }\n  }\n\n  //seasons\n  let season = doc.if(seasons)\n  if (season.found === true) {\n    season.match(`${preps}? ${thisNext} ${seasons}`).tag('Date', 'thisNext-season')\n    season.match(`the? ${sections} of ${seasons}`).tag('Date', 'section-season')\n    season.match(`${seasons} ${preps}? #Cardinal`).tag('Date', 'season-year')\n  }\n\n  //rest-dates\n  let date = doc.if('#Date')\n  if (date.found === true) {\n    //june the 5th\n    date.match('#Date the? #Ordinal').tag('Date', 'correction')\n    //last month\n    date.match(`${thisNext} #Date`).tag('Date', 'thisNext')\n    //by 5 March\n    date.match('due? (by|before|after|until) #Date').tag('Date', 'by')\n    //next feb\n    date.match('(last|next|this|previous|current|upcoming|coming|the) #Date').tag('Date', 'next-feb')\n    //start of june\n    date.match(`the? ${sections} of #Date`).tag('Date', 'section-of')\n    //fifth week in 1998\n    date.match('#Ordinal #Duration in #Date').tag('Date', 'duration-in')\n    //early in june\n    date.match('(early|late) (at|in)? the? #Date').tag('Time', 'early-evening')\n    //tomorrow before 3\n    date.match('#Date (by|before|after|at|@|about) #Cardinal').not('^#Date').tag('Time', 'date-before-Cardinal')\n    //saturday am\n    date.match('#Date [(am|pm)]', 0).unTag('Verb').unTag('Copula').tag('Time', 'date-am')\n    //feb to june\n    date.match('#Date (#Preposition|to) #Date').ifNo('#Duration').tag('Date', 'date-prep-date')\n    //2nd quarter of 2019\n    // date.match('#Date of #Date').tag('Date', 'date-of-date')\n  }\n\n  //year/cardinal tagging\n  let cardinal = doc.if('#Cardinal')\n  if (cardinal.found === true) {\n    let v = cardinal.match(`#Date #Value [#Cardinal]`, 0)\n    tagYear(v, 'date-value-year')\n    //scoops up a bunch\n    v = cardinal.match(`#Date [#Cardinal]`, 0)\n    tagYearSafe(v, 'date-year')\n    //middle of 1999\n    v = cardinal.match(`${sections} of [#Cardinal]`)\n    tagYearSafe(v, 'section-year')\n    //feb 8 2018\n    v = cardinal.match(`#Month #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-value-year')\n    //feb 8 to 10th 2018\n    v = cardinal.match(`#Month #Value to #Value [#Cardinal]`, 0)\n    tagYear(v, 'month-range-year')\n    //in 1998\n    v = cardinal.match(`(in|of|by|during|before|starting|ending|for|year|since) [#Cardinal]`, 0)\n    tagYear(v, 'in-year-1')\n    //q2 2009\n    v = cardinal.match('(q1|q2|q3|q4) [#Cardinal]', 0)\n    tagYear(v, 'in-year-2')\n    //2nd quarter 2009\n    v = cardinal.match('#Ordinal quarter [#Cardinal]', 0)\n    tagYear(v, 'in-year-3')\n    //in the year 1998\n    v = cardinal.match('the year [#Cardinal]', 0)\n    tagYear(v, 'in-year-4')\n    //it was 1998\n    v = cardinal.match('it (is|was) [#Cardinal]', 0)\n    tagYearSafe(v, 'in-year-5')\n    // re-tag this part\n    cardinal.match(`${sections} of #Year`).tag('Date')\n  }\n\n  let time = doc.if('#Time')\n  if (time.found === true) {\n    //by 6pm\n    time.match('(by|before|after|at|@|about) #Time').tag('Time', 'preposition-time')\n    //7 7pm\n    // time.match('#Cardinal #Time').not('#Year').tag('Time', 'value-time')\n    //2pm est\n    time.match('#Time [(eastern|pacific|central|mountain)]', 0).tag('Date', 'timezone')\n    //6pm est\n    time.match('#Time [(est|pst|gmt)]', 0).tag('Date', 'timezone abbr')\n  }\n  //'2020' bare input\n  let m = doc.match('^/^20[012][0-9]$/$')\n  tagYearSafe(m, '2020-ish')\n\n  // in 20mins\n  doc.match('(in|after) /^[0-9]+(min|sec|wk)s?/').tag('Date', 'shift-units')\n  return doc\n}\nmodule.exports = tagDates\n","const here = 'date-values'\n//\nconst values = function (doc) {\n  // a year ago\n  if (!doc.has('once [a] #Duration')) {\n    doc.match('[a] #Duration', 0).replaceWith('1').tag('Cardinal', here)\n  }\n  if (doc.has('#Value')) {\n    //june 5 to 7th\n    doc.match('#Month #Value to #Value of? #Year?').tag('Date', here)\n    //5 to 7th june\n    doc.match('#Value to #Value of? #Month #Year?').tag('Date', here)\n    //third week of may\n    doc.match('#Value #Duration of #Date').tag('Date', here)\n    //two days after\n    doc.match('#Value+ #Duration (after|before|into|later|afterwards|ago)?').tag('Date', here)\n    //two days\n    doc.match('#Value #Date').tag('Date', here)\n    //june 5th\n    doc.match('#Date #Value').tag('Date', here)\n    //tuesday at 5\n    doc.match('#Date #Preposition #Value').tag('Date', here)\n    //tomorrow before 3\n    doc.match('#Date (after|before|during|on|in) #Value').tag('Date', here)\n    //a year and a half\n    doc.match('#Value (year|month|week|day) and a half').tag('Date', here)\n    //5 and a half years\n    doc.match('#Value and a half (years|months|weeks|days)').tag('Date', here)\n    //on the fifth\n    doc.match('on the #Ordinal').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = values\n","const here = 'date-tagger'\n//\nconst dateTagger = function (doc) {\n  doc.match('(spring|summer|winter|fall|autumn|springtime|wintertime|summertime)').match('#Noun').tag('Season', here)\n  doc.match('(q1|q2|q3|q4)').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) quarter').tag('FinancialQuarter', here)\n  doc.match('(this|next|last|current) season').tag('Season', here)\n\n  if (doc.has('#Date')) {\n    //friday to sunday\n    doc.match('#Date #Preposition #Date').tag('Date', here)\n    //once a day..\n    doc.match('(once|twice) (a|an|each) #Date').tag('Date', here)\n    //TODO:fixme\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', here)\n    //tuesday\n    doc.match('#Date+').tag('Date', here)\n    //by June\n    doc.match('(by|until|on|in|at|during|over|every|each|due) the? #Date').tag('Date', here)\n    //a year after..\n    doc.match('a #Duration').tag('Date', here)\n    //between x and y\n    doc.match('(between|from) #Date').tag('Date', here)\n    doc.match('(to|until|upto) #Date').tag('Date', here)\n    doc.match('#Date and #Date').tag('Date', here)\n    //during this june\n    doc.match('(by|until|after|before|during|on|in|following|since) (next|this|last)? (#Date|#Date)').tag('Date', here)\n    //day after next\n    doc.match('the? #Date after next one?').tag('Date', here)\n    //approximately...\n    doc.match('(about|approx|approximately|around) #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = dateTagger\n","const here = 'section-tagger'\n//\nconst sectionTagger = function (doc) {\n  if (doc.has('#Date')) {\n    // //next september\n    doc.match('this? (last|next|past|this|previous|current|upcoming|coming|the) #Date').tag('Date', here)\n    //starting this june\n    doc.match('(starting|beginning|ending) #Date').tag('Date', here)\n    //start of june\n    doc.match('the? (start|end|middle|beginning) of (last|next|this|the) (#Date|#Date)').tag('Date', here)\n    //this coming june\n    doc.match('(the|this) #Date').tag('Date', here)\n    //january up to june\n    doc.match('#Date up to #Date').tag('Date', here)\n  }\n  return doc\n}\nmodule.exports = sectionTagger\n","const here = 'time-tagger'\n\n//\nconst timeTagger = function (doc) {\n  // 2 oclock\n  doc.match('#Cardinal oclock').tag('Time', here)\n  // 13h30\n  doc.match('/^[0-9]{2}h[0-9]{2}$/').tag('Time', here)\n  // 03/02\n  doc.match('/^[0-9]{2}/[0-9]{2}/').tag('Date', here).unTag('Value')\n  // 3 in the morning\n  doc.match('[#Value] (in|at) the? (morning|evening|night|nighttime)').tag('Time', here)\n  // quarter to seven (not march 5 to 7)\n  if (doc.has('#Cardinal') && !doc.has('#Month')) {\n    doc.match('1? (half|quarter|25|15|10|5) (past|after|to) #Cardinal').tag('Time', here)\n  }\n  //timezone\n  if (doc.has('#Date')) {\n    // iso  (2020-03-02T00:00:00.000Z)\n    doc.match('/^[0-9]{4}[:-][0-9]{2}[:-][0-9]{2}T[0-9]/').tag('Time', here)\n    // tuesday at 4\n    doc.match('#Date [at #Cardinal]', 0).notIf('#Year').tag('Time', here)\n    // half an hour\n    doc.match('half an (hour|minute|second)').tag('Date', here)\n    //eastern daylight time\n    doc.match('#Noun (standard|daylight|central|mountain)? time').tag('Timezone', here)\n    //utc+5\n    doc.match('/^utc[+-][0-9]/').tag('Timezone', here)\n    doc.match('/^gmt[+-][0-9]/').tag('Timezone', here)\n\n    doc.match('(in|for|by|near|at) #Timezone').tag('Timezone', here)\n    // 2pm eastern\n    doc.match('#Time [(eastern|mountain|pacific|central)]', 0).tag('Timezone', here)\n  }\n  return doc\n}\nmodule.exports = timeTagger\n","const here = 'shift-tagger'\n//\nconst shiftTagger = function (doc) {\n  if (doc.has('#Date')) {\n    //'two days before'/ 'nine weeks frow now'\n    doc.match('#Cardinal #Duration (before|after|ago|from|hence|back)').tag('DateShift', here)\n    // in two weeks\n    doc.match('in #Cardinal #Duration').tag('DateShift', here)\n    // in a few weeks\n    doc.match('in a (few|couple) of? #Duration').tag('DateShift', here)\n    //two weeks and three days before\n    doc.match('#Cardinal #Duration and? #DateShift').tag('DateShift', here)\n    doc.match('#DateShift and #Cardinal #Duration').tag('DateShift', here)\n    // 'day after tomorrow'\n    doc.match('[#Duration (after|before)] #Date', 0).tag('DateShift', here)\n    // in half an hour\n    doc.match('in half (a|an) #Duration').tag('DateShift', here)\n  }\n  return doc\n}\nmodule.exports = shiftTagger\n","const here = 'fix-tagger'\n//\nconst fixUp = function (doc) {\n  //fixups\n  if (doc.has('#Date')) {\n    //first day by monday\n    let oops = doc.match('#Date+ by #Date+')\n    if (oops.found && !oops.has('^due')) {\n      oops.match('^#Date+').unTag('Date', 'by-monday')\n    }\n\n    let d = doc.match('#Date+')\n    //'spa day'\n    d.match('^day$').unTag('Date', 'spa-day')\n    // tomorrow's meeting\n    d.match('(in|of|by|for)? (#Possessive && #Date)').unTag('Date', 'tomorrows meeting')\n\n    let knownDate = '(yesterday|today|tomorrow)'\n    if (d.has(knownDate)) {\n      //yesterday 7\n      d.match(`${knownDate} [#Value]$`).unTag('Date', 'yesterday-7')\n      //7 yesterday\n      d.match(`^[#Value] ${knownDate}$`, 0).unTag('Date', '7 yesterday')\n      //friday yesterday\n      d.match(`#WeekDay+ ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'fri-yesterday')\n\n      // yesterday yesterday\n      // d.match(`${knownDate}+ ${knownDate}$`)\n      //   .unTag('Date')\n      //   .lastTerm()\n      //   .tag('Date', here)\n      d.match(`(this|last|next) #Date ${knownDate}$`).unTag('Date').lastTerm().tag('Date', 'this month yesterday')\n    }\n    //tomorrow on 5\n    d.match(`on #Cardinal$`).unTag('Date', here)\n    //this tomorrow\n    d.match(`this tomorrow`).terms(0).unTag('Date', 'this-tomorrow')\n    //q2 2019\n    d.match(`(q1|q2|q3|q4) #Year`).tag('Date', here)\n    //5 tuesday\n    // d.match(`^#Value #WeekDay`).terms(0).unTag('Date');\n    //5 next week\n    d.match(`^#Value (this|next|last)`).terms(0).unTag('Date', here)\n\n    if (d.has('(last|this|next)')) {\n      //this month 7\n      d.match(`(last|this|next) #Duration #Value`).terms(2).unTag('Date', here)\n      //7 this month\n      d.match(`!#Month #Value (last|this|next) #Date`).terms(0).unTag('Date', here)\n    }\n    //january 5 5\n    if (d.has('(#Year|#Time|#TextValue|#NumberRange)') === false) {\n      d.match('(#Month|#WeekDay) #Value #Value').terms(2).unTag('Date', here)\n    }\n    //between june\n    if (d.has('^between') && !d.has('and .')) {\n      d.unTag('Date', here)\n    }\n    //june june\n    if (d.has('#Month #Month') && !d.has('@hasHyphen') && !d.has('@hasComma')) {\n      d.match('#Month').lastTerm().unTag('Date', 'month-month')\n    }\n    // log the hours\n    if (d.has('(minutes|seconds|weeks|hours|days|months)') && !d.has('#Value #Duration')) {\n      d.match('(minutes|seconds|weeks|hours|days|months)').unTag('Date', 'log-hours')\n    }\n    // about thanksgiving\n    if (d.has('about #Holiday')) {\n      d.match('about').unTag('#Date', 'about-thanksgiving')\n    }\n\n    // a month from now\n    d.match('(from|by|before) now').unTag('Time')\n    // dangling date-chunks\n    // if (d.has('!#Date (in|of|by|for) !#Date')) {\n    //   d.unTag('Date', 'dangling-date')\n    // }\n    // the day after next\n    d.match('#Date+').match('^the').unTag('Date')\n  }\n  return doc\n}\nmodule.exports = fixUp\n","const methods = [\n  require('./00-basic'),\n  require('./01-values'),\n  require('./02-dates'),\n  require('./03-sections'),\n  require('./04-time'),\n  require('./05-shifts'),\n  require('./06-fixup'),\n]\n\n// normalizations to run before tagger\nconst normalize = function (doc) {\n  // turn '20mins' into '20 mins'\n  doc.numbers().normalize() // this is sorta problematic\n  return doc\n}\n\n// run each of the taggers\nconst tagDate = function (doc) {\n  doc = normalize(doc)\n  // run taggers\n  methods.forEach((fn) => fn(doc))\n  return doc\n}\nmodule.exports = tagDate\n","module.exports = {\n  FinancialQuarter: {\n    isA: 'Date',\n  },\n  // 'summer'\n  Season: {\n    isA: 'Date',\n  },\n  // '1982'\n  Year: {\n    isA: ['Date'],\n    notA: 'RomanNumeral',\n  },\n  // 'months'\n  Duration: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'easter'\n  Holiday: {\n    isA: ['Date', 'Noun'],\n  },\n  // 'PST'\n  Timezone: {\n    isA: ['Date', 'Noun'],\n    notA: ['Adjective', 'DateShift'],\n  },\n  // 'two weeks before'\n  DateShift: {\n    isA: ['Date'],\n    notA: ['TimeZone', 'Holiday'],\n  },\n}\n","/* spencermountain/spacetime 6.12.2 Apache 2.0 */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.spacetime = factory());\n}(this, (function () { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var MSEC_IN_HOUR = 60 * 60 * 1000; //convert our local date syntax a javascript UTC date\n\n  var toUtc = function toUtc(dstChange, offset, year) {\n    var _dstChange$split = dstChange.split('/'),\n        _dstChange$split2 = _slicedToArray(_dstChange$split, 2),\n        month = _dstChange$split2[0],\n        rest = _dstChange$split2[1];\n\n    var _rest$split = rest.split(':'),\n        _rest$split2 = _slicedToArray(_rest$split, 2),\n        day = _rest$split2[0],\n        hour = _rest$split2[1];\n\n    return Date.UTC(year, month - 1, day, hour) - offset * MSEC_IN_HOUR;\n  }; // compare epoch with dst change events (in utc)\n\n\n  var inSummerTime = function inSummerTime(epoch, start, end, summerOffset, winterOffset) {\n    var year = new Date(epoch).getUTCFullYear();\n    var startUtc = toUtc(start, winterOffset, year);\n    var endUtc = toUtc(end, summerOffset, year); // console.log(epoch, endUtc)\n    // simple number comparison now\n\n    return epoch >= startUtc && epoch < endUtc;\n  };\n\n  var summerTime = inSummerTime;\n\n  // it reproduces some things in ./index.js, but speeds up spacetime considerably\n\n  var quickOffset = function quickOffset(s) {\n    var zones = s.timezones;\n    var obj = zones[s.tz];\n\n    if (obj === undefined) {\n      console.warn(\"Warning: couldn't find timezone \" + s.tz);\n      return 0;\n    }\n\n    if (obj.dst === undefined) {\n      return obj.offset;\n    } //get our two possible offsets\n\n\n    var jul = obj.offset;\n    var dec = obj.offset + 1; // assume it's the same for now\n\n    if (obj.hem === 'n') {\n      dec = jul - 1;\n    }\n\n    var split = obj.dst.split('->');\n    var inSummer = summerTime(s.epoch, split[0], split[1], jul, dec);\n\n    if (inSummer === true) {\n      return jul;\n    }\n\n    return dec;\n  };\n\n  var quick = quickOffset;\n\n  var _build = {\n  \t\"9|s\": \"2/dili,2/jayapura\",\n  \t\"9|n\": \"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau\",\n  \t\"9.5|s|04/05:03->10/04:02\": \"4/adelaide,4/broken_hill,4/south,4/yancowinna\",\n  \t\"9.5|s\": \"4/darwin,4/north\",\n  \t\"8|s|03/08:01->10/04:00\": \"12/casey\",\n  \t\"8|s\": \"2/kuala_lumpur,2/makassar,2/singapore,4/perth,4/west\",\n  \t\"8|n|03/25:03->09/29:23\": \"2/ulan_bator\",\n  \t\"8|n\": \"2/brunei,2/choibalsan,2/chongqing,2/chungking,2/harbin,2/hong_kong,2/irkutsk,2/kuching,2/macao,2/macau,2/manila,2/shanghai,2/taipei,2/ujung_pandang,2/ulaanbaatar\",\n  \t\"8.75|s\": \"4/eucla\",\n  \t\"7|s\": \"12/davis,2/jakarta,9/christmas\",\n  \t\"7|n\": \"2/bangkok,2/barnaul,2/ho_chi_minh,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/saigon,2/tomsk,2/vientiane\",\n  \t\"6|s\": \"12/vostok\",\n  \t\"6|n\": \"2/almaty,2/bishkek,2/dacca,2/dhaka,2/kashgar,2/omsk,2/qyzylorda,2/qostanay,2/thimbu,2/thimphu,2/urumqi,9/chagos\",\n  \t\"6.5|n\": \"2/rangoon,2/yangon,9/cocos\",\n  \t\"5|s\": \"12/mawson,9/kerguelen\",\n  \t\"5|n\": \"2/aqtau,2/aqtobe,2/ashgabat,2/ashkhabad,2/atyrau,2/baku,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives\",\n  \t\"5.75|n\": \"2/kathmandu,2/katmandu\",\n  \t\"5.5|n\": \"2/calcutta,2/colombo,2/kolkata\",\n  \t\"4|s\": \"9/reunion\",\n  \t\"4|n\": \"2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius\",\n  \t\"4.5|n|03/21:00->09/20:24\": \"2/tehran\",\n  \t\"4.5|n\": \"2/kabul\",\n  \t\"3|s\": \"12/syowa,9/antananarivo\",\n  \t\"3|n|03/29:03->10/25:04\": \"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/nicosia,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye\",\n  \t\"3|n|03/29:02->10/25:03\": \"8/chisinau,8/tiraspol\",\n  \t\"3|n|03/29:00->10/24:24\": \"2/beirut\",\n  \t\"3|n|03/28:00->10/24:01\": \"2/gaza,2/hebron\",\n  \t\"3|n|03/27:02->10/25:02\": \"2/jerusalem,2/tel_aviv\",\n  \t\"3|n|03/27:00->10/30:01\": \"2/amman\",\n  \t\"3|n|03/27:00->10/29:24\": \"2/damascus\",\n  \t\"3|n\": \"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/istanbul,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte\",\n  \t\"2|s|03/29:02->10/25:02\": \"12/troll\",\n  \t\"2|s\": \"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane\",\n  \t\"2|n|03/29:02->10/25:03\": \"0/ceuta,arctic/longyearbyen,3/jan_mayen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich\",\n  \t\"2|n\": \"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad\",\n  \t\"1|s|04/02:01->09/03:03\": \"0/windhoek\",\n  \t\"1|s\": \"0/kinshasa,0/luanda\",\n  \t\"1|n|04/19:03->05/31:02\": \"0/casablanca,0/el_aaiun\",\n  \t\"1|n|03/29:01->10/25:02\": \"3/canary,3/faeroe,3/faroe,3/madeira,8/belfast,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london\",\n  \t\"1|n\": \"0/algiers,0/bangui,0/brazzaville,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis\",\n  \t\"14|n\": \"11/kiritimati\",\n  \t\"13|s|04/05:04->09/27:03\": \"11/apia\",\n  \t\"13|s|01/15:02->11/05:03\": \"11/tongatapu\",\n  \t\"13|n\": \"11/enderbury,11/fakaofo\",\n  \t\"12|s|04/05:03->09/27:02\": \"12/mcmurdo,12/south_pole,11/auckland\",\n  \t\"12|s|01/12:03->12/20:02\": \"11/fiji\",\n  \t\"12|n\": \"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis\",\n  \t\"12.75|s|04/05:03->04/05:02\": \"11/chatham\",\n  \t\"11|s|04/05:03->10/04:02\": \"12/macquarie\",\n  \t\"11|s\": \"11/bougainville\",\n  \t\"11|n\": \"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape\",\n  \t\"11.5|n|04/05:03->10/04:02\": \"11/norfolk\",\n  \t\"10|s|04/05:03->10/04:02\": \"4/act,4/canberra,4/currie,4/hobart,4/melbourne,4/nsw,4/sydney,4/tasmania,4/victoria\",\n  \t\"10|s\": \"12/dumontdurville,4/brisbane,4/lindeman,4/queensland\",\n  \t\"10|n\": \"2/ust-nera,2/vladivostok,2/yakutsk,11/chuuk,11/guam,11/port_moresby,11/saipan,11/truk,11/yap\",\n  \t\"10.5|s|04/05:01->10/04:02\": \"4/lhi,4/lord_howe\",\n  \t\"0|n|03/29:00->10/25:01\": \"1/scoresbysund,3/azores\",\n  \t\"0|n\": \"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,0/timbuktu,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/gmt+0,13/gmt-0,13/gmt0,13/greenwich,13/utc,13/universal,13/zulu\",\n  \t\"-9|n|03/08:02->11/01:02\": \"1/adak,1/atka\",\n  \t\"-9|n\": \"11/gambier\",\n  \t\"-9.5|n\": \"11/marquesas\",\n  \t\"-8|n|03/08:02->11/01:02\": \"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat\",\n  \t\"-8|n\": \"11/pitcairn\",\n  \t\"-7|n|03/08:02->11/01:02\": \"1/ensenada,1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,6/pacific,10/bajanorte\",\n  \t\"-7|n|03/08:02->11/01:01\": \"1/dawson,1/whitehorse,6/yukon\",\n  \t\"-7|n\": \"1/creston,1/dawson_creek,1/fort_nelson,1/hermosillo,1/phoenix\",\n  \t\"-6|s|04/04:22->09/05:22\": \"7/easterisland,11/easter\",\n  \t\"-6|n|04/05:02->10/25:02\": \"1/chihuahua,1/mazatlan,10/bajasur\",\n  \t\"-6|n|03/08:02->11/01:02\": \"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/shiprock,1/yellowknife,6/mountain\",\n  \t\"-6|n\": \"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,6/east-saskatchewan,6/saskatchewan,11/galapagos\",\n  \t\"-5|s\": \"1/lima,1/rio_branco,5/acre\",\n  \t\"-5|n|04/05:02->10/25:02\": \"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general\",\n  \t\"-5|n|03/12:03->11/05:01\": \"1/north_dakota\",\n  \t\"-5|n|03/08:02->11/01:02\": \"1/chicago,1/knox_in,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,6/central\",\n  \t\"-5|n\": \"1/atikokan,1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/porto_acre\",\n  \t\"-4|s|05/13:23->08/13:01\": \"12/palmer\",\n  \t\"-4|s|04/04:24->09/06:00\": \"1/santiago,7/continental\",\n  \t\"-4|s|03/21:24->10/04:00\": \"1/asuncion\",\n  \t\"-4|s|02/16:24->11/03:00\": \"1/campo_grande,1/cuiaba\",\n  \t\"-4|s\": \"1/la_paz,1/manaus,5/west\",\n  \t\"-4|n|03/12:03->11/05:01\": \"1/indiana,1/kentucky\",\n  \t\"-4|n|03/08:02->11/01:02\": \"1/detroit,1/fort_wayne,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,6/eastern\",\n  \t\"-4|n|03/08:00->11/01:01\": \"1/havana\",\n  \t\"-4|n\": \"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin\",\n  \t\"-3|s\": \"1/argentina,1/buenos_aires,1/cordoba,1/fortaleza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,5/east\",\n  \t\"-3|n|03/28:22->10/24:23\": \"1/nuuk\",\n  \t\"-3|n|03/08:02->11/01:02\": \"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic\",\n  \t\"-3|n\": \"1/araguaina,1/bahia,1/belem,1/catamarca,1/cayenne,1/jujuy,1/maceio,1/mendoza,1/paramaribo,1/recife,1/rosario,1/santarem\",\n  \t\"-2|s\": \"5/denoronha\",\n  \t\"-2|n|03/28:22->10/24:23\": \"1/godthab\",\n  \t\"-2|n|03/08:02->11/01:02\": \"1/miquelon\",\n  \t\"-2|n\": \"1/noronha,3/south_georgia\",\n  \t\"-2.5|n|03/08:02->11/01:02\": \"1/st_johns,6/newfoundland\",\n  \t\"-1|n\": \"3/cape_verde\",\n  \t\"-11|n\": \"11/midway,11/niue,11/pago_pago,11/samoa\",\n  \t\"-10|n\": \"11/honolulu,11/johnston,11/rarotonga,11/tahiti\"\n  };\n\n  var _build$1 = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': _build\n  });\n\n  //prefixes for iana names..\n  var _prefixes = ['africa', 'america', 'asia', 'atlantic', 'australia', 'brazil', 'canada', 'chile', 'europe', 'indian', 'mexico', 'pacific', 'antarctica', 'etc'];\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  function getCjsExportFromNamespace (n) {\n  \treturn n && n['default'] || n;\n  }\n\n  var data = getCjsExportFromNamespace(_build$1);\n\n  var all = {};\n  Object.keys(data).forEach(function (k) {\n    var split = k.split('|');\n    var obj = {\n      offset: Number(split[0]),\n      hem: split[1]\n    };\n\n    if (split[2]) {\n      obj.dst = split[2];\n    }\n\n    var names = data[k].split(',');\n    names.forEach(function (str) {\n      str = str.replace(/(^[0-9]+)\\//, function (before, num) {\n        num = Number(num);\n        return _prefixes[num] + '/';\n      });\n      all[str] = obj;\n    });\n  });\n  all['utc'] = {\n    offset: 0,\n    hem: 'n' //default to northern hemisphere - (sorry!)\n\n  }; //add etc/gmt+n\n\n  for (var i = -14; i <= 14; i += 0.5) {\n    var num = i;\n\n    if (num > 0) {\n      num = '+' + num;\n    }\n\n    var name = 'etc/gmt' + num;\n    all[name] = {\n      offset: i * -1,\n      //they're negative!\n      hem: 'n' //(sorry)\n\n    };\n    name = 'utc/gmt' + num; //this one too, why not.\n\n    all[name] = {\n      offset: i * -1,\n      hem: 'n'\n    };\n  }\n\n  var unpack = all;\n\n  //find the implicit iana code for this machine.\n  //safely query the Intl object\n  //based on - https://bitbucket.org/pellepim/jstimezonedetect/src\n  var fallbackTZ = 'utc'; //\n  //this Intl object is not supported often, yet\n\n  var safeIntl = function safeIntl() {\n    if (typeof Intl === 'undefined' || typeof Intl.DateTimeFormat === 'undefined') {\n      return null;\n    }\n\n    var format = Intl.DateTimeFormat();\n\n    if (typeof format === 'undefined' || typeof format.resolvedOptions === 'undefined') {\n      return null;\n    }\n\n    var timezone = format.resolvedOptions().timeZone;\n\n    if (!timezone) {\n      return null;\n    }\n\n    return timezone.toLowerCase();\n  };\n\n  var guessTz = function guessTz() {\n    var timezone = safeIntl();\n\n    if (timezone === null) {\n      return fallbackTZ;\n    }\n\n    return timezone;\n  }; //do it once per computer\n\n\n  var guessTz_1 = guessTz;\n\n  var isOffset = /(\\-?[0-9]+)h(rs)?/i;\n  var isNumber = /(\\-?[0-9]+)/;\n  var utcOffset = /utc([\\-+]?[0-9]+)/i;\n  var gmtOffset = /gmt([\\-+]?[0-9]+)/i;\n\n  var toIana = function toIana(num) {\n    num = Number(num);\n\n    if (num >= -13 && num <= 13) {\n      num = num * -1; //it's opposite!\n\n      num = (num > 0 ? '+' : '') + num; //add plus sign\n\n      return 'etc/gmt' + num;\n    }\n\n    return null;\n  };\n\n  var parseOffset = function parseOffset(tz) {\n    // '+5hrs'\n    var m = tz.match(isOffset);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    } // 'utc+5'\n\n\n    m = tz.match(utcOffset);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    } // 'GMT-5' (not opposite)\n\n\n    m = tz.match(gmtOffset);\n\n    if (m !== null) {\n      var num = Number(m[1]) * -1;\n      return toIana(num);\n    } // '+5'\n\n\n    m = tz.match(isNumber);\n\n    if (m !== null) {\n      return toIana(m[1]);\n    }\n\n    return null;\n  };\n\n  var parseOffset_1 = parseOffset;\n\n  var local = guessTz_1(); //add all the city names by themselves\n\n  var cities = Object.keys(unpack).reduce(function (h, k) {\n    var city = k.split('/')[1] || '';\n    city = city.replace(/_/g, ' ');\n    h[city] = k;\n    return h;\n  }, {}); //try to match these against iana form\n\n  var normalize = function normalize(tz) {\n    tz = tz.replace(/ time/g, '');\n    tz = tz.replace(/ (standard|daylight|summer)/g, '');\n    tz = tz.replace(/\\b(east|west|north|south)ern/g, '$1');\n    tz = tz.replace(/\\b(africa|america|australia)n/g, '$1');\n    tz = tz.replace(/\\beuropean/g, 'europe');\n    tz = tz.replace(/\\islands/g, 'island');\n    return tz;\n  }; // try our best to reconcile the timzone to this given string\n\n\n  var lookupTz = function lookupTz(str, zones) {\n    if (!str) {\n      return local;\n    }\n\n    if (typeof str !== 'string') {\n      console.error(\"Timezone must be a string - recieved: '\", str, \"'\\n\");\n    }\n\n    var tz = str.trim();\n    var split = str.split('/'); //support long timezones like 'America/Argentina/Rio_Gallegos'\n\n    if (split.length > 2 && zones.hasOwnProperty(tz) === false) {\n      tz = split[0] + '/' + split[1];\n    }\n\n    tz = tz.toLowerCase();\n\n    if (zones.hasOwnProperty(tz) === true) {\n      return tz;\n    } //lookup more loosely..\n\n\n    tz = normalize(tz);\n\n    if (zones.hasOwnProperty(tz) === true) {\n      return tz;\n    } //try city-names\n\n\n    if (cities.hasOwnProperty(tz) === true) {\n      return cities[tz];\n    } // //try to parse '-5h'\n\n\n    if (/[0-9]/.test(tz) === true) {\n      var id = parseOffset_1(tz);\n\n      if (id) {\n        return id;\n      }\n    }\n\n    throw new Error(\"Spacetime: Cannot find timezone named: '\" + str + \"'. Please enter an IANA timezone id.\");\n  };\n\n  var find = lookupTz;\n\n  var o = {\n    millisecond: 1\n  };\n  o.second = 1000;\n  o.minute = 60000;\n  o.hour = 3.6e6; // dst is supported post-hoc\n\n  o.day = 8.64e7; //\n\n  o.date = o.day;\n  o.month = 8.64e7 * 29.5; //(average)\n\n  o.week = 6.048e8;\n  o.year = 3.154e10; // leap-years are supported post-hoc\n  //add plurals\n\n  Object.keys(o).forEach(function (k) {\n    o[k + 's'] = o[k];\n  });\n  var milliseconds = o;\n\n  var walk = function walk(s, n, fn, unit, previous) {\n    var current = s.d[fn]();\n\n    if (current === n) {\n      return; //already there\n    }\n\n    var startUnit = previous === null ? null : s.d[previous]();\n    var original = s.epoch; //try to get it as close as we can\n\n    var diff = n - current;\n    s.epoch += milliseconds[unit] * diff; //DST edge-case: if we are going many days, be a little conservative\n    // console.log(unit, diff)\n\n    if (unit === 'day') {\n      // s.epoch -= ms.minute\n      //but don't push it over a month\n      if (Math.abs(diff) > 28 && n < 28) {\n        s.epoch += milliseconds.hour;\n      }\n    } // 1st time: oops, did we change previous unit? revert it.\n\n\n    if (previous !== null && startUnit !== s.d[previous]()) {\n      // console.warn('spacetime warning: missed setting ' + unit)\n      s.epoch = original; // s.epoch += ms[unit] * diff * 0.89 // maybe try and make it close...?\n    } //repair it if we've gone too far or something\n    //(go by half-steps, just in case)\n\n\n    var halfStep = milliseconds[unit] / 2;\n\n    while (s.d[fn]() < n) {\n      s.epoch += halfStep;\n    }\n\n    while (s.d[fn]() > n) {\n      s.epoch -= halfStep;\n    } // 2nd time: did we change previous unit? revert it.\n\n\n    if (previous !== null && startUnit !== s.d[previous]()) {\n      // console.warn('spacetime warning: missed setting ' + unit)\n      s.epoch = original;\n    }\n  }; //find the desired date by a increment/check while loop\n\n\n  var units = {\n    year: {\n      valid: function valid(n) {\n        return n > -4000 && n < 4000;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getFullYear', 'year', null);\n      }\n    },\n    month: {\n      valid: function valid(n) {\n        return n >= 0 && n <= 11;\n      },\n      walkTo: function walkTo(s, n) {\n        var d = s.d;\n        var current = d.getMonth();\n        var original = s.epoch;\n        var startUnit = d.getFullYear();\n\n        if (current === n) {\n          return;\n        } //try to get it as close as we can..\n\n\n        var diff = n - current;\n        s.epoch += milliseconds.day * (diff * 28); //special case\n        //oops, did we change the year? revert it.\n\n        if (startUnit !== s.d.getFullYear()) {\n          s.epoch = original;\n        } //incriment by day\n\n\n        while (s.d.getMonth() < n) {\n          s.epoch += milliseconds.day;\n        }\n\n        while (s.d.getMonth() > n) {\n          s.epoch -= milliseconds.day;\n        }\n      }\n    },\n    date: {\n      valid: function valid(n) {\n        return n > 0 && n <= 31;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getDate', 'day', 'getMonth');\n      }\n    },\n    hour: {\n      valid: function valid(n) {\n        return n >= 0 && n < 24;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getHours', 'hour', 'getDate');\n      }\n    },\n    minute: {\n      valid: function valid(n) {\n        return n >= 0 && n < 60;\n      },\n      walkTo: function walkTo(s, n) {\n        return walk(s, n, 'getMinutes', 'minute', 'getHours');\n      }\n    },\n    second: {\n      valid: function valid(n) {\n        return n >= 0 && n < 60;\n      },\n      walkTo: function walkTo(s, n) {\n        //do this one directly\n        s.epoch = s.seconds(n).epoch;\n      }\n    },\n    millisecond: {\n      valid: function valid(n) {\n        return n >= 0 && n < 1000;\n      },\n      walkTo: function walkTo(s, n) {\n        //do this one directly\n        s.epoch = s.milliseconds(n).epoch;\n      }\n    }\n  };\n\n  var walkTo = function walkTo(s, wants) {\n    var keys = Object.keys(units);\n    var old = s.clone();\n\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      var n = wants[k];\n\n      if (n === undefined) {\n        n = old[k]();\n      }\n\n      if (typeof n === 'string') {\n        n = parseInt(n, 10);\n      } //make-sure it's valid\n\n\n      if (!units[k].valid(n)) {\n        s.epoch = null;\n\n        if (s.silent === false) {\n          console.warn('invalid ' + k + ': ' + n);\n        }\n\n        return;\n      }\n\n      units[k].walkTo(s, n);\n    }\n\n    return;\n  };\n\n  var walk_1 = walkTo;\n\n  var shortMonths = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sept', 'oct', 'nov', 'dec'];\n  var longMonths = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\n  function buildMapping() {\n    var obj = {\n      sep: 8 //support this format\n\n    };\n\n    for (var i = 0; i < shortMonths.length; i++) {\n      obj[shortMonths[i]] = i;\n    }\n\n    for (var _i = 0; _i < longMonths.length; _i++) {\n      obj[longMonths[_i]] = _i;\n    }\n\n    return obj;\n  }\n\n  var months = {\n    \"short\": function short() {\n      return shortMonths;\n    },\n    \"long\": function long() {\n      return longMonths;\n    },\n    mapping: function mapping() {\n      return buildMapping();\n    },\n    set: function set(i18n) {\n      shortMonths = i18n[\"short\"] || shortMonths;\n      longMonths = i18n[\"long\"] || longMonths;\n    }\n  };\n\n  //pull-apart ISO offsets, like \"+0100\"\n  var parseOffset$1 = function parseOffset(s, offset) {\n    if (!offset) {\n      return s;\n    } //this is a fancy-move\n\n\n    if (offset === 'Z' || offset === 'z') {\n      offset = '+0000';\n    } // according to ISO8601, tz could be hh:mm, hhmm or hh\n    // so need few more steps before the calculation.\n\n\n    var num = 0; // for (+-)hh:mm\n\n    if (/^[\\+-]?[0-9]{2}:[0-9]{2}$/.test(offset)) {\n      //support \"+01:00\"\n      if (/:00/.test(offset) === true) {\n        offset = offset.replace(/:00/, '');\n      } //support \"+01:30\"\n\n\n      if (/:30/.test(offset) === true) {\n        offset = offset.replace(/:30/, '.5');\n      }\n    } // for (+-)hhmm\n\n\n    if (/^[\\+-]?[0-9]{4}$/.test(offset)) {\n      offset = offset.replace(/30$/, '.5');\n    }\n\n    num = parseFloat(offset); //divide by 100 or 10 - , \"+0100\", \"+01\"\n\n    if (Math.abs(num) > 100) {\n      num = num / 100;\n    } //okay, try to match it to a utc timezone\n    //remember - this is opposite! a -5 offset maps to Etc/GMT+5  ¯\\_(:/)_/¯\n    //https://askubuntu.com/questions/519550/why-is-the-8-timezone-called-gmt-8-in-the-filesystem\n\n\n    num *= -1;\n\n    if (num >= 0) {\n      num = '+' + num;\n    }\n\n    var tz = 'etc/gmt' + num;\n    var zones = s.timezones;\n\n    if (zones[tz]) {\n      // log a warning if we're over-writing a given timezone?\n      // console.log('changing timezone to: ' + tz)\n      s.tz = tz;\n    }\n\n    return s;\n  };\n\n  var parseOffset_1$1 = parseOffset$1;\n\n  var parseTime = function parseTime(s) {\n    var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    str = str.replace(/^\\s+/, '').toLowerCase(); //trim\n    //formal time formats - 04:30.23\n\n    var arr = str.match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\\.]?([0-9]{1,4})?/);\n\n    if (arr !== null) {\n      //validate it a little\n      var h = Number(arr[1]);\n\n      if (h < 0 || h > 24) {\n        return s.startOf('day');\n      }\n\n      var m = Number(arr[2]); //don't accept '5:3pm'\n\n      if (arr[2].length < 2 || m < 0 || m > 59) {\n        return s.startOf('day');\n      }\n\n      if (arr[4] > 999) {\n        // fix overflow issue with milliseconds, if input is longer than standard (e.g. 2017-08-06T09:00:00.123456Z)\n        arr[4] = parseInt(\"\".concat(arr[4]).substring(0, 3), 10);\n      }\n\n      s = s.hour(h);\n      s = s.minute(m);\n      s = s.seconds(arr[3] || 0);\n      s = s.millisecond(arr[4] || 0); //parse-out am/pm\n\n      var ampm = str.match(/[\\b0-9](am|pm)\\b/);\n\n      if (ampm !== null && ampm[1]) {\n        s = s.ampm(ampm[1]);\n      }\n\n      return s;\n    } //try an informal form - 5pm (no minutes)\n\n\n    arr = str.match(/([0-9]+) ?(am|pm)/);\n\n    if (arr !== null && arr[1]) {\n      var _h = Number(arr[1]); //validate it a little..\n\n\n      if (_h > 12 || _h < 1) {\n        return s.startOf('day');\n      }\n\n      s = s.hour(arr[1] || 0);\n      s = s.ampm(arr[2]);\n      s = s.startOf('hour');\n      return s;\n    } //no time info found, use start-of-day\n\n\n    s = s.startOf('day');\n    return s;\n  };\n\n  var parseTime_1 = parseTime;\n\n  var monthLengths = [31, // January - 31 days\n  28, // February - 28 days in a common year and 29 days in leap years\n  31, // March - 31 days\n  30, // April - 30 days\n  31, // May - 31 days\n  30, // June - 30 days\n  31, // July - 31 days\n  31, // August - 31 days\n  30, // September - 30 days\n  31, // October - 31 days\n  30, // November - 30 days\n  31 // December - 31 days\n  ];\n  var monthLengths_1 = monthLengths; // 28 - feb\n\n  var fns = createCommonjsModule(function (module, exports) {\n    //git:blame @JuliasCaesar https://www.timeanddate.com/date/leapyear.html\n    exports.isLeapYear = function (year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    }; // unsurprisingly-nasty `typeof date` call\n\n\n    exports.isDate = function (d) {\n      return Object.prototype.toString.call(d) === '[object Date]' && !isNaN(d.valueOf());\n    };\n\n    exports.isArray = function (input) {\n      return Object.prototype.toString.call(input) === '[object Array]';\n    };\n\n    exports.isObject = function (input) {\n      return Object.prototype.toString.call(input) === '[object Object]';\n    };\n\n    exports.isBoolean = function (input) {\n      return Object.prototype.toString.call(input) === '[object Boolean]';\n    };\n\n    exports.zeroPad = function (str) {\n      var len = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n      var pad = '0';\n      str = str + '';\n      return str.length >= len ? str : new Array(len - str.length + 1).join(pad) + str;\n    };\n\n    exports.titleCase = function (str) {\n      if (!str) {\n        return '';\n      }\n\n      return str[0].toUpperCase() + str.substr(1);\n    };\n\n    exports.ordinal = function (i) {\n      var j = i % 10;\n      var k = i % 100;\n\n      if (j === 1 && k !== 11) {\n        return i + 'st';\n      }\n\n      if (j === 2 && k !== 12) {\n        return i + 'nd';\n      }\n\n      if (j === 3 && k !== 13) {\n        return i + 'rd';\n      }\n\n      return i + 'th';\n    }; //strip 'st' off '1st'..\n\n\n    exports.toCardinal = function (str) {\n      str = String(str);\n      str = str.replace(/([0-9])(st|nd|rd|th)$/i, '$1');\n      return parseInt(str, 10);\n    }; //used mostly for cleanup of unit names, like 'months'\n\n\n    exports.normalize = function () {\n      var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      str = str.toLowerCase().trim();\n      str = str.replace(/ies$/, 'y'); //'centuries'\n\n      str = str.replace(/s$/, '');\n      str = str.replace(/-/g, '');\n\n      if (str === 'day' || str === 'days') {\n        return 'date';\n      }\n\n      if (str === 'min' || str === 'mins') {\n        return 'minute';\n      }\n\n      return str;\n    };\n\n    exports.getEpoch = function (tmp) {\n      //support epoch\n      if (typeof tmp === 'number') {\n        return tmp;\n      } //suport date objects\n\n\n      if (exports.isDate(tmp)) {\n        return tmp.getTime();\n      }\n\n      if (tmp.epoch) {\n        return tmp.epoch;\n      }\n\n      return null;\n    }; //make sure this input is a spacetime obj\n\n\n    exports.beADate = function (d, s) {\n      if (exports.isObject(d) === false) {\n        return s.clone().set(d);\n      }\n\n      return d;\n    };\n\n    exports.formatTimezone = function (offset) {\n      var delimiter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var sign = offset > 0 ? '+' : '-';\n      var absOffset = Math.abs(offset);\n      var hours = exports.zeroPad(parseInt('' + absOffset, 10));\n      var minutes = exports.zeroPad(absOffset % 1 * 60);\n      return \"\".concat(sign).concat(hours).concat(delimiter).concat(minutes);\n    };\n  });\n  var fns_1 = fns.isLeapYear;\n  var fns_2 = fns.isDate;\n  var fns_3 = fns.isArray;\n  var fns_4 = fns.isObject;\n  var fns_5 = fns.isBoolean;\n  var fns_6 = fns.zeroPad;\n  var fns_7 = fns.titleCase;\n  var fns_8 = fns.ordinal;\n  var fns_9 = fns.toCardinal;\n  var fns_10 = fns.normalize;\n  var fns_11 = fns.getEpoch;\n  var fns_12 = fns.beADate;\n  var fns_13 = fns.formatTimezone;\n\n  var isLeapYear = fns.isLeapYear; //given a month, return whether day number exists in it\n\n  var hasDate = function hasDate(obj) {\n    //invalid values\n    if (monthLengths_1.hasOwnProperty(obj.month) !== true) {\n      return false;\n    } //support leap-year in february\n\n\n    if (obj.month === 1) {\n      if (isLeapYear(obj.year) && obj.date <= 29) {\n        return true;\n      } else {\n        return obj.date <= 28;\n      }\n    } //is this date too-big for this month?\n\n\n    var max = monthLengths_1[obj.month] || 0;\n\n    if (obj.date <= max) {\n      return true;\n    }\n\n    return false;\n  };\n\n  var hasDate_1 = hasDate;\n\n  var months$1 = months.mapping();\n\n  var parseYear = function parseYear() {\n    var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var today = arguments.length > 1 ? arguments[1] : undefined;\n    var year = parseInt(str.trim(), 10); // use a given year from options.today\n\n    if (!year && today) {\n      year = today.year;\n    } // fallback to this year\n\n\n    year = year || new Date().getFullYear();\n    return year;\n  };\n\n  var strFmt = [//iso-this 1998-05-30T22:00:00:000Z, iso-that 2017-04-03T08:00:00-0700\n  {\n    reg: /^(\\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\\-\\+:]+)?$/i,\n    parse: function parse(s, arr, givenTz, options) {\n      var month = parseInt(arr[2], 10) - 1;\n      var obj = {\n        year: arr[1],\n        month: month,\n        date: arr[3]\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      parseOffset_1$1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //iso \"2015-03-25\" or \"2015/03/25\" or \"2015/03/25 12:26:14 PM\"\n  {\n    reg: /^([0-9]{4})[\\-\\/.]([0-9]{1,2})[\\-\\/.]([0-9]{1,2}),?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var obj = {\n        year: arr[1],\n        month: parseInt(arr[2], 10) - 1,\n        date: parseInt(arr[3], 10)\n      };\n\n      if (obj.month >= 12) {\n        //support yyyy/dd/mm (weird, but ok)\n        obj.date = parseInt(arr[2], 10);\n        obj.month = parseInt(arr[3], 10) - 1;\n      }\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //mm/dd/yyyy - uk/canada \"6/28/2019, 12:26:14 PM\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/.]([0-9]{1,2})[\\-\\/.]?([0-9]{4})?,?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var month = parseInt(arr[1], 10) - 1;\n      var date = parseInt(arr[2], 10); //support dd/mm/yyy\n\n      if (s.british || month >= 12) {\n        date = parseInt(arr[1], 10);\n        month = parseInt(arr[2], 10) - 1;\n      }\n\n      var year = arr[3] || new Date().getFullYear();\n      var obj = {\n        year: year,\n        month: month,\n        date: date\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, // '2012-06' last attempt at iso-like format\n  {\n    reg: /^([0-9]{4})[\\-\\/]([0-9]{2})$/i,\n    parse: function parse(s, arr, givenTz, options) {\n      var month = parseInt(arr[2], 10) - 1;\n      var obj = {\n        year: arr[1],\n        month: month,\n        date: 1\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      parseOffset_1$1(s, arr[5]);\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //common british format - \"25-feb-2015\"\n  {\n    reg: /^([0-9]{1,2})[\\-\\/]([a-z]+)[\\-\\/]?([0-9]{4})?$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[2].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[1] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //alt short format - \"feb-25-2015\"\n  {\n    reg: /^([a-z]+)[\\-\\/]([0-9]{1,2})[\\-\\/]?([0-9]{4})?$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[1].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //Long \"Mar 25 2015\"\n  //February 22, 2017 15:30:00\n  {\n    reg: /^([a-z]+) ([0-9]{1,2}(?:st|nd|rd|th)?),?( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[1].toLowerCase()];\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[2] || '')\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //February 2017 (implied date)\n  {\n    reg: /^([a-z]+) ([0-9]{4})$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[1].toLowerCase()];\n      var year = parseYear(arr[2], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: s._today.date || 1\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, //Long \"25 Mar 2015\"\n  {\n    reg: /^([0-9]{1,2}(?:st|nd|rd|th)?) ([a-z]+),?( [0-9]{4})?,? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,\n    parse: function parse(s, arr) {\n      var month = months$1[arr[2].toLowerCase()];\n\n      if (!month) {\n        return null;\n      }\n\n      var year = parseYear(arr[3], s._today);\n      var obj = {\n        year: year,\n        month: month,\n        date: fns.toCardinal(arr[1])\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s, arr[4]);\n      return s;\n    }\n  }, {\n    // 'q2 2002'\n    reg: /^(q[0-9])( of)?( [0-9]{4})?/i,\n    parse: function parse(s, arr) {\n      var quarter = arr[1] || '';\n      s = s.quarter(quarter);\n      var year = arr[3] || '';\n\n      if (year) {\n        year = year.trim();\n        s = s.year(year);\n      }\n\n      return s;\n    }\n  }, {\n    // 'summer 2002'\n    reg: /^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,\n    parse: function parse(s, arr) {\n      var season = arr[1] || '';\n      s = s.season(season);\n      var year = arr[3] || '';\n\n      if (year) {\n        year = year.trim();\n        s = s.year(year);\n      }\n\n      return s;\n    }\n  }, {\n    // '200bc'\n    reg: /^[0-9,]+ ?b\\.?c\\.?$/i,\n    parse: function parse(s, arr) {\n      var str = arr[0] || ''; //make negative-year\n\n      str = str.replace(/^([0-9,]+) ?b\\.?c\\.?$/i, '-$1'); //remove commas\n\n      str = str.replace(/,/g, '');\n      var year = parseInt(str.trim(), 10);\n      var d = new Date();\n      var obj = {\n        year: year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }, {\n    // '200ad'\n    reg: /^[0-9,]+ ?(a\\.?d\\.?|c\\.?e\\.?)$/i,\n    parse: function parse(s, arr) {\n      var str = arr[0] || ''; //remove commas\n\n      str = str.replace(/,/g, '');\n      var year = parseInt(str.trim(), 10);\n      var d = new Date();\n      var obj = {\n        year: year,\n        month: d.getMonth(),\n        date: d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }, {\n    // '1992'\n    reg: /^[0-9]{4}( ?a\\.?d\\.?)?$/i,\n    parse: function parse(s, arr) {\n      var today = s._today;\n      var year = parseYear(arr[0], today);\n      var d = new Date(); // using today's date, but a new month is awkward.\n\n      if (today.month && !today.date) {\n        today.date = 1;\n      }\n\n      var obj = {\n        year: year,\n        month: today.month || d.getMonth(),\n        date: today.date || d.getDate()\n      };\n\n      if (hasDate_1(obj) === false) {\n        s.epoch = null;\n        return s;\n      }\n\n      walk_1(s, obj);\n      s = parseTime_1(s);\n      return s;\n    }\n  }];\n  var strParse = strFmt;\n\n  // pull in 'today' data for the baseline moment\n  var getNow = function getNow(s) {\n    s.epoch = Date.now();\n    Object.keys(s._today || {}).forEach(function (k) {\n      if (typeof s[k] === 'function') {\n        s = s[k](s._today[k]);\n      }\n    });\n    return s;\n  };\n\n  var dates = {\n    now: function now(s) {\n      return getNow(s);\n    },\n    today: function today(s) {\n      return getNow(s);\n    },\n    tonight: function tonight(s) {\n      s = getNow(s);\n      s = s.hour(18); //6pm\n\n      return s;\n    },\n    tomorrow: function tomorrow(s) {\n      s = getNow(s);\n      s = s.add(1, 'day');\n      s = s.startOf('day');\n      return s;\n    },\n    yesterday: function yesterday(s) {\n      s = getNow(s);\n      s = s.subtract(1, 'day');\n      s = s.startOf('day');\n      return s;\n    },\n    christmas: function christmas(s) {\n      var year = getNow(s).year();\n      s = s.set([year, 11, 25, 18, 0, 0]); // Dec 25\n\n      return s;\n    },\n    'new years': function newYears(s) {\n      var year = getNow(s).year();\n      s = s.set([year, 11, 31, 18, 0, 0]); // Dec 31\n\n      return s;\n    }\n  };\n  dates['new years eve'] = dates['new years'];\n  var namedDates = dates;\n\n  //  -  can't use built-in js parser ;(\n  //=========================================\n  // ISO Date\t  \"2015-03-25\"\n  // Short Date\t\"03/25/2015\" or \"2015/03/25\"\n  // Long Date\t\"Mar 25 2015\" or \"25 Mar 2015\"\n  // Full Date\t\"Wednesday March 25 2015\"\n  //=========================================\n  //-- also -\n  // if the given epoch is really small, they've probably given seconds and not milliseconds\n  // anything below this number is likely (but not necessarily) a mistaken input.\n  // this may seem like an arbitrary number, but it's 'within jan 1970'\n  // this is only really ambiguous until 2054 or so\n\n  var minimumEpoch = 2500000000;\n  var defaults = {\n    year: new Date().getFullYear(),\n    month: 0,\n    date: 1\n  }; //support [2016, 03, 01] format\n\n  var handleArray = function handleArray(s, arr, today) {\n    if (arr.length === 0) {\n      return s;\n    }\n\n    var order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond'];\n\n    for (var i = 0; i < order.length; i++) {\n      var num = arr[i] || today[order[i]] || defaults[order[i]] || 0;\n      s = s[order[i]](num);\n    }\n\n    return s;\n  }; //support {year:2016, month:3} format\n\n\n  var handleObject = function handleObject(s, obj, today) {\n    // if obj is empty, do nothing\n    if (Object.keys(obj).length === 0) {\n      return s;\n    }\n\n    obj = Object.assign({}, defaults, today, obj);\n    var keys = Object.keys(obj);\n\n    for (var i = 0; i < keys.length; i++) {\n      var unit = keys[i]; //make sure we have this method\n\n      if (s[unit] === undefined || typeof s[unit] !== 'function') {\n        continue;\n      } //make sure the value is a number\n\n\n      if (obj[unit] === null || obj[unit] === undefined || obj[unit] === '') {\n        continue;\n      }\n\n      var num = obj[unit] || today[unit] || defaults[unit] || 0;\n      s = s[unit](num);\n    }\n\n    return s;\n  }; //find the epoch from different input styles\n\n\n  var parseInput = function parseInput(s, input, givenTz) {\n    var today = s._today || defaults; //if we've been given a epoch number, it's easy\n\n    if (typeof input === 'number') {\n      if (input > 0 && input < minimumEpoch && s.silent === false) {\n        console.warn('  - Warning: You are setting the date to January 1970.');\n        console.warn('       -   did input seconds instead of milliseconds?');\n      }\n\n      s.epoch = input;\n      return s;\n    } //set tmp time\n\n\n    s.epoch = Date.now(); // overwrite tmp time with 'today' value, if exists\n\n    if (s._today && fns.isObject(s._today) && Object.keys(s._today).length > 0) {\n      var res = handleObject(s, today, defaults);\n\n      if (res.isValid()) {\n        s.epoch = res.epoch;\n      }\n    } // null input means 'now'\n\n\n    if (input === null || input === undefined || input === '') {\n      return s; //k, we're good.\n    } //support input of Date() object\n\n\n    if (fns.isDate(input) === true) {\n      s.epoch = input.getTime();\n      return s;\n    } //support [2016, 03, 01] format\n\n\n    if (fns.isArray(input) === true) {\n      s = handleArray(s, input, today);\n      return s;\n    } //support {year:2016, month:3} format\n\n\n    if (fns.isObject(input) === true) {\n      //support spacetime object as input\n      if (input.epoch) {\n        s.epoch = input.epoch;\n        s.tz = input.tz;\n        return s;\n      }\n\n      s = handleObject(s, input, today);\n      return s;\n    } //input as a string..\n\n\n    if (typeof input !== 'string') {\n      return s;\n    } //little cleanup..\n\n\n    input = input.replace(/\\b(mon|tues|wed|wednes|thu|thurs|fri|sat|satur|sun)(day)?\\b/i, '');\n    input = input.replace(/,/g, '');\n    input = input.replace(/ +/g, ' ').trim(); //try some known-words, like 'now'\n\n    if (namedDates.hasOwnProperty(input) === true) {\n      s = namedDates[input](s);\n      return s;\n    } //try each text-parse template, use the first good result\n\n\n    for (var i = 0; i < strParse.length; i++) {\n      var m = input.match(strParse[i].reg);\n\n      if (m) {\n        // console.log(strFmt[i].reg)\n        var _res = strParse[i].parse(s, m, givenTz);\n\n        if (_res !== null && _res.isValid()) {\n          return _res;\n        }\n      }\n    }\n\n    if (s.silent === false) {\n      console.warn(\"Warning: couldn't parse date-string: '\" + input + \"'\");\n    }\n\n    s.epoch = null;\n    return s;\n  };\n\n  var input = parseInput;\n\n  var shortDays = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n  var longDays = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n  var days = {\n    \"short\": function short() {\n      return shortDays;\n    },\n    \"long\": function long() {\n      return longDays;\n    },\n    set: function set(i18n) {\n      shortDays = i18n[\"short\"] || shortDays;\n      longDays = i18n[\"long\"] || longDays;\n    },\n    aliases: {\n      tues: 2,\n      thur: 4,\n      thurs: 4\n    }\n  };\n\n  var titleCaseEnabled = true;\n  var caseFormat = {\n    useTitleCase: function useTitleCase() {\n      return titleCaseEnabled;\n    },\n    set: function set(useTitleCase) {\n      titleCaseEnabled = useTitleCase;\n    }\n  };\n\n  // it's kind of nuts how involved this is\n  // \"+01:00\", \"+0100\", or simply \"+01\"\n\n  var isoOffset = function isoOffset(s) {\n    var offset = s.timezone().current.offset;\n    return !offset ? 'Z' : fns.formatTimezone(offset, ':');\n  };\n\n  var _offset = isoOffset;\n\n  var applyCaseFormat = function applyCaseFormat(str) {\n    if (caseFormat.useTitleCase()) {\n      return fns.titleCase(str);\n    }\n\n    return str;\n  };\n\n  var format = {\n    day: function day(s) {\n      return applyCaseFormat(s.dayName());\n    },\n    'day-short': function dayShort(s) {\n      return applyCaseFormat(days[\"short\"]()[s.day()]);\n    },\n    'day-number': function dayNumber(s) {\n      return s.day();\n    },\n    'day-ordinal': function dayOrdinal(s) {\n      return fns.ordinal(s.day());\n    },\n    'day-pad': function dayPad(s) {\n      return fns.zeroPad(s.day());\n    },\n    date: function date(s) {\n      return s.date();\n    },\n    'date-ordinal': function dateOrdinal(s) {\n      return fns.ordinal(s.date());\n    },\n    'date-pad': function datePad(s) {\n      return fns.zeroPad(s.date());\n    },\n    month: function month(s) {\n      return applyCaseFormat(s.monthName());\n    },\n    'month-short': function monthShort(s) {\n      return applyCaseFormat(months[\"short\"]()[s.month()]);\n    },\n    'month-number': function monthNumber(s) {\n      return s.month();\n    },\n    'month-ordinal': function monthOrdinal(s) {\n      return fns.ordinal(s.month());\n    },\n    'month-pad': function monthPad(s) {\n      return fns.zeroPad(s.month());\n    },\n    'iso-month': function isoMonth(s) {\n      return fns.zeroPad(s.month() + 1);\n    },\n    //1-based months\n    year: function year(s) {\n      var year = s.year();\n\n      if (year > 0) {\n        return year;\n      }\n\n      year = Math.abs(year);\n      return year + ' BC';\n    },\n    'year-short': function yearShort(s) {\n      var year = s.year();\n\n      if (year > 0) {\n        return \"'\".concat(String(s.year()).substr(2, 4));\n      }\n\n      year = Math.abs(year);\n      return year + ' BC';\n    },\n    'iso-year': function isoYear(s) {\n      var year = s.year();\n      var isNegative = year < 0;\n      var str = fns.zeroPad(Math.abs(year), 4); //0-padded\n\n      if (isNegative) {\n        //negative years are for some reason 6-digits ('-00008')\n        str = fns.zeroPad(str, 6);\n        str = '-' + str;\n      }\n\n      return str;\n    },\n    time: function time(s) {\n      return s.time();\n    },\n    'time-24': function time24(s) {\n      return \"\".concat(s.hour24(), \":\").concat(fns.zeroPad(s.minute()));\n    },\n    hour: function hour(s) {\n      return s.hour12();\n    },\n    'hour-pad': function hourPad(s) {\n      return fns.zeroPad(s.hour12());\n    },\n    'hour-24': function hour24(s) {\n      return s.hour24();\n    },\n    'hour-24-pad': function hour24Pad(s) {\n      return fns.zeroPad(s.hour24());\n    },\n    minute: function minute(s) {\n      return s.minute();\n    },\n    'minute-pad': function minutePad(s) {\n      return fns.zeroPad(s.minute());\n    },\n    second: function second(s) {\n      return s.second();\n    },\n    'second-pad': function secondPad(s) {\n      return fns.zeroPad(s.second());\n    },\n    ampm: function ampm(s) {\n      return s.ampm();\n    },\n    quarter: function quarter(s) {\n      return 'Q' + s.quarter();\n    },\n    season: function season(s) {\n      return s.season();\n    },\n    era: function era(s) {\n      return s.era();\n    },\n    json: function json(s) {\n      return s.json();\n    },\n    timezone: function timezone(s) {\n      return s.timezone().name;\n    },\n    offset: function offset(s) {\n      return _offset(s);\n    },\n    numeric: function numeric(s) {\n      return \"\".concat(s.year(), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n    },\n    // yyyy/mm/dd\n    'numeric-us': function numericUs(s) {\n      return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()), \"/\").concat(s.year());\n    },\n    // mm/dd/yyyy\n    'numeric-uk': function numericUk(s) {\n      return \"\".concat(fns.zeroPad(s.date()), \"/\").concat(fns.zeroPad(s.month() + 1), \"/\").concat(s.year());\n    },\n    //dd/mm/yyyy\n    'mm/dd': function mmDd(s) {\n      return \"\".concat(fns.zeroPad(s.month() + 1), \"/\").concat(fns.zeroPad(s.date()));\n    },\n    //mm/dd\n    // ... https://en.wikipedia.org/wiki/ISO_8601 ;(((\n    iso: function iso(s) {\n      var year = s.format('iso-year');\n      var month = fns.zeroPad(s.month() + 1); //1-based months\n\n      var date = fns.zeroPad(s.date());\n      var hour = fns.zeroPad(s.h24());\n      var minute = fns.zeroPad(s.minute());\n      var second = fns.zeroPad(s.second());\n      var ms = fns.zeroPad(s.millisecond(), 3);\n      var offset = _offset(s);\n      return \"\".concat(year, \"-\").concat(month, \"-\").concat(date, \"T\").concat(hour, \":\").concat(minute, \":\").concat(second, \".\").concat(ms).concat(offset); //2018-03-09T08:50:00.000-05:00\n    },\n    'iso-short': function isoShort(s) {\n      var month = fns.zeroPad(s.month() + 1); //1-based months\n\n      var date = fns.zeroPad(s.date());\n      return \"\".concat(s.year(), \"-\").concat(month, \"-\").concat(date); //2017-02-15\n    },\n    'iso-utc': function isoUtc(s) {\n      return new Date(s.epoch).toISOString(); //2017-03-08T19:45:28.367Z\n    },\n    //i made these up\n    nice: function nice(s) {\n      return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n    },\n    'nice-year': function niceYear(s) {\n      return \"\".concat(months[\"short\"]()[s.month()], \" \").concat(fns.ordinal(s.date()), \", \").concat(s.year());\n    },\n    'nice-day': function niceDay(s) {\n      return \"\".concat(days[\"short\"]()[s.day()], \" \").concat(applyCaseFormat(months[\"short\"]()[s.month()]), \" \").concat(fns.ordinal(s.date()));\n    },\n    'nice-full': function niceFull(s) {\n      return \"\".concat(s.dayName(), \" \").concat(applyCaseFormat(s.monthName()), \" \").concat(fns.ordinal(s.date()), \", \").concat(s.time());\n    }\n  }; //aliases\n\n  var aliases = {\n    'day-name': 'day',\n    'month-name': 'month',\n    'iso 8601': 'iso',\n    'time-h24': 'time-24',\n    'time-12': 'time',\n    'time-h12': 'time',\n    tz: 'timezone',\n    'day-num': 'day-number',\n    'month-num': 'month-number',\n    'month-iso': 'iso-month',\n    'year-iso': 'iso-year',\n    'nice-short': 'nice',\n    mdy: 'numeric-us',\n    dmy: 'numeric-uk',\n    ymd: 'numeric',\n    'yyyy/mm/dd': 'numeric',\n    'mm/dd/yyyy': 'numeric-us',\n    'dd/mm/yyyy': 'numeric-us',\n    'little-endian': 'numeric-uk',\n    'big-endian': 'numeric',\n    'day-nice': 'nice-day'\n  };\n  Object.keys(aliases).forEach(function (k) {\n    return format[k] = format[aliases[k]];\n  });\n\n  var printFormat = function printFormat(s) {\n    var str = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    //don't print anything if it's an invalid date\n    if (s.isValid() !== true) {\n      return '';\n    } //support .format('month')\n\n\n    if (format.hasOwnProperty(str)) {\n      var out = format[str](s) || '';\n\n      if (str !== 'json') {\n        out = String(out);\n\n        if (str !== 'ampm') {\n          out = applyCaseFormat(out);\n        }\n      }\n\n      return out;\n    } //support '{hour}:{minute}' notation\n\n\n    if (str.indexOf('{') !== -1) {\n      var sections = /\\{(.+?)\\}/g;\n      str = str.replace(sections, function (_, fmt) {\n        fmt = fmt.toLowerCase().trim();\n\n        if (format.hasOwnProperty(fmt)) {\n          return String(format[fmt](s));\n        }\n\n        return '';\n      });\n      return str;\n    }\n\n    return s.format('iso-short');\n  };\n\n  var format_1 = printFormat;\n\n  var pad = fns.zeroPad;\n  var formatTimezone = fns.formatTimezone; //parse this insane unix-time-templating thing, from the 19th century\n  //http://unicode.org/reports/tr35/tr35-25.html#Date_Format_Patterns\n  //time-symbols we support\n\n  var mapping = {\n    G: function G(s) {\n      return s.era();\n    },\n    GG: function GG(s) {\n      return s.era();\n    },\n    GGG: function GGG(s) {\n      return s.era();\n    },\n    GGGG: function GGGG(s) {\n      return s.era() === 'AD' ? 'Anno Domini' : 'Before Christ';\n    },\n    //year\n    y: function y(s) {\n      return s.year();\n    },\n    yy: function yy(s) {\n      //last two chars\n      return parseInt(String(s.year()).substr(2, 4), 10);\n    },\n    yyy: function yyy(s) {\n      return s.year();\n    },\n    yyyy: function yyyy(s) {\n      return s.year();\n    },\n    yyyyy: function yyyyy(s) {\n      return '0' + s.year();\n    },\n    // u: (s) => {},//extended non-gregorian years\n    //quarter\n    Q: function Q(s) {\n      return s.quarter();\n    },\n    QQ: function QQ(s) {\n      return s.quarter();\n    },\n    QQQ: function QQQ(s) {\n      return s.quarter();\n    },\n    QQQQ: function QQQQ(s) {\n      return s.quarter();\n    },\n    //month\n    M: function M(s) {\n      return s.month() + 1;\n    },\n    MM: function MM(s) {\n      return pad(s.month() + 1);\n    },\n    MMM: function MMM(s) {\n      return s.format('month-short');\n    },\n    MMMM: function MMMM(s) {\n      return s.format('month');\n    },\n    //week\n    w: function w(s) {\n      return s.week();\n    },\n    ww: function ww(s) {\n      return pad(s.week());\n    },\n    //week of month\n    // W: (s) => s.week(),\n    //date of month\n    d: function d(s) {\n      return s.date();\n    },\n    dd: function dd(s) {\n      return pad(s.date());\n    },\n    //date of year\n    D: function D(s) {\n      return s.dayOfYear();\n    },\n    DD: function DD(s) {\n      return pad(s.dayOfYear());\n    },\n    DDD: function DDD(s) {\n      return pad(s.dayOfYear(), 3);\n    },\n    // F: (s) => {},//date of week in month\n    // g: (s) => {},//modified julian day\n    //day\n    E: function E(s) {\n      return s.format('day-short');\n    },\n    EE: function EE(s) {\n      return s.format('day-short');\n    },\n    EEE: function EEE(s) {\n      return s.format('day-short');\n    },\n    EEEE: function EEEE(s) {\n      return s.format('day');\n    },\n    EEEEE: function EEEEE(s) {\n      return s.format('day')[0];\n    },\n    e: function e(s) {\n      return s.day();\n    },\n    ee: function ee(s) {\n      return s.day();\n    },\n    eee: function eee(s) {\n      return s.format('day-short');\n    },\n    eeee: function eeee(s) {\n      return s.format('day');\n    },\n    eeeee: function eeeee(s) {\n      return s.format('day')[0];\n    },\n    //am/pm\n    a: function a(s) {\n      return s.ampm().toUpperCase();\n    },\n    aa: function aa(s) {\n      return s.ampm().toUpperCase();\n    },\n    aaa: function aaa(s) {\n      return s.ampm().toUpperCase();\n    },\n    aaaa: function aaaa(s) {\n      return s.ampm().toUpperCase();\n    },\n    //hour\n    h: function h(s) {\n      return s.h12();\n    },\n    hh: function hh(s) {\n      return pad(s.h12());\n    },\n    H: function H(s) {\n      return s.hour();\n    },\n    HH: function HH(s) {\n      return pad(s.hour());\n    },\n    // j: (s) => {},//weird hour format\n    m: function m(s) {\n      return s.minute();\n    },\n    mm: function mm(s) {\n      return pad(s.minute());\n    },\n    s: function s(_s) {\n      return _s.second();\n    },\n    ss: function ss(s) {\n      return pad(s.second());\n    },\n    //milliseconds in the day\n    A: function A(s) {\n      return s.epoch - s.startOf('day').epoch;\n    },\n    //timezone\n    z: function z(s) {\n      return s.timezone().name;\n    },\n    zz: function zz(s) {\n      return s.timezone().name;\n    },\n    zzz: function zzz(s) {\n      return s.timezone().name;\n    },\n    zzzz: function zzzz(s) {\n      return s.timezone().name;\n    },\n    Z: function Z(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZ: function ZZ(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZZ: function ZZZ(s) {\n      return formatTimezone(s.timezone().current.offset);\n    },\n    ZZZZ: function ZZZZ(s) {\n      return formatTimezone(s.timezone().current.offset, ':');\n    }\n  };\n\n  var addAlias = function addAlias(_char, to, n) {\n    var name = _char;\n    var toName = to;\n\n    for (var i = 0; i < n; i += 1) {\n      mapping[name] = mapping[toName];\n      name += _char;\n      toName += to;\n    }\n  };\n\n  addAlias('q', 'Q', 4);\n  addAlias('L', 'M', 4);\n  addAlias('Y', 'y', 4);\n  addAlias('c', 'e', 4);\n  addAlias('k', 'H', 2);\n  addAlias('K', 'h', 2);\n  addAlias('S', 's', 2);\n  addAlias('v', 'z', 4);\n  addAlias('V', 'Z', 4); // support unix-style escaping with ' character\n\n  var escapeChars = function escapeChars(arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (arr[i] === \"'\") {\n        // greedy-search for next apostrophe\n        for (var o = i + 1; o < arr.length; o += 1) {\n          if (arr[o]) {\n            arr[i] += arr[o];\n          }\n\n          if (arr[o] === \"'\") {\n            arr[o] = null;\n            break;\n          }\n\n          arr[o] = null;\n        }\n      }\n    }\n\n    return arr.filter(function (ch) {\n      return ch;\n    });\n  }; //combine consecutive chars, like 'yyyy' as one.\n\n\n  var combineRepeated = function combineRepeated(arr) {\n    for (var i = 0; i < arr.length; i += 1) {\n      var c = arr[i]; // greedy-forward\n\n      for (var o = i + 1; o < arr.length; o += 1) {\n        if (arr[o] === c) {\n          arr[i] += arr[o];\n          arr[o] = null;\n        } else {\n          break;\n        }\n      }\n    } // '' means one apostrophe\n\n\n    arr = arr.filter(function (ch) {\n      return ch;\n    });\n    arr = arr.map(function (str) {\n      if (str === \"''\") {\n        str = \"'\";\n      }\n\n      return str;\n    });\n    return arr;\n  };\n\n  var unixFmt = function unixFmt(s, str) {\n    var arr = str.split(''); // support character escaping\n\n    arr = escapeChars(arr); //combine 'yyyy' as string.\n\n    arr = combineRepeated(arr);\n    return arr.reduce(function (txt, c) {\n      if (mapping[c] !== undefined) {\n        txt += mapping[c](s) || '';\n      } else {\n        // 'unescape'\n        if (/^'.{1,}'$/.test(c)) {\n          c = c.replace(/'/g, '');\n        }\n\n        txt += c;\n      }\n\n      return txt;\n    }, '');\n  };\n\n  var unixFmt_1 = unixFmt;\n\n  var units$1 = ['year', 'season', 'quarter', 'month', 'week', 'day', 'quarterHour', 'hour', 'minute'];\n\n  var doUnit = function doUnit(s, k) {\n    var start = s.clone().startOf(k);\n    var end = s.clone().endOf(k);\n    var duration = end.epoch - start.epoch;\n    var percent = (s.epoch - start.epoch) / duration;\n    return parseFloat(percent.toFixed(2));\n  }; //how far it is along, from 0-1\n\n\n  var progress = function progress(s, unit) {\n    if (unit) {\n      unit = fns.normalize(unit);\n      return doUnit(s, unit);\n    }\n\n    var obj = {};\n    units$1.forEach(function (k) {\n      obj[k] = doUnit(s, k);\n    });\n    return obj;\n  };\n\n  var progress_1 = progress;\n\n  var nearest = function nearest(s, unit) {\n    //how far have we gone?\n    var prog = s.progress();\n    unit = fns.normalize(unit); //fix camel-case for this one\n\n    if (unit === 'quarterhour') {\n      unit = 'quarterHour';\n    }\n\n    if (prog[unit] !== undefined) {\n      // go forward one?\n      if (prog[unit] > 0.5) {\n        s = s.add(1, unit);\n      } // go to start\n\n\n      s = s.startOf(unit);\n    } else if (s.silent === false) {\n      console.warn(\"no known unit '\" + unit + \"'\");\n    }\n\n    return s;\n  };\n\n  var nearest_1 = nearest;\n\n  //increment until dates are the same\n  var climb = function climb(a, b, unit) {\n    var i = 0;\n    a = a.clone();\n\n    while (a.isBefore(b)) {\n      //do proper, expensive increment to catch all-the-tricks\n      a = a.add(1, unit);\n      i += 1;\n    } //oops, we went too-far..\n\n\n    if (a.isAfter(b, unit)) {\n      i -= 1;\n    }\n\n    return i;\n  }; // do a thurough +=1 on the unit, until they match\n  // for speed-reasons, only used on day, month, week.\n\n\n  var diffOne = function diffOne(a, b, unit) {\n    if (a.isBefore(b)) {\n      return climb(a, b, unit);\n    } else {\n      return climb(b, a, unit) * -1; //reverse it\n    }\n  };\n\n  var one = diffOne;\n\n  // 2020 - 2019 may be 1 year, or 0 years\n  // - '1 year difference' means 366 days during a leap year\n\n  var fastYear = function fastYear(a, b) {\n    var years = b.year() - a.year(); // should we decrement it by 1?\n\n    a = a.year(b.year());\n\n    if (a.isAfter(b)) {\n      years -= 1;\n    }\n\n    return years;\n  }; // use a waterfall-method for computing a diff of any 'pre-knowable' units\n  // compute years, then compute months, etc..\n  // ... then ms-math for any very-small units\n\n\n  var diff = function diff(a, b) {\n    // an hour is always the same # of milliseconds\n    // so these units can be 'pre-calculated'\n    var msDiff = b.epoch - a.epoch;\n    var obj = {\n      milliseconds: msDiff,\n      seconds: parseInt(msDiff / 1000, 10)\n    };\n    obj.minutes = parseInt(obj.seconds / 60, 10);\n    obj.hours = parseInt(obj.minutes / 60, 10); //do the year\n\n    var tmp = a.clone();\n    obj.years = fastYear(tmp, b);\n    tmp = a.add(obj.years, 'year'); //there's always 12 months in a year...\n\n    obj.months = obj.years * 12;\n    tmp = a.add(obj.months, 'month');\n    obj.months += one(tmp, b, 'month'); // there's always atleast 52 weeks in a year..\n    // (month * 4) isn't as close\n\n    obj.weeks = obj.years * 52;\n    tmp = a.add(obj.weeks, 'week');\n    obj.weeks += one(tmp, b, 'week'); // there's always atleast 7 days in a week\n\n    obj.days = obj.weeks * 7;\n    tmp = a.add(obj.days, 'day');\n    obj.days += one(tmp, b, 'day');\n    return obj;\n  };\n\n  var waterfall = diff;\n\n  var reverseDiff = function reverseDiff(obj) {\n    Object.keys(obj).forEach(function (k) {\n      obj[k] *= -1;\n    });\n    return obj;\n  }; // this method counts a total # of each unit, between a, b.\n  // '1 month' means 28 days in february\n  // '1 year' means 366 days in a leap year\n\n\n  var main = function main(a, b, unit) {\n    b = fns.beADate(b, a); //reverse values, if necessary\n\n    var reversed = false;\n\n    if (a.isAfter(b)) {\n      var tmp = a;\n      a = b;\n      b = tmp;\n      reversed = true;\n    } //compute them all (i know!)\n\n\n    var obj = waterfall(a, b);\n\n    if (reversed) {\n      obj = reverseDiff(obj);\n    } //return just the requested unit\n\n\n    if (unit) {\n      //make sure it's plural-form\n      unit = fns.normalize(unit);\n\n      if (/s$/.test(unit) !== true) {\n        unit += 's';\n      }\n\n      if (unit === 'dates') {\n        unit = 'days';\n      }\n\n      return obj[unit];\n    }\n\n    return obj;\n  };\n\n  var diff$1 = main;\n\n  //our conceptual 'break-points' for each unit\n\n  var qualifiers = {\n    months: {\n      almost: 10,\n      over: 4\n    },\n    days: {\n      almost: 25,\n      over: 10\n    },\n    hours: {\n      almost: 20,\n      over: 8\n    },\n    minutes: {\n      almost: 50,\n      over: 20\n    },\n    seconds: {\n      almost: 50,\n      over: 20\n    }\n  }; //get number of hours/minutes... between the two dates\n\n  function getDiff(a, b) {\n    var isBefore = a.isBefore(b);\n    var later = isBefore ? b : a;\n    var earlier = isBefore ? a : b;\n    earlier = earlier.clone();\n    var diff = {\n      years: 0,\n      months: 0,\n      days: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0\n    };\n    Object.keys(diff).forEach(function (unit) {\n      if (earlier.isSame(later, unit)) {\n        return;\n      }\n\n      var max = earlier.diff(later, unit);\n      earlier = earlier.add(max, unit);\n      diff[unit] = max;\n    }); //reverse it, if necessary\n\n    if (isBefore) {\n      Object.keys(diff).forEach(function (u) {\n        if (diff[u] !== 0) {\n          diff[u] *= -1;\n        }\n      });\n    }\n\n    return diff;\n  } // Expects a plural unit arg\n\n\n  function pluralize(value, unit) {\n    if (value === 1) {\n      unit = unit.slice(0, -1);\n    }\n\n    return value + ' ' + unit;\n  } //create the human-readable diff between the two dates\n\n\n  var since = function since(start, end) {\n    end = fns.beADate(end, start);\n    var diff = getDiff(start, end);\n    var isNow = Object.keys(diff).every(function (u) {\n      return !diff[u];\n    });\n\n    if (isNow === true) {\n      return {\n        diff: diff,\n        rounded: 'now',\n        qualified: 'now',\n        precise: 'now'\n      };\n    }\n\n    var rounded;\n    var qualified;\n    var precise;\n    var englishValues = []; //go through each value and create its text-representation\n\n    Object.keys(diff).forEach(function (unit, i, units) {\n      var value = Math.abs(diff[unit]);\n\n      if (value === 0) {\n        return;\n      }\n\n      var englishValue = pluralize(value, unit);\n      englishValues.push(englishValue);\n\n      if (!rounded) {\n        rounded = qualified = englishValue;\n\n        if (i > 4) {\n          return;\n        } //is it a 'almost' something, etc?\n\n\n        var nextUnit = units[i + 1];\n        var nextValue = Math.abs(diff[nextUnit]);\n\n        if (nextValue > qualifiers[nextUnit].almost) {\n          rounded = pluralize(value + 1, unit);\n          qualified = 'almost ' + rounded;\n        } else if (nextValue > qualifiers[nextUnit].over) qualified = 'over ' + englishValue;\n      }\n    }); //make them into a string\n\n    precise = englishValues.splice(0, 2).join(', '); //handle before/after logic\n\n    if (start.isAfter(end) === true) {\n      rounded += ' ago';\n      qualified += ' ago';\n      precise += ' ago';\n    } else {\n      rounded = 'in ' + rounded;\n      qualified = 'in ' + qualified;\n      precise = 'in ' + precise;\n    }\n\n    return {\n      diff: diff,\n      rounded: rounded,\n      qualified: qualified,\n      precise: precise\n    };\n  };\n\n  var since_1 = since;\n\n  //https://www.timeanddate.com/calendar/aboutseasons.html\n  // Spring - from March 1 to May 31;\n  // Summer - from June 1 to August 31;\n  // Fall (autumn) - from September 1 to November 30; and,\n  // Winter - from December 1 to February 28 (February 29 in a leap year).\n  var seasons = {\n    north: [['spring', 2, 1], //spring march 1\n    ['summer', 5, 1], //june 1\n    ['fall', 8, 1], //sept 1\n    ['autumn', 8, 1], //sept 1\n    ['winter', 11, 1] //dec 1\n    ],\n    south: [['fall', 2, 1], //march 1\n    ['autumn', 2, 1], //march 1\n    ['winter', 5, 1], //june 1\n    ['spring', 8, 1], //sept 1\n    ['summer', 11, 1] //dec 1\n    ]\n  };\n\n  var quarters = [null, [0, 1], //jan 1\n  [3, 1], //apr 1\n  [6, 1], //july 1\n  [9, 1] //oct 1\n  ];\n\n  var units$2 = {\n    minute: function minute(s) {\n      walk_1(s, {\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    quarterhour: function quarterhour(s) {\n      var minute = s.minutes();\n\n      if (minute >= 45) {\n        s = s.minutes(45);\n      } else if (minute >= 30) {\n        s = s.minutes(30);\n      } else if (minute >= 15) {\n        s = s.minutes(15);\n      } else {\n        s = s.minutes(0);\n      }\n\n      walk_1(s, {\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    hour: function hour(s) {\n      walk_1(s, {\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    day: function day(s) {\n      walk_1(s, {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    week: function week(s) {\n      var original = s.clone();\n      s = s.day(s._weekStart); //monday\n\n      if (s.isAfter(original)) {\n        s = s.subtract(1, 'week');\n      }\n\n      walk_1(s, {\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    month: function month(s) {\n      walk_1(s, {\n        date: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    quarter: function quarter(s) {\n      var q = s.quarter();\n\n      if (quarters[q]) {\n        walk_1(s, {\n          month: quarters[q][0],\n          date: quarters[q][1],\n          hour: 0,\n          minute: 0,\n          second: 0,\n          millisecond: 0\n        });\n      }\n\n      return s;\n    },\n    season: function season(s) {\n      var current = s.season();\n      var hem = 'north';\n\n      if (s.hemisphere() === 'South') {\n        hem = 'south';\n      }\n\n      for (var i = 0; i < seasons[hem].length; i++) {\n        if (seasons[hem][i][0] === current) {\n          //winter goes between years\n          var year = s.year();\n\n          if (current === 'winter' && s.month() < 3) {\n            year -= 1;\n          }\n\n          walk_1(s, {\n            year: year,\n            month: seasons[hem][i][1],\n            date: seasons[hem][i][2],\n            hour: 0,\n            minute: 0,\n            second: 0,\n            millisecond: 0\n          });\n          return s;\n        }\n      }\n\n      return s;\n    },\n    year: function year(s) {\n      walk_1(s, {\n        month: 0,\n        date: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0\n      });\n      return s;\n    },\n    decade: function decade(s) {\n      s = s.startOf('year');\n      var year = s.year();\n      var decade = parseInt(year / 10, 10) * 10;\n      s = s.year(decade);\n      return s;\n    },\n    century: function century(s) {\n      s = s.startOf('year');\n      var year = s.year(); // near 0AD goes '-1 | +1'\n\n      var decade = parseInt(year / 100, 10) * 100;\n      s = s.year(decade);\n      return s;\n    }\n  };\n  units$2.date = units$2.day;\n\n  var startOf = function startOf(a, unit) {\n    var s = a.clone();\n    unit = fns.normalize(unit);\n\n    if (units$2[unit]) {\n      return units$2[unit](s);\n    }\n\n    if (unit === 'summer' || unit === 'winter') {\n      s = s.season(unit);\n      return units$2.season(s);\n    }\n\n    return s;\n  }; //piggy-backs off startOf\n\n\n  var endOf = function endOf(a, unit) {\n    var s = a.clone();\n    unit = fns.normalize(unit);\n\n    if (units$2[unit]) {\n      s = units$2[unit](s); // startof\n\n      s = s.add(1, unit);\n      s = s.subtract(1, 'milliseconds');\n      return s;\n    }\n\n    return s;\n  };\n\n  var startOf_1 = {\n    startOf: startOf,\n    endOf: endOf\n  };\n\n  var isDay = function isDay(unit) {\n    if (days[\"short\"]().find(function (s) {\n      return s === unit;\n    })) {\n      return true;\n    }\n\n    if (days[\"long\"]().find(function (s) {\n      return s === unit;\n    })) {\n      return true;\n    }\n\n    return false;\n  }; // return a list of the weeks/months/days between a -> b\n  // returns spacetime objects in the timezone of the input\n\n\n  var every = function every(start) {\n    var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var end = arguments.length > 2 ? arguments[2] : undefined;\n\n    if (!unit || !end) {\n      return [];\n    } //cleanup unit param\n\n\n    unit = fns.normalize(unit); //cleanup to param\n\n    end = start.clone().set(end); //swap them, if they're backwards\n\n    if (start.isAfter(end)) {\n      var tmp = start;\n      start = end;\n      end = tmp;\n    } //support 'every wednesday'\n\n\n    var d = start.clone();\n\n    if (isDay(unit)) {\n      d = d.next(unit);\n      unit = 'week';\n    } else {\n      d = d.next(unit);\n    } //okay, actually start doing it\n\n\n    var result = [];\n\n    while (d.isBefore(end)) {\n      result.push(d);\n      d = d.add(1, unit);\n    }\n\n    return result;\n  };\n\n  var every_1 = every;\n\n  var parseDst = function parseDst(dst) {\n    if (!dst) {\n      return [];\n    }\n\n    return dst.split('->');\n  };\n\n  var titleCase = function titleCase(str) {\n    str = str[0].toUpperCase() + str.substr(1);\n    str = str.replace(/\\/gmt/, '/GMT');\n    str = str.replace(/[\\/_]([a-z])/gi, function (s) {\n      return s.toUpperCase();\n    });\n    return str;\n  }; //get metadata about this timezone\n\n\n  var timezone = function timezone(s) {\n    var zones = s.timezones;\n    var tz = s.tz;\n\n    if (zones.hasOwnProperty(tz) === false) {\n      tz = find(s.tz, zones);\n    }\n\n    if (tz === null) {\n      if (s.silent === false) {\n        console.warn(\"Warn: could not find given or local timezone - '\" + s.tz + \"'\");\n      }\n\n      return {\n        current: {\n          epochShift: 0\n        }\n      };\n    }\n\n    var found = zones[tz];\n    var result = {\n      name: titleCase(tz),\n      hasDst: Boolean(found.dst),\n      default_offset: found.offset,\n      //do north-hemisphere version as default (sorry!)\n      hemisphere: found.hem === 's' ? 'South' : 'North',\n      current: {}\n    };\n\n    if (result.hasDst) {\n      var arr = parseDst(found.dst);\n      result.change = {\n        start: arr[0],\n        back: arr[1]\n      };\n    } //find the offsets for summer/winter times\n    //(these variable names are north-centric)\n\n\n    var summer = found.offset; // (july)\n\n    var winter = summer; // (january) assume it's the same for now\n\n    if (result.hasDst === true) {\n      if (result.hemisphere === 'North') {\n        winter = summer - 1;\n      } else {\n        //southern hemisphere\n        winter = found.offset + 1;\n      }\n    } //find out which offset to use right now\n    //use 'summer' time july-time\n\n\n    if (result.hasDst === false) {\n      result.current.offset = summer;\n      result.current.isDST = false;\n    } else if (summerTime(s.epoch, result.change.start, result.change.back, summer, winter) === true) {\n      result.current.offset = summer;\n      result.current.isDST = result.hemisphere === 'North'; //dst 'on' in winter in north\n    } else {\n      //use 'winter' january-time\n      result.current.offset = winter;\n      result.current.isDST = result.hemisphere === 'South'; //dst 'on' in summer in south\n    }\n\n    return result;\n  };\n\n  var timezone_1 = timezone;\n\n  var units$3 = ['century', 'decade', 'year', 'month', 'date', 'day', 'hour', 'minute', 'second', 'millisecond']; //the spacetime instance methods (also, the API)\n\n  var methods = {\n    set: function set(input$1, tz) {\n      var s = this.clone();\n      s = input(s, input$1, null);\n\n      if (tz) {\n        this.tz = find(tz);\n      }\n\n      return s;\n    },\n    timezone: function timezone() {\n      return timezone_1(this);\n    },\n    isDST: function isDST() {\n      return timezone_1(this).current.isDST;\n    },\n    hasDST: function hasDST() {\n      return timezone_1(this).hasDst;\n    },\n    offset: function offset() {\n      return timezone_1(this).current.offset * 60;\n    },\n    hemisphere: function hemisphere() {\n      return timezone_1(this).hemisphere;\n    },\n    format: function format(fmt) {\n      return format_1(this, fmt);\n    },\n    unixFmt: function unixFmt(fmt) {\n      return unixFmt_1(this, fmt);\n    },\n    startOf: function startOf(unit) {\n      return startOf_1.startOf(this, unit);\n    },\n    endOf: function endOf(unit) {\n      return startOf_1.endOf(this, unit);\n    },\n    leapYear: function leapYear() {\n      var year = this.year();\n      return fns.isLeapYear(year);\n    },\n    progress: function progress(unit) {\n      return progress_1(this, unit);\n    },\n    nearest: function nearest(unit) {\n      return nearest_1(this, unit);\n    },\n    diff: function diff(d, unit) {\n      return diff$1(this, d, unit);\n    },\n    since: function since(d) {\n      if (!d) {\n        d = this.clone().set();\n      }\n\n      return since_1(this, d);\n    },\n    next: function next(unit) {\n      var s = this.add(1, unit);\n      return s.startOf(unit);\n    },\n    //the start of the previous year/week/century\n    last: function last(unit) {\n      var s = this.subtract(1, unit);\n      return s.startOf(unit);\n    },\n    isValid: function isValid() {\n      //null/undefined epochs\n      if (!this.epoch && this.epoch !== 0) {\n        return false;\n      }\n\n      return !isNaN(this.d.getTime());\n    },\n    //travel to this timezone\n    \"goto\": function goto(tz) {\n      var s = this.clone();\n      s.tz = find(tz, s.timezones); //science!\n\n      return s;\n    },\n    //get each week/month/day between a -> b\n    every: function every(unit, to) {\n      return every_1(this, unit, to);\n    },\n    isAwake: function isAwake() {\n      var hour = this.hour(); //10pm -> 8am\n\n      if (hour < 8 || hour > 22) {\n        return false;\n      }\n\n      return true;\n    },\n    isAsleep: function isAsleep() {\n      return !this.isAwake();\n    },\n    //pretty-printing\n    log: function log() {\n      console.log('');\n      console.log(format_1(this, 'nice-short'));\n      return this;\n    },\n    logYear: function logYear() {\n      console.log('');\n      console.log(format_1(this, 'full-short'));\n      return this;\n    },\n    json: function json() {\n      var _this = this;\n\n      return units$3.reduce(function (h, unit) {\n        h[unit] = _this[unit]();\n        return h;\n      }, {});\n    },\n    debug: function debug() {\n      var tz = this.timezone();\n      var date = this.format('MM') + ' ' + this.format('date-ordinal') + ' ' + this.year();\n      date += '\\n     - ' + this.format('time');\n      console.log('\\n\\n', date + '\\n     - ' + tz.name + ' (' + tz.current.offset + ')');\n      return this;\n    },\n    //alias of 'since' but opposite - like moment.js\n    from: function from(d) {\n      d = this.clone().set(d);\n      return d.since(this);\n    },\n    fromNow: function fromNow() {\n      var d = this.clone().set(Date.now());\n      return d.since(this);\n    },\n    weekStart: function weekStart(input) {\n      //accept a number directly\n      if (typeof input === 'number') {\n        this._weekStart = input;\n        return this;\n      }\n\n      if (typeof input === 'string') {\n        // accept 'wednesday'\n        input = input.toLowerCase().trim();\n        var num = days[\"short\"]().indexOf(input);\n\n        if (num === -1) {\n          num = days[\"long\"]().indexOf(input);\n        }\n\n        if (num === -1) {\n          num = 1; //go back to default\n        }\n\n        this._weekStart = num;\n      } else {\n        console.warn('Spacetime Error: Cannot understand .weekStart() input:', input);\n      }\n\n      return this;\n    }\n  }; // aliases\n\n  methods.inDST = methods.isDST;\n  methods.round = methods.nearest;\n  methods.each = methods.every;\n  var methods_1 = methods;\n\n  //these methods wrap around them.\n\n  var isLeapYear$1 = fns.isLeapYear;\n\n  var validate = function validate(n) {\n    //handle number as a string\n    if (typeof n === 'string') {\n      n = parseInt(n, 10);\n    }\n\n    return n;\n  };\n\n  var order = ['year', 'month', 'date', 'hour', 'minute', 'second', 'millisecond']; //reduce hostile micro-changes when moving dates by millisecond\n\n  var confirm = function confirm(s, tmp, unit) {\n    var n = order.indexOf(unit);\n    var arr = order.slice(n, order.length);\n\n    for (var i = 0; i < arr.length; i++) {\n      var want = tmp[arr[i]]();\n      s[arr[i]](want);\n    }\n\n    return s;\n  };\n\n  var set = {\n    milliseconds: function milliseconds(s, n) {\n      n = validate(n);\n      var current = s.millisecond();\n      var diff = current - n; //milliseconds to shift by\n\n      return s.epoch - diff;\n    },\n    seconds: function seconds(s, n) {\n      n = validate(n);\n      var diff = s.second() - n;\n      var shift = diff * milliseconds.second;\n      return s.epoch - shift;\n    },\n    minutes: function minutes(s, n) {\n      n = validate(n);\n      var old = s.clone();\n      var diff = s.minute() - n;\n      var shift = diff * milliseconds.minute;\n      s.epoch -= shift; // check against a screw-up\n      // if (old.hour() != s.hour()) {\n      //   walkTo(old, {\n      //     minute: n\n      //   })\n      //   return old.epoch\n      // }\n\n      confirm(s, old, 'second');\n      return s.epoch;\n    },\n    hours: function hours(s, n) {\n      n = validate(n);\n\n      if (n >= 24) {\n        n = 24;\n      } else if (n < 0) {\n        n = 0;\n      }\n\n      var old = s.clone();\n      var diff = s.hour() - n;\n      var shift = diff * milliseconds.hour;\n      s.epoch -= shift; // oops, did we change the day?\n\n      if (s.date() !== old.date()) {\n        s = old.clone();\n\n        if (diff > 1) {\n          diff -= 1;\n        }\n\n        if (diff < 1) {\n          diff += 1;\n        }\n\n        shift = diff * milliseconds.hour;\n        s.epoch -= shift;\n      }\n\n      walk_1(s, {\n        hour: n\n      });\n      confirm(s, old, 'minute');\n      return s.epoch;\n    },\n    //support setting time by '4:25pm' - this isn't very-well developed..\n    time: function time(s, str) {\n      var m = str.match(/([0-9]{1,2})[:h]([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);\n\n      if (!m) {\n        //fallback to support just '2am'\n        m = str.match(/([0-9]{1,2}) ?(am|pm)/);\n\n        if (!m) {\n          return s.epoch;\n        }\n\n        m.splice(2, 0, '0'); //add implicit 0 minutes\n\n        m.splice(3, 0, ''); //add implicit seconds\n      }\n\n      var h24 = false;\n      var hour = parseInt(m[1], 10);\n      var minute = parseInt(m[2], 10);\n\n      if (hour > 12) {\n        h24 = true;\n      } //make the hour into proper 24h time\n\n\n      if (h24 === false) {\n        if (m[4] === 'am' && hour === 12) {\n          //12am is midnight\n          hour = 0;\n        }\n\n        if (m[4] === 'pm' && hour < 12) {\n          //12pm is noon\n          hour += 12;\n        }\n      } // handle seconds\n\n\n      m[3] = m[3] || '';\n      m[3] = m[3].replace(/:/, '');\n      var sec = parseInt(m[3], 10) || 0;\n      s = s.hour(hour);\n      s = s.minute(minute);\n      s = s.second(sec);\n      s = s.millisecond(0);\n      return s.epoch;\n    },\n    date: function date(s, n) {\n      n = validate(n); //avoid setting february 31st\n\n      if (n > 28) {\n        var month = s.month();\n        var max = monthLengths_1[month]; // support leap day in february\n\n        if (month === 1 && n === 29 && isLeapYear$1(s.year())) {\n          max = 29;\n        }\n\n        if (n > max) {\n          n = max;\n        }\n      } //avoid setting < 0\n\n\n      if (n <= 0) {\n        n = 1;\n      }\n\n      walk_1(s, {\n        date: n\n      });\n      return s.epoch;\n    },\n    //this one's tricky\n    month: function month(s, n) {\n      if (typeof n === 'string') {\n        n = months.mapping()[n.toLowerCase()];\n      }\n\n      n = validate(n); //don't go past december\n\n      if (n >= 12) {\n        n = 11;\n      }\n\n      if (n <= 0) {\n        n = 0;\n      }\n\n      var date = s.date(); //there's no 30th of february, etc.\n\n      if (date > monthLengths_1[n]) {\n        //make it as close as we can..\n        date = monthLengths_1[n];\n      }\n\n      walk_1(s, {\n        month: n,\n        date: date\n      });\n      return s.epoch;\n    },\n    year: function year(s, n) {\n      // support '97\n      if (typeof n === 'string' && /^'[0-9]{2}$/.test(n)) {\n        n = n.replace(/'/, '').trim();\n        n = Number(n); // '89 is 1989\n\n        if (n > 30) {\n          //change this in 10y\n          n = 1900 + n;\n        } else {\n          // '12 is 2012\n          n = 2000 + n;\n        }\n      }\n\n      n = validate(n);\n      walk_1(s, {\n        year: n\n      });\n      return s.epoch;\n    },\n    dayOfYear: function dayOfYear(s, n) {\n      n = validate(n);\n      var old = s.clone();\n      n -= 1; //days are 1-based\n\n      if (n <= 0) {\n        n = 0;\n      } else if (n >= 365) {\n        n = 364;\n      }\n\n      s = s.startOf('year');\n      s = s.add(n, 'day');\n      confirm(s, old, 'hour');\n      return s.epoch;\n    }\n  };\n\n  var methods$1 = {\n    millisecond: function millisecond(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.milliseconds(s, num);\n        return s;\n      }\n\n      return this.d.getMilliseconds();\n    },\n    second: function second(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.seconds(s, num);\n        return s;\n      }\n\n      return this.d.getSeconds();\n    },\n    minute: function minute(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.minutes(s, num);\n        return s;\n      }\n\n      return this.d.getMinutes();\n    },\n    hour: function hour(num) {\n      var d = this.d;\n\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.hours(s, num);\n        return s;\n      }\n\n      return d.getHours();\n    },\n    //'3:30' is 3.5\n    hourFloat: function hourFloat(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n\n        var _minute = num % 1;\n\n        _minute = _minute * 60;\n\n        var _hour = parseInt(num, 10);\n\n        s.epoch = set.hours(s, _hour);\n        s.epoch = set.minutes(s, _minute);\n        return s;\n      }\n\n      var d = this.d;\n      var hour = d.getHours();\n      var minute = d.getMinutes();\n      minute = minute / 60;\n      return hour + minute;\n    },\n    // hour in 12h format\n    hour12: function hour12(str) {\n      var d = this.d;\n\n      if (str !== undefined) {\n        var s = this.clone();\n        str = '' + str;\n        var m = str.match(/^([0-9]+)(am|pm)$/);\n\n        if (m) {\n          var hour = parseInt(m[1], 10);\n\n          if (m[2] === 'pm') {\n            hour += 12;\n          }\n\n          s.epoch = set.hours(s, hour);\n        }\n\n        return s;\n      } //get the hour\n\n\n      var hour12 = d.getHours();\n\n      if (hour12 > 12) {\n        hour12 = hour12 - 12;\n      }\n\n      if (hour12 === 0) {\n        hour12 = 12;\n      }\n\n      return hour12;\n    },\n    //some ambiguity here with 12/24h\n    time: function time(str) {\n      if (str !== undefined) {\n        var s = this.clone();\n        str = str.toLowerCase().trim();\n        s.epoch = set.time(s, str);\n        return s;\n      }\n\n      return \"\".concat(this.h12(), \":\").concat(fns.zeroPad(this.minute())).concat(this.ampm());\n    },\n    // either 'am' or 'pm'\n    ampm: function ampm(input) {\n      var which = 'am';\n      var hour = this.hour();\n\n      if (hour >= 12) {\n        which = 'pm';\n      }\n\n      if (typeof input !== 'string') {\n        return which;\n      } //okay, we're doing a setter\n\n\n      var s = this.clone();\n      input = input.toLowerCase().trim(); //ampm should never change the day\n      // - so use `.hour(n)` instead of `.minus(12,'hour')`\n\n      if (hour >= 12 && input === 'am') {\n        //noon is 12pm\n        hour -= 12;\n        return s.hour(hour);\n      }\n\n      if (hour < 12 && input === 'pm') {\n        hour += 12;\n        return s.hour(hour);\n      }\n\n      return s;\n    },\n    //some hard-coded times of day, like 'noon'\n    dayTime: function dayTime(str) {\n      if (str !== undefined) {\n        var times = {\n          morning: '7:00am',\n          breakfast: '7:00am',\n          noon: '12:00am',\n          lunch: '12:00pm',\n          afternoon: '2:00pm',\n          evening: '6:00pm',\n          dinner: '6:00pm',\n          night: '11:00pm',\n          midnight: '23:59pm'\n        };\n        var s = this.clone();\n        str = str || '';\n        str = str.toLowerCase();\n\n        if (times.hasOwnProperty(str) === true) {\n          s = s.time(times[str]);\n        }\n\n        return s;\n      }\n\n      var h = this.hour();\n\n      if (h < 6) {\n        return 'night';\n      }\n\n      if (h < 12) {\n        //until noon\n        return 'morning';\n      }\n\n      if (h < 17) {\n        //until 5pm\n        return 'afternoon';\n      }\n\n      if (h < 22) {\n        //until 10pm\n        return 'evening';\n      }\n\n      return 'night';\n    },\n    //parse a proper iso string\n    iso: function iso(num) {\n      if (num !== undefined) {\n        return this.set(num);\n      }\n\n      return this.format('iso');\n    }\n  };\n  var _01Time = methods$1;\n\n  var methods$2 = {\n    // # day in the month\n    date: function date(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.date(s, num);\n        return s;\n      }\n\n      return this.d.getDate();\n    },\n    //like 'wednesday' (hard!)\n    day: function day(input) {\n      if (input === undefined) {\n        return this.d.getDay();\n      }\n\n      var original = this.clone();\n      var want = input; // accept 'wednesday'\n\n      if (typeof input === 'string') {\n        input = input.toLowerCase();\n\n        if (days.aliases.hasOwnProperty(input)) {\n          want = days.aliases[input];\n        } else {\n          want = days[\"short\"]().indexOf(input);\n\n          if (want === -1) {\n            want = days[\"long\"]().indexOf(input);\n          }\n        }\n      } //move approx\n\n\n      var day = this.d.getDay();\n      var diff = day - want;\n      var s = this.subtract(diff, 'days'); //tighten it back up\n\n      walk_1(s, {\n        hour: original.hour(),\n        minute: original.minute(),\n        second: original.second()\n      });\n      return s;\n    },\n    //these are helpful name-wrappers\n    dayName: function dayName(input) {\n      if (input === undefined) {\n        return days[\"long\"]()[this.day()];\n      }\n\n      var s = this.clone();\n      s = s.day(input);\n      return s;\n    },\n    //either name or number\n    month: function month(input) {\n      if (input !== undefined) {\n        var s = this.clone();\n        s.epoch = set.month(s, input);\n        return s;\n      }\n\n      return this.d.getMonth();\n    }\n  };\n  var _02Date = methods$2;\n\n  var clearMinutes = function clearMinutes(s) {\n    s = s.minute(0);\n    s = s.second(0);\n    s = s.millisecond(1);\n    return s;\n  };\n\n  var methods$3 = {\n    // day 0-366\n    dayOfYear: function dayOfYear(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.dayOfYear(s, num);\n        return s;\n      } //days since newyears - jan 1st is 1, jan 2nd is 2...\n\n\n      var sum = 0;\n      var month = this.d.getMonth();\n      var tmp; //count the num days in each month\n\n      for (var i = 1; i <= month; i++) {\n        tmp = new Date();\n        tmp.setDate(1);\n        tmp.setFullYear(this.d.getFullYear()); //the year matters, because leap-years\n\n        tmp.setHours(1);\n        tmp.setMinutes(1);\n        tmp.setMonth(i);\n        tmp.setHours(-2); //the last day of the month\n\n        sum += tmp.getDate();\n      }\n\n      return sum + this.d.getDate();\n    },\n    //since the start of the year\n    week: function week(num) {\n      // week-setter\n      if (num !== undefined) {\n        var s = this.clone();\n        s = s.month(0);\n        s = s.date(1);\n        s = s.day('monday');\n        s = clearMinutes(s); //first week starts first Thurs in Jan\n        // so mon dec 28th is 1st week\n        // so mon dec 29th is not the week\n\n        if (s.monthName() === 'december' && s.date() >= 28) {\n          s = s.add(1, 'week');\n        }\n\n        num -= 1; //1-based\n\n        s = s.add(num, 'weeks');\n        return s;\n      } //find-out which week it is\n\n\n      var tmp = this.clone();\n      tmp = tmp.month(0);\n      tmp = tmp.date(1);\n      tmp = clearMinutes(tmp);\n      tmp = tmp.day('monday'); //don't go into last-year\n\n      if (tmp.monthName() === 'december' && tmp.date() >= 28) {\n        tmp = tmp.add(1, 'week');\n      } // is first monday the 1st?\n\n\n      var toAdd = 1;\n\n      if (tmp.date() === 1) {\n        toAdd = 0;\n      }\n\n      tmp = tmp.minus(1, 'second');\n      var thisOne = this.epoch; //if the week technically hasn't started yet\n\n      if (tmp.epoch > thisOne) {\n        return 1;\n      } //speed it up, if we can\n\n\n      var i = 0;\n      var skipWeeks = this.month() * 4;\n      tmp.epoch += milliseconds.week * skipWeeks;\n      i += skipWeeks;\n\n      for (; i < 52; i++) {\n        if (tmp.epoch > thisOne) {\n          return i + toAdd;\n        }\n\n        tmp = tmp.add(1, 'week');\n      }\n\n      return 52;\n    },\n    //'january'\n    monthName: function monthName(input) {\n      if (input === undefined) {\n        return months[\"long\"]()[this.month()];\n      }\n\n      var s = this.clone();\n      s = s.month(input);\n      return s;\n    },\n    //q1, q2, q3, q4\n    quarter: function quarter(num) {\n      if (num !== undefined) {\n        if (typeof num === 'string') {\n          num = num.replace(/^q/i, '');\n          num = parseInt(num, 10);\n        }\n\n        if (quarters[num]) {\n          var s = this.clone();\n          var _month = quarters[num][0];\n          s = s.month(_month);\n          s = s.date(1);\n          s = s.startOf('day');\n          return s;\n        }\n      }\n\n      var month = this.d.getMonth();\n\n      for (var i = 1; i < quarters.length; i++) {\n        if (month < quarters[i][0]) {\n          return i - 1;\n        }\n      }\n\n      return 4;\n    },\n    //spring, summer, winter, fall\n    season: function season(input) {\n      var hem = 'north';\n\n      if (this.hemisphere() === 'South') {\n        hem = 'south';\n      }\n\n      if (input !== undefined) {\n        var s = this.clone();\n\n        for (var i = 0; i < seasons[hem].length; i++) {\n          if (input === seasons[hem][i][0]) {\n            s = s.month(seasons[hem][i][1]);\n            s = s.date(1);\n            s = s.startOf('day');\n          }\n        }\n\n        return s;\n      }\n\n      var month = this.d.getMonth();\n\n      for (var _i = 0; _i < seasons[hem].length - 1; _i++) {\n        if (month >= seasons[hem][_i][1] && month < seasons[hem][_i + 1][1]) {\n          return seasons[hem][_i][0];\n        }\n      }\n\n      return 'winter';\n    },\n    //the year number\n    year: function year(num) {\n      if (num !== undefined) {\n        var s = this.clone();\n        s.epoch = set.year(s, num);\n        return s;\n      }\n\n      return this.d.getFullYear();\n    },\n    //bc/ad years\n    era: function era(str) {\n      if (str !== undefined) {\n        var s = this.clone();\n        str = str.toLowerCase(); //TODO: there is no year-0AD i think. may have off-by-1 error here\n\n        var year = s.d.getFullYear(); //make '1992' into 1992bc..\n\n        if (str === 'bc' && year > 0) {\n          s.epoch = set.year(s, year * -1);\n        } //make '1992bc' into '1992'\n\n\n        if (str === 'ad' && year < 0) {\n          s.epoch = set.year(s, year * -1);\n        }\n\n        return s;\n      }\n\n      if (this.d.getFullYear() < 0) {\n        return 'BC';\n      }\n\n      return 'AD';\n    },\n    // 2019 -> 2010\n    decade: function decade(input) {\n      if (input !== undefined) {\n        input = String(input);\n        input = input.replace(/([0-9])'?s$/, '$1'); //1950's\n\n        input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n        if (!input) {\n          console.warn('Spacetime: Invalid decade input');\n          return this;\n        } // assume 20th century?? for '70s'.\n\n\n        if (input.length === 2 && /[0-9][0-9]/.test(input)) {\n          input = '19' + input;\n        }\n\n        var year = Number(input);\n\n        if (isNaN(year)) {\n          return this;\n        } // round it down to the decade\n\n\n        year = Math.floor(year / 10) * 10;\n        return this.year(year); //.startOf('decade')\n      }\n\n      return this.startOf('decade').year();\n    },\n    // 1950 -> 19+1\n    century: function century(input) {\n      if (input !== undefined) {\n        if (typeof input === 'string') {\n          input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n          input = input.replace(/([0-9]+) ?(b\\.?c\\.?|a\\.?d\\.?)/i, function (a, b, c) {\n            if (c.match(/b\\.?c\\.?/i)) {\n              b = '-' + b;\n            }\n\n            return b;\n          });\n          input = input.replace(/c$/, ''); //20thC\n        }\n\n        var year = Number(input);\n\n        if (isNaN(input)) {\n          console.warn('Spacetime: Invalid century input');\n          return this;\n        } // there is no century 0\n\n\n        if (year === 0) {\n          year = 1;\n        }\n\n        if (year >= 0) {\n          year = (year - 1) * 100;\n        } else {\n          year = (year + 1) * 100;\n        }\n\n        return this.year(year);\n      } // century getter\n\n\n      var num = this.startOf('century').year();\n      num = Math.floor(num / 100);\n\n      if (num < 0) {\n        return num - 1;\n      }\n\n      return num + 1;\n    },\n    // 2019 -> 2+1\n    millenium: function millenium(input) {\n      if (input !== undefined) {\n        if (typeof input === 'string') {\n          input = input.replace(/([0-9])(th|rd|st|nd)/, '$1'); //fix ordinals\n\n          input = Number(input);\n\n          if (isNaN(input)) {\n            console.warn('Spacetime: Invalid millenium input');\n            return this;\n          }\n        }\n\n        if (input > 0) {\n          input -= 1;\n        }\n\n        var year = input * 1000; // there is no year 0\n\n        if (year === 0) {\n          year = 1;\n        }\n\n        return this.year(year);\n      } // get the current millenium\n\n\n      var num = Math.floor(this.year() / 1000);\n\n      if (num >= 0) {\n        num += 1;\n      }\n\n      return num;\n    }\n  };\n  var _03Year = methods$3;\n\n  var methods$4 = Object.assign({}, _01Time, _02Date, _03Year); //aliases\n\n  methods$4.milliseconds = methods$4.millisecond;\n  methods$4.seconds = methods$4.second;\n  methods$4.minutes = methods$4.minute;\n  methods$4.hours = methods$4.hour;\n  methods$4.hour24 = methods$4.hour;\n  methods$4.h12 = methods$4.hour12;\n  methods$4.h24 = methods$4.hour24;\n  methods$4.days = methods$4.day;\n\n  var addMethods = function addMethods(Space) {\n    //hook the methods into prototype\n    Object.keys(methods$4).forEach(function (k) {\n      Space.prototype[k] = methods$4[k];\n    });\n  };\n\n  var query = addMethods;\n\n  var isLeapYear$2 = fns.isLeapYear;\n\n  var getMonthLength = function getMonthLength(month, year) {\n    if (month === 1 && isLeapYear$2(year)) {\n      return 29;\n    }\n\n    return monthLengths_1[month];\n  }; //month is the one thing we 'model/compute'\n  //- because ms-shifting can be off by enough\n\n\n  var rollMonth = function rollMonth(want, old) {\n    //increment year\n    if (want.month > 0) {\n      var years = parseInt(want.month / 12, 10);\n      want.year = old.year() + years;\n      want.month = want.month % 12;\n    } else if (want.month < 0) {\n      //decrement year\n      var _years = Math.floor(Math.abs(want.month) / 13, 10);\n\n      _years = Math.abs(_years) + 1;\n      want.year = old.year() - _years; //ignore extras\n\n      want.month = want.month % 12;\n      want.month = want.month + 12;\n\n      if (want.month === 12) {\n        want.month = 0;\n      }\n    }\n\n    return want;\n  }; // briefly support day=-2 (this does not need to be perfect.)\n\n\n  var rollDaysDown = function rollDaysDown(want, old, sum) {\n    want.year = old.year();\n    want.month = old.month();\n    var date = old.date();\n    want.date = date - Math.abs(sum);\n\n    while (want.date < 1) {\n      want.month -= 1;\n\n      if (want.month < 0) {\n        want.month = 11;\n        want.year -= 1;\n      }\n\n      var max = getMonthLength(want.month, want.year);\n      want.date += max;\n    }\n\n    return want;\n  }; // briefly support day=33 (this does not need to be perfect.)\n\n\n  var rollDaysUp = function rollDaysUp(want, old, sum) {\n    var year = old.year();\n    var month = old.month();\n    var max = getMonthLength(month, year);\n\n    while (sum > max) {\n      sum -= max;\n      month += 1;\n\n      if (month >= 12) {\n        month -= 12;\n        year += 1;\n      }\n\n      max = getMonthLength(month, year);\n    }\n\n    want.month = month;\n    want.date = sum;\n    return want;\n  };\n\n  var _model = {\n    months: rollMonth,\n    days: rollDaysUp,\n    daysBack: rollDaysDown\n  };\n\n  // but briefly:\n  // millisecond-math, and some post-processing covers most-things\n  // we 'model' the calendar here only a little bit\n  // and that usually works-out...\n\n  var order$1 = ['millisecond', 'second', 'minute', 'hour', 'date', 'month'];\n  var keep = {\n    second: order$1.slice(0, 1),\n    minute: order$1.slice(0, 2),\n    quarterhour: order$1.slice(0, 2),\n    hour: order$1.slice(0, 3),\n    date: order$1.slice(0, 4),\n    month: order$1.slice(0, 4),\n    quarter: order$1.slice(0, 4),\n    season: order$1.slice(0, 4),\n    year: order$1,\n    decade: order$1,\n    century: order$1\n  };\n  keep.week = keep.hour;\n  keep.season = keep.date;\n  keep.quarter = keep.date; // Units need to be dst adjuested\n\n  var dstAwareUnits = {\n    year: true,\n    quarter: true,\n    season: true,\n    month: true,\n    week: true,\n    day: true\n  };\n  var keepDate = {\n    month: true,\n    quarter: true,\n    season: true,\n    year: true\n  };\n\n  var addMethods$1 = function addMethods(SpaceTime) {\n    SpaceTime.prototype.add = function (num, unit) {\n      var s = this.clone();\n\n      if (!unit || num === 0) {\n        return s; //don't bother\n      }\n\n      var old = this.clone();\n      unit = fns.normalize(unit); // support 'fortnight' alias\n\n      if (unit === 'fortnight') {\n        num *= 2;\n        unit = 'week';\n      } //move forward by the estimated milliseconds (rough)\n\n\n      if (milliseconds[unit]) {\n        s.epoch += milliseconds[unit] * num;\n      } else if (unit === 'week') {\n        s.epoch += milliseconds.day * (num * 7);\n      } else if (unit === 'quarter' || unit === 'season') {\n        s.epoch += milliseconds.month * (num * 3.1); //go a little too-far\n      } else if (unit === 'quarterhour') {\n        s.epoch += milliseconds.minute * 15 * num;\n      } //now ensure our milliseconds/etc are in-line\n\n\n      var want = {};\n\n      if (keep[unit]) {\n        keep[unit].forEach(function (u) {\n          want[u] = old[u]();\n        });\n      }\n\n      if (dstAwareUnits[unit]) {\n        var diff = old.timezone().current.offset - s.timezone().current.offset;\n        s.epoch += diff * 3600 * 1000;\n      } //ensure month/year has ticked-over\n\n\n      if (unit === 'month') {\n        want.month = old.month() + num; //month is the one unit we 'model' directly\n\n        want = _model.months(want, old);\n      } //support coercing a week, too\n\n\n      if (unit === 'week') {\n        var sum = old.date() + num * 7;\n\n        if (sum <= 28 && sum > 1) {\n          want.date = sum;\n        }\n      } //support 25-hour day-changes on dst-changes\n      else if (unit === 'date') {\n          if (num < 0) {\n            want = _model.daysBack(want, old, num);\n          } else {\n            //specify a naive date number, if it's easy to do...\n            var _sum = old.date() + num; // ok, model this one too\n\n\n            want = _model.days(want, old, _sum);\n          } //manually punt it if we haven't moved at all..\n\n\n          if (num !== 0 && old.isSame(s, 'day')) {\n            want.date = old.date() + num;\n          }\n        } //ensure year has changed (leap-years)\n        else if (unit === 'year') {\n            var wantYear = old.year() + num;\n            var haveYear = s.year();\n\n            if (haveYear < wantYear) {\n              s.epoch += milliseconds.day;\n            } else if (haveYear > wantYear) {\n              s.epoch += milliseconds.day;\n            }\n          } //these are easier\n          else if (unit === 'decade') {\n              want.year = s.year() + 10;\n            } else if (unit === 'century') {\n              want.year = s.year() + 100;\n            } //keep current date, unless the month doesn't have it.\n\n\n      if (keepDate[unit]) {\n        var max = monthLengths_1[want.month];\n        want.date = old.date();\n\n        if (want.date > max) {\n          want.date = max;\n        }\n      }\n\n      walk_1(s, want);\n      return s;\n    }; //subtract is only add *-1\n\n\n    SpaceTime.prototype.subtract = function (num, unit) {\n      var s = this.clone();\n      return s.add(num * -1, unit);\n    }; //add aliases\n\n\n    SpaceTime.prototype.minus = SpaceTime.prototype.subtract;\n    SpaceTime.prototype.plus = SpaceTime.prototype.add;\n  };\n\n  var add = addMethods$1;\n\n  //make a string, for easy comparison between dates\n  var print = {\n    millisecond: function millisecond(s) {\n      return s.epoch;\n    },\n    second: function second(s) {\n      return [s.year(), s.month(), s.date(), s.hour(), s.minute(), s.second()].join('-');\n    },\n    minute: function minute(s) {\n      return [s.year(), s.month(), s.date(), s.hour(), s.minute()].join('-');\n    },\n    hour: function hour(s) {\n      return [s.year(), s.month(), s.date(), s.hour()].join('-');\n    },\n    day: function day(s) {\n      return [s.year(), s.month(), s.date()].join('-');\n    },\n    week: function week(s) {\n      return [s.year(), s.week()].join('-');\n    },\n    month: function month(s) {\n      return [s.year(), s.month()].join('-');\n    },\n    quarter: function quarter(s) {\n      return [s.year(), s.quarter()].join('-');\n    },\n    year: function year(s) {\n      return s.year();\n    }\n  };\n  print.date = print.day;\n\n  var addMethods$2 = function addMethods(SpaceTime) {\n    SpaceTime.prototype.isSame = function (b, unit) {\n      var tzAware = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var a = this;\n\n      if (!unit) {\n        return null;\n      }\n\n      if (typeof b === 'string' || typeof b === 'number') {\n        b = new SpaceTime(b, this.timezone.name);\n      } //support 'seconds' aswell as 'second'\n\n\n      unit = unit.replace(/s$/, ''); // make them the same timezone for proper comparison\n\n      if (tzAware === true && a.tz !== b.tz) {\n        b = b.clone();\n        b.tz = a.tz;\n      }\n\n      if (print[unit]) {\n        return print[unit](a) === print[unit](b);\n      }\n\n      return null;\n    };\n  };\n\n  var same = addMethods$2;\n\n  var addMethods$3 = function addMethods(SpaceTime) {\n    var methods = {\n      isAfter: function isAfter(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch > epoch;\n      },\n      isBefore: function isBefore(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch < epoch;\n      },\n      isEqual: function isEqual(d) {\n        d = fns.beADate(d, this);\n        var epoch = fns.getEpoch(d);\n\n        if (epoch === null) {\n          return null;\n        }\n\n        return this.epoch === epoch;\n      },\n      isBetween: function isBetween(start, end) {\n        var isInclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        start = fns.beADate(start, this);\n        end = fns.beADate(end, this);\n        var startEpoch = fns.getEpoch(start);\n\n        if (startEpoch === null) {\n          return null;\n        }\n\n        var endEpoch = fns.getEpoch(end);\n\n        if (endEpoch === null) {\n          return null;\n        }\n\n        if (isInclusive) {\n          return this.isBetween(start, end) || this.isEqual(start) || this.isEqual(end);\n        }\n\n        return startEpoch < this.epoch && this.epoch < endEpoch;\n      }\n    }; //hook them into proto\n\n    Object.keys(methods).forEach(function (k) {\n      SpaceTime.prototype[k] = methods[k];\n    });\n  };\n\n  var compare = addMethods$3;\n\n  var addMethods$4 = function addMethods(SpaceTime) {\n    var methods = {\n      i18n: function i18n(data) {\n        //change the day names\n        if (fns.isObject(data.days)) {\n          days.set(data.days);\n        } //change the month names\n\n\n        if (fns.isObject(data.months)) {\n          months.set(data.months);\n        } // change the the display style of the month / day names\n\n\n        if (fns.isBoolean(data.useTitleCase)) {\n          caseFormat.set(data.useTitleCase);\n        }\n      }\n    }; //hook them into proto\n\n    Object.keys(methods).forEach(function (k) {\n      SpaceTime.prototype[k] = methods[k];\n    });\n  };\n\n  var i18n = addMethods$4;\n\n  var timezones = unpack; //fake timezone-support, for fakers (es5 class)\n\n  var SpaceTime = function SpaceTime(input$1, tz) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    //the holy moment\n    this.epoch = null; //the shift for the given timezone\n\n    this.tz = find(tz, timezones); //whether to output warnings to console\n\n    this.silent = options.silent || true; // favour british interpretation of 02/02/2018, etc\n\n    this.british = options.dmy || options.british; //does the week start on sunday, or monday:\n\n    this._weekStart = 1; //default to monday\n\n    if (options.weekStart !== undefined) {\n      this._weekStart = options.weekStart;\n    } // the reference today date object, (for testing)\n\n\n    this._today = {};\n\n    if (options.today !== undefined) {\n      this._today = options.today;\n    } //add getter/setters\n\n\n    Object.defineProperty(this, 'd', {\n      //return a js date object\n      get: function get() {\n        var offset = quick(this); //every computer is somewhere- get this computer's built-in offset\n\n        var bias = new Date(this.epoch).getTimezoneOffset() || 0; //movement\n\n        var shift = bias + offset * 60; //in minutes\n\n        shift = shift * 60 * 1000; //in ms\n        //remove this computer's offset\n\n        var epoch = this.epoch + shift;\n        var d = new Date(epoch);\n        return d;\n      }\n    }); //add this data on the object, to allow adding new timezones\n\n    Object.defineProperty(this, 'timezones', {\n      get: function get() {\n        return timezones;\n      },\n      set: function set(obj) {\n        timezones = obj;\n        return obj;\n      }\n    }); //parse the various formats\n\n    var tmp = input(this, input$1, tz);\n    this.epoch = tmp.epoch;\n  }; //(add instance methods to prototype)\n\n\n  Object.keys(methods_1).forEach(function (k) {\n    SpaceTime.prototype[k] = methods_1[k];\n  }); // ¯\\_(ツ)_/¯\n\n  SpaceTime.prototype.clone = function () {\n    return new SpaceTime(this.epoch, this.tz, {\n      silent: this.silent,\n      weekStart: this._weekStart,\n      today: this._today\n    });\n  }; //return native date object at the same epoch\n\n\n  SpaceTime.prototype.toLocalDate = function () {\n    return new Date(this.epoch);\n  }; //append more methods\n\n\n  query(SpaceTime);\n  add(SpaceTime);\n  same(SpaceTime);\n  compare(SpaceTime);\n  i18n(SpaceTime);\n  var spacetime = SpaceTime;\n\n  var whereIts = function whereIts(a, b) {\n    var start = new spacetime(null);\n    var end = new spacetime(null);\n    start = start.time(a); //if b is undefined, use as 'within one hour'\n\n    if (b) {\n      end = end.time(b);\n    } else {\n      end = start.add(59, 'minutes');\n    }\n\n    var startHour = start.hour();\n    var endHour = end.hour();\n    var tzs = Object.keys(start.timezones).filter(function (tz) {\n      if (tz.indexOf('/') === -1) {\n        return false;\n      }\n\n      var m = new spacetime(null, tz);\n      var hour = m.hour(); //do 'calendar-compare' not real-time-compare\n\n      if (hour >= startHour && hour <= endHour) {\n        //test minutes too, if applicable\n        if (hour === startHour && m.minute() < start.minute()) {\n          return false;\n        }\n\n        if (hour === endHour && m.minute() > end.minute()) {\n          return false;\n        }\n\n        return true;\n      }\n\n      return false;\n    });\n    return tzs;\n  };\n\n  var whereIts_1 = whereIts;\n\n  var _version = '6.12.2';\n\n  var main$1 = function main(input, tz, options) {\n    return new spacetime(input, tz, options);\n  }; // set all properties of a given 'today' object\n\n\n  var setToday = function setToday(s) {\n    var today = s._today || {};\n    Object.keys(today).forEach(function (k) {\n      s = s[k](today[k]);\n    });\n    return s;\n  }; //some helper functions on the main method\n\n\n  main$1.now = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s;\n  };\n\n  main$1.today = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.startOf('day');\n  };\n\n  main$1.tomorrow = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.add(1, 'day').startOf('day');\n  };\n\n  main$1.yesterday = function (tz, options) {\n    var s = new spacetime(new Date().getTime(), tz, options);\n    s = setToday(s);\n    return s.subtract(1, 'day').startOf('day');\n  };\n\n  main$1.extend = function (obj) {\n    Object.keys(obj).forEach(function (k) {\n      spacetime.prototype[k] = obj[k];\n    });\n    return this;\n  }; //find tz by time\n\n\n  main$1.whereIts = whereIts_1;\n  main$1.version = _version; //aliases:\n\n  main$1.plugin = main$1.extend;\n  var src = main$1;\n\n  return src;\n\n})));\n","// some opinionated-but-common-sense timezone abbreviations\n// these timezone abbreviations are wholly made-up by me, Spencer Kelly, with no expertise in geography\n// generated humbly from https://github.com/spencermountain/spacetime-informal\nconst spacetime = require('spacetime')\n\nconst america = 'America/'\nconst asia = 'Asia/'\nconst europe = 'Europe/'\nconst africa = 'Africa/'\nconst aus = 'Australia/'\nconst pac = 'Pacific/'\n\nconst informal = {\n  //europe\n  'british summer time': europe + 'London',\n  bst: europe + 'London',\n  'british time': europe + 'London',\n  'britain time': europe + 'London',\n  'irish summer time': europe + 'Dublin',\n  'irish time': europe + 'Dublin',\n  ireland: europe + 'Dublin',\n  'central european time': europe + 'Berlin',\n  cet: europe + 'Berlin',\n  'central european summer time': europe + 'Berlin',\n  cest: europe + 'Berlin',\n  'central europe': europe + 'Berlin',\n  'eastern european time': europe + 'Riga',\n  eet: europe + 'Riga',\n  'eastern european summer time': europe + 'Riga',\n  eest: europe + 'Riga',\n  'eastern europe time': europe + 'Riga',\n  'western european time': europe + 'Lisbon',\n  // wet: europe+'Lisbon',\n  'western european summer time': europe + 'Lisbon',\n  // west: europe+'Lisbon',\n  'western europe': europe + 'Lisbon',\n  'turkey standard time': europe + 'Istanbul',\n  trt: europe + 'Istanbul',\n  'turkish time': europe + 'Istanbul',\n\n  //africa\n  etc: africa + 'Freetown',\n  utc: africa + 'Freetown',\n  'greenwich standard time': africa + 'Freetown',\n  gmt: africa + 'Freetown',\n  'east africa time': africa + 'Nairobi',\n  // eat: africa+'Nairobi',\n  'east african time': africa + 'Nairobi',\n  'eastern africa time': africa + 'Nairobi',\n  'central africa time': africa + 'Khartoum',\n  // cat: africa+'Khartoum',\n  'central african time': africa + 'Khartoum',\n  'south africa standard time': africa + 'Johannesburg',\n  sast: africa + 'Johannesburg',\n  'southern africa': africa + 'Johannesburg',\n  'south african': africa + 'Johannesburg',\n  'west africa standard time': africa + 'Lagos',\n  // wat: africa+'Lagos',\n  'western africa time': africa + 'Lagos',\n  'west african time': africa + 'Lagos',\n\n  'australian central standard time': aus + 'Adelaide',\n  acst: aus + 'Adelaide',\n  'australian central daylight time': aus + 'Adelaide',\n  acdt: aus + 'Adelaide',\n  'australia central': aus + 'Adelaide',\n  'australian eastern standard time': aus + 'Brisbane',\n  aest: aus + 'Brisbane',\n  'australian eastern daylight time': aus + 'Brisbane',\n  aedt: aus + 'Brisbane',\n  'australia east': aus + 'Brisbane',\n  'australian western standard time': aus + 'Perth',\n  awst: aus + 'Perth',\n  'australian western daylight time': aus + 'Perth',\n  awdt: aus + 'Perth',\n  'australia west': aus + 'Perth',\n  'australian central western standard time': aus + 'Eucla',\n  acwst: aus + 'Eucla',\n  'australia central west': aus + 'Eucla',\n  'lord howe standard time': aus + 'Lord_Howe',\n  lhst: aus + 'Lord_Howe',\n  'lord howe daylight time': aus + 'Lord_Howe',\n  lhdt: aus + 'Lord_Howe',\n  'russian standard time': europe + 'Moscow',\n  msk: europe + 'Moscow',\n  russian: europe + 'Moscow',\n\n  //america\n  'central standard time': america + 'Chicago',\n  'central time': america + 'Chicago',\n  cst: america + 'Havana',\n  'central daylight time': america + 'Chicago',\n  cdt: america + 'Havana',\n  'mountain standard time': america + 'Denver',\n  'mountain time': america + 'Denver',\n  mst: america + 'Denver',\n  'mountain daylight time': america + 'Denver',\n  mdt: america + 'Denver',\n  'atlantic standard time': america + 'Halifax',\n  'atlantic time': america + 'Halifax',\n  ast: asia + 'Baghdad',\n  'atlantic daylight time': america + 'Halifax',\n  adt: america + 'Halifax',\n  'eastern standard time': america + 'New_York',\n  'eastern time': america + 'New_York',\n  est: america + 'New_York',\n  'eastern daylight time': america + 'New_York',\n  edt: america + 'New_York',\n  'pacific time': america + 'Los_Angeles',\n  'pacific standard time': america + 'Los_Angeles',\n  pst: america + 'Los_Angeles',\n  'pacific daylight time': america + 'Los_Angeles',\n  pdt: america + 'Los_Angeles',\n  'alaskan standard time': america + 'Anchorage',\n  'alaskan time': america + 'Anchorage',\n  ahst: america + 'Anchorage',\n  'alaskan daylight time': america + 'Anchorage',\n  ahdt: america + 'Anchorage',\n  'hawaiian standard time': pac + 'Honolulu',\n  'hawaiian time': pac + 'Honolulu',\n  hst: pac + 'Honolulu',\n  'aleutian time': pac + 'Honolulu',\n  'hawaii time': pac + 'Honolulu',\n  'newfoundland standard time': america + 'St_Johns',\n  'newfoundland time': america + 'St_Johns',\n  nst: america + 'St_Johns',\n  'newfoundland daylight time': america + 'St_Johns',\n  ndt: america + 'St_Johns',\n  'brazil time': america + 'Sao_Paulo',\n  brt: america + 'Sao_Paulo',\n  brasília: america + 'Sao_Paulo',\n  brasilia: america + 'Sao_Paulo',\n  'brazilian time': america + 'Sao_Paulo',\n  'argentina time': america + 'Buenos_Aires',\n  // art: a+'Buenos_Aires',\n  'argentinian time': america + 'Buenos_Aires',\n  'amazon time': america + 'Manaus',\n  amt: america + 'Manaus',\n  'amazonian time': america + 'Manaus',\n  'easter island standard time': 'Chile/Easterisland',\n  east: 'Chile/Easterisland',\n  'easter island summer time': 'Chile/Easterisland',\n  easst: 'Chile/Easterisland',\n  'venezuelan standard time': america + 'Caracas',\n  'venezuelan time': america + 'Caracas',\n  vet: america + 'Caracas',\n  'venezuela time': america + 'Caracas',\n  'paraguay time': america + 'Asuncion',\n  pyt: america + 'Asuncion',\n  'paraguay summer time': america + 'Asuncion',\n  pyst: america + 'Asuncion',\n  'cuba standard time': america + 'Havana',\n  'cuba time': america + 'Havana',\n  'cuba daylight time': america + 'Havana',\n  'cuban time': america + 'Havana',\n  'bolivia time': america + 'La_Paz',\n  // bot: a+'La_Paz',\n  'bolivian time': america + 'La_Paz',\n  'colombia time': america + 'Bogota',\n  cot: america + 'Bogota',\n  'colombian time': america + 'Bogota',\n  'acre time': america + 'Eirunepe',\n  // act: a+'Eirunepe',\n  'peru time': america + 'Lima',\n  // pet: a+'Lima',\n  'chile standard time': america + 'Punta_Arenas',\n  'chile time': america + 'Punta_Arenas',\n  clst: america + 'Punta_Arenas',\n  'chile summer time': america + 'Punta_Arenas',\n  cldt: america + 'Punta_Arenas',\n  'uruguay time': america + 'Montevideo',\n  uyt: america + 'Montevideo',\n\n  //asia\n  ist: asia + 'Jerusalem',\n  'arabic standard time': asia + 'Baghdad',\n  'arabic time': asia + 'Baghdad',\n  'arab time': asia + 'Baghdad',\n  'iran standard time': asia + 'Tehran',\n  'iran time': asia + 'Tehran',\n  irst: asia + 'Tehran',\n  'iran daylight time': asia + 'Tehran',\n  irdt: asia + 'Tehran',\n  iranian: asia + 'Tehran',\n  'pakistan standard time': asia + 'Karachi',\n  'pakistan time': asia + 'Karachi',\n  pkt: asia + 'Karachi',\n  'india standard time': asia + 'Kolkata',\n  'indian time': asia + 'Kolkata',\n  'indochina time': asia + 'Bangkok',\n  ict: asia + 'Bangkok',\n  'south east asia': asia + 'Bangkok',\n  'china standard time': asia + 'Shanghai',\n  ct: asia + 'Shanghai',\n  'chinese time': asia + 'Shanghai',\n  'alma-ata time': asia + 'Almaty',\n  almt: asia + 'Almaty',\n  'oral time': asia + 'Oral',\n  'orat time': asia + 'Oral',\n  'yakutsk time': asia + 'Yakutsk',\n  yakt: asia + 'Yakutsk',\n  'gulf standard time': asia + 'Dubai',\n  'gulf time': asia + 'Dubai',\n  gst: asia + 'Dubai',\n  uae: asia + 'Dubai',\n  'hong kong time': asia + 'Hong_Kong',\n  hkt: asia + 'Hong_Kong',\n  'western indonesian time': asia + 'Jakarta',\n  wib: asia + 'Jakarta',\n  'indonesia time': asia + 'Jakarta',\n  'central indonesian time': asia + 'Makassar',\n  wita: asia + 'Makassar',\n  'israel daylight time': asia + 'Jerusalem',\n  idt: asia + 'Jerusalem',\n  'israel standard time': asia + 'Jerusalem',\n  'israel time': asia + 'Jerusalem',\n  israeli: asia + 'Jerusalem',\n  'krasnoyarsk time': asia + 'Krasnoyarsk',\n  krat: asia + 'Krasnoyarsk',\n  'malaysia time': asia + 'Kuala_Lumpur',\n  myt: asia + 'Kuala_Lumpur',\n  'singapore time': asia + 'Singapore',\n  sgt: asia + 'Singapore',\n  'korea standard time': asia + 'Seoul',\n  'korea time': asia + 'Seoul',\n  kst: asia + 'Seoul',\n  'korean time': asia + 'Seoul',\n  'uzbekistan time': asia + 'Samarkand',\n  uzt: asia + 'Samarkand',\n  'vladivostok time': asia + 'Vladivostok',\n  vlat: asia + 'Vladivostok',\n\n  //indian\n  'maldives time': 'Indian/Maldives',\n  mvt: 'Indian/Maldives',\n  'mauritius time': 'Indian/Mauritius',\n  mut: 'Indian/Mauritius',\n\n  // pacific\n  'marshall islands time': pac + 'Kwajalein',\n  mht: pac + 'Kwajalein',\n  'samoa standard time': pac + 'Midway',\n  sst: pac + 'Midway',\n  'somoan time': pac + 'Midway',\n  'chamorro standard time': pac + 'Guam',\n  chst: pac + 'Guam',\n  'papua new guinea time': pac + 'Bougainville',\n  pgt: pac + 'Bougainville',\n}\n\n//add the official iana zonefile names\nlet iana = spacetime().timezones\nlet formal = Object.keys(iana).reduce((h, k) => {\n  h[k] = k\n  return h\n}, {})\nmodule.exports = Object.assign({}, informal, formal)\n","module.exports = [\n  'weekday',\n\n  'summer',\n  'winter',\n  'autumn',\n\n  'some day',\n  'one day',\n  'all day',\n  'some point',\n\n  'eod',\n  'eom',\n  'eoy',\n  'standard time',\n  'daylight time',\n  'tommorrow',\n]\n","module.exports = [\n  'centuries',\n  'century',\n  'day',\n  'days',\n  'decade',\n  'decades',\n  'hour',\n  'hours',\n  'hr',\n  'hrs',\n  'millisecond',\n  'milliseconds',\n  'minute',\n  'minutes',\n  'min',\n  'mins',\n  'month',\n  'months',\n  'seconds',\n  'sec',\n  'secs',\n  'week end',\n  'week ends',\n  'weekend',\n  'weekends',\n  'week',\n  'weeks',\n  'wk',\n  'wks',\n  'year',\n  'years',\n  'yr',\n  'yrs',\n  'quarter',\n  'quarters',\n  'qtr',\n  'qtrs',\n  'season',\n  'seasons',\n]\n","module.exports = [\n  'all hallows eve',\n  'all saints day',\n  'all sts day',\n  'april fools',\n  'armistice day',\n  'australia day',\n  'bastille day',\n  'boxing day',\n  'canada day',\n  'christmas eve',\n  'christmas',\n  'cinco de mayo',\n  'day of the dead',\n  'dia de muertos',\n  'dieciseis de septiembre',\n  'emancipation day',\n  'grito de dolores',\n  'groundhog day',\n  'halloween',\n  'harvey milk day',\n  'inauguration day',\n  'independence day',\n  'independents day',\n  'juneteenth',\n  'labour day',\n  'national freedom day',\n  'national nurses day',\n  'new years eve',\n  'new years',\n  'purple heart day',\n  'rememberance day',\n  'rosa parks day',\n  'saint andrews day',\n  'saint patricks day',\n  'saint stephens day',\n  'saint valentines day',\n  'st andrews day',\n  'st patricks day',\n  'st stephens day',\n  'st valentines day ',\n  'valentines day',\n  'valentines',\n  'veterans day',\n  'victoria day',\n  'womens equality day',\n  'xmas',\n  // Fixed religious and cultural holidays\n  // Catholic + Christian\n  'epiphany',\n  'orthodox christmas day',\n  'orthodox new year',\n  'assumption of mary',\n  'all souls day',\n  'feast of the immaculate conception',\n  'feast of our lady of guadalupe',\n\n  // Kwanzaa\n  'kwanzaa',\n  // Pagan / metal 🤘\n  'imbolc',\n  'beltaine',\n  'lughnassadh',\n  'samhain',\n  'martin luther king day',\n  'mlk day',\n  'presidents day',\n  'mardi gras',\n  'tax day',\n  'commonwealth day',\n  'mothers day',\n  'memorial day',\n  'fathers day',\n  'columbus day',\n  'indigenous peoples day',\n  'canadian thanksgiving',\n  'election day',\n  'thanksgiving',\n  't-day',\n  'turkey day',\n  'black friday',\n  'cyber monday',\n  // Astronomical religious and cultural holidays\n  'ash wednesday',\n  'palm sunday',\n  'maundy thursday',\n  'good friday',\n  'holy saturday',\n  'easter',\n  'easter sunday',\n  'easter monday',\n  'orthodox good friday',\n  'orthodox holy saturday',\n  'orthodox easter',\n  'orthodox easter monday',\n  'ascension day',\n  'pentecost',\n  'whitsunday',\n  'whit sunday',\n  'whit monday',\n  'trinity sunday',\n  'corpus christi',\n  'advent',\n  // Jewish\n  'tu bishvat',\n  'tu bshevat',\n  'purim',\n  'passover',\n  'yom hashoah',\n  'lag baomer',\n  'shavuot',\n  'tisha bav',\n  'rosh hashana',\n  'yom kippur',\n  'sukkot',\n  'shmini atzeret',\n  'simchat torah',\n  'chanukah',\n  'hanukkah',\n  // Muslim\n  'isra and miraj',\n  'lailat al-qadr',\n  'eid al-fitr',\n  'id al-Fitr',\n  'eid ul-Fitr',\n  'ramadan',\n  'eid al-adha',\n  'muharram',\n  'the prophets birthday',\n  'ostara',\n  'march equinox',\n  'vernal equinox',\n  'litha',\n  'june solistice',\n  'summer solistice',\n  'mabon',\n  'september equinox',\n  'fall equinox',\n  'autumnal equinox',\n  'yule',\n  'december solstice',\n  'winter solstice',\n  // Additional important holidays\n  'chinese new year',\n  'diwali',\n]\n","module.exports = [\n  'noon',\n  'midnight',\n  'now',\n  'morning',\n  'tonight',\n  'evening',\n  'afternoon',\n  'night',\n  'breakfast time',\n  'lunchtime',\n  'dinnertime',\n  'sometime',\n  'midday',\n  'eod',\n  'oclock',\n  'oclock',\n  'all day',\n  'at night',\n]\n","const timezones = require('../_timezones')\nconst data = [\n  [require('./dates'), '#Date'],\n  [require('./durations'), '#Duration'],\n  [require('./holidays'), '#Holiday'],\n  [require('./times'), '#Time'],\n  [Object.keys(timezones), '#Timezone'],\n]\nlet lex = {\n  'a couple': 'Value',\n}\ndata.forEach((a) => {\n  for (let i = 0; i < a[0].length; i++) {\n    lex[a[0][i]] = a[1]\n  }\n})\n\nmodule.exports = lex\n","const knownUnits = {\n  second: true,\n  minute: true,\n  hour: true,\n  day: true,\n  week: true,\n  weekend: true,\n  month: true,\n  season: true,\n  quarter: true,\n  year: true,\n}\n\nconst aliases = {\n  wk: 'week',\n  min: 'minute',\n  sec: 'second',\n  weekend: 'week', //for now...\n}\n\nconst parseUnit = function (m) {\n  let unit = m.match('#Duration').text('normal')\n  unit = unit.replace(/s$/, '')\n  // support shorthands like 'min'\n  if (aliases.hasOwnProperty(unit)) {\n    unit = aliases[unit]\n  }\n  return unit\n}\n\n//turn '5 weeks before' to {weeks:5}\nconst parseShift = function (doc) {\n  let result = {}\n  let shift = doc.match('#DateShift+')\n  if (shift.found === false) {\n    return result\n  }\n  // '5 weeks'\n  shift.match('#Cardinal #Duration').forEach((ts) => {\n    let num = ts.match('#Cardinal').text('normal')\n    num = parseFloat(num)\n    if (num && typeof num === 'number') {\n      let unit = parseUnit(ts)\n      if (knownUnits[unit] === true) {\n        result[unit] = num\n      }\n    }\n  })\n  //is it 2 weeks ago?  → -2\n  if (shift.has('(before|ago|hence|back)$') === true) {\n    Object.keys(result).forEach((k) => (result[k] *= -1))\n  }\n  shift.remove('#Cardinal #Duration')\n  // supoprt '1 day after tomorrow'\n  let m = shift.match('[<unit>#Duration] [<dir>(after|before)]')\n  if (m.found) {\n    let unit = m.groups('unit').text('reduced')\n    // unit = unit.replace(/s$/, '')\n    let dir = m.groups('dir').text('reduced')\n    if (dir === 'after') {\n      result[unit] = 1\n    } else if (dir === 'before') {\n      result[unit] = -1\n    }\n  }\n  // in half an hour\n  m = shift.match('half (a|an) [#Duration]', 0)\n  if (m.found) {\n    let unit = parseUnit(m)\n    result[unit] = 0.5\n  }\n  // finally, remove it from our text\n  doc.remove('#DateShift')\n  return result\n}\nmodule.exports = parseShift\n","/*\na 'counter' is a Unit determined after a point\n  * first hour of x\n  * 7th week in x\n  * last year in x\n  * \nunlike a shift, like \"2 weeks after x\"\n*/\nconst oneBased = {\n  minute: true,\n}\nconst getCounter = function (doc) {\n  // 7th week of\n  let m = doc.match('[<num>#Value] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let num = obj.num.text('reduced')\n    let unit = obj.unit.text('reduced')\n    let found = {\n      unit: unit,\n      num: Number(num) || 0,\n    }\n    // 0-based or 1-based units\n    if (!oneBased[unit]) {\n      found.num -= 1\n    }\n    doc = doc.remove(m)\n    return found\n  }\n  // first week of\n  m = doc.match('[<dir>(first|initial|last|final)] [<unit>#Duration+] (of|in)')\n  if (m.found) {\n    let obj = m.groups()\n    let dir = obj.dir.text('reduced')\n    let unit = obj.unit.text('reduced')\n    if (dir === 'initial') {\n      dir = 'first'\n    }\n    if (dir === 'final') {\n      dir = 'last'\n    }\n    let found = {\n      unit: unit,\n      dir: dir,\n    }\n    doc = doc.remove(m)\n    return found\n  }\n\n  return {}\n}\nmodule.exports = getCounter\n","const spacetime = require('spacetime')\n\nconst hardCoded = {\n  daybreak: '7:00am', //ergh\n  breakfast: '8:00am',\n  morning: '9:00am',\n  noon: '12:00pm',\n  midday: '12:00pm',\n  afternoon: '2:00pm',\n  lunchtime: '12:00pm',\n  evening: '6:00pm',\n  dinnertime: '6:00pm',\n  night: '8:00pm',\n  eod: '10:00pm',\n  midnight: '12:00am',\n}\n\nconst halfPast = function (m, s) {\n  let hour = m.match('#Cardinal$').text('reduced')\n\n  let term = m.match('(half|quarter|25|15|10|5)')\n  let mins = term.text('reduced')\n  if (term.has('half')) {\n    mins = '30'\n  }\n  if (term.has('quarter')) {\n    mins = '15'\n  }\n  let behind = m.has('to')\n  // apply it\n  s = s.hour(hour)\n  s = s.startOf('hour')\n  // assume 'half past 5' is 5pm\n  if (hour < 6) {\n    s = s.ampm('pm')\n  }\n  if (behind) {\n    s = s.subtract(mins, 'minutes')\n  } else {\n    s = s.add(mins, 'minutes')\n  }\n  return s\n}\n\nconst parseTime = function (doc, context) {\n  let time = doc.match('(at|by|for|before|this)? #Time+')\n  if (time.found) {\n    doc.remove(time)\n  }\n  // get the main part of the time\n  time = time.not('^(at|by|for|before|this)')\n  time = time.not('sharp')\n  time = time.not('on the dot')\n  let s = spacetime.now(context.timezone)\n  let now = s.clone()\n\n  // check for known-times (like 'today')\n  let timeStr = time.text('reduced')\n  if (hardCoded.hasOwnProperty(timeStr)) {\n    return hardCoded[timeStr]\n  }\n\n  // '5 oclock'\n  let m = time.match('^#Cardinal oclock (am|pm)?')\n  if (m.found) {\n    m = m.not('oclock')\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n\n  // 'quarter to two'\n  m = time.match('(half|quarter|25|15|10|5) (past|after|to) #Cardinal')\n  if (m.found) {\n    s = halfPast(m, s)\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n  // '4 in the evening'\n  m = time.match('[<time>#Time] (in|at) the? [<desc>(morning|evening|night|nighttime)]')\n  if (m.found) {\n    let str = m.groups('time').text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3 in the morning\n    } else {\n      s = s.time(str) // 3:30 in the morning\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = m.groups('desc').text('reduced')\n      if (desc === 'evening' || desc === 'night') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'this morning at 4'\n  m = time.match('this? [<desc>(morning|evening|tonight)] at [<time>(#Cardinal|#Time)]')\n  if (m.found) {\n    let g = m.groups()\n    let str = g.time.text('reduced')\n    if (/^[0-9]{1,2}$/.test(str)) {\n      s = s.hour(str) //3\n      s = s.startOf('hour')\n    } else {\n      s = s.time(str) // 3:30\n    }\n    if (s.isValid() && !s.isEqual(now)) {\n      let desc = g.desc.text('reduced')\n      if (desc === 'morning') {\n        s = s.ampm('am')\n      }\n      if (desc === 'evening' || desc === 'tonight') {\n        s = s.ampm('pm')\n      }\n      return s.time()\n    }\n  }\n\n  // 'at 4' -> '4'\n  m = time.match('^#Cardinal$')\n  if (m.found) {\n    s = s.hour(m.text('reduced'))\n    s = s.startOf('hour')\n    if (s.isValid() && !s.isEqual(now)) {\n      return s.time()\n    }\n  }\n\n  // parse random a time like '4:54pm'\n  let str = time.text('reduced')\n  s = s.time(str)\n  if (s.isValid() && !s.isEqual(now)) {\n    return s.time()\n  }\n  return null\n}\nmodule.exports = parseTime\n","// interpret 'this halloween' or 'next june'\nconst parseRelative = function (doc) {\n  // avoid parsing 'last month of 2019'\n  // if (doc.has('^(this|current|next|upcoming|last|previous) #Duration')) {\n  //   return null\n  // }\n  // parse 'this evening'\n  // let m = doc.match('^(next|last|this)$')\n  // if (m.found) {\n  //   doc.remove(m)\n  //   return doc.text('reduced')\n  // }\n  // but avoid parsing 'day after next'\n  if (doc.has('(next|last|this)$')) {\n    return null\n  }\n  let rel = null\n  let m = doc.match('^this? (next|upcoming|coming)')\n  if (m.found) {\n    rel = 'next'\n    doc.remove(m)\n  }\n  m = doc.match('^this? (last|previous)')\n  if (m.found) {\n    rel = 'last'\n    doc.remove(m)\n  }\n  m = doc.match('^(this|current)')\n  if (m.found) {\n    rel = 'this'\n    doc.remove(m)\n  }\n  // finally, remove it from our text\n  // doc.remove('^(this|current|next|upcoming|last|previous)')\n\n  return rel\n}\nmodule.exports = parseRelative\n","// 'start of october', 'middle of june 1st'\nconst parseSection = function (doc) {\n  // start of 2019\n  let m = doc.match('[(start|beginning) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'start'\n  }\n  // end of 2019\n  m = doc.match('[end of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'end'\n  }\n  // middle of 2019\n  m = doc.match('[(middle|midpoint|center) of] .', 0)\n  if (m.found) {\n    doc.remove(m)\n    return 'middle'\n  }\n  return null\n}\nmodule.exports = parseSection\n","const informal = require('../../data/_timezones')\n\nconst isOffset = /(\\-?[0-9]+)h(rs)?/i\nconst isNumber = /(\\-?[0-9]+)/\nconst utcOffset = /utc([\\-+]?[0-9]+)/i\nconst gmtOffset = /gmt([\\-+]?[0-9]+)/i\n\nconst toIana = function(num) {\n  num = Number(num)\n  if (num > -13 && num < 13) {\n    num = num * -1 //it's opposite!\n    num = (num > 0 ? '+' : '') + num //add plus sign\n    return 'Etc/GMT' + num\n  }\n  return null\n}\n\nconst parseOffset = function(tz) {\n  // '+5hrs'\n  let m = tz.match(isOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'utc+5'\n  m = tz.match(utcOffset)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  // 'GMT-5' (not opposite)\n  m = tz.match(gmtOffset)\n  if (m !== null) {\n    let num = Number(m[1]) * -1\n    return toIana(num)\n  }\n  // '+5'\n  m = tz.match(isNumber)\n  if (m !== null) {\n    return toIana(m[1])\n  }\n  return null\n}\n\nconst parseTimezone = function(doc) {\n  let m = doc.match('#Timezone+')\n  //remove prepositions\n  m = m.remove('(in|for|by|near|at)')\n  let str = m.text('reduced')\n\n  // remove it from our doc, either way\n  doc.remove('#Timezone+')\n\n  // check our list of informal tz names\n  if (informal.hasOwnProperty(str)) {\n    return informal[str]\n  }\n  let tz = parseOffset(str)\n  if (tz) {\n    return tz\n  }\n\n  return null\n}\nmodule.exports = parseTimezone\n","const spacetime = require('spacetime')\n\nclass Unit {\n  constructor(input, unit, context, keepTime) {\n    this.unit = unit || 'day'\n    context = context || {}\n    let today = {}\n    if (context.today) {\n      today = {\n        date: context.today.date(),\n        month: context.today.month(),\n        year: context.today.year(),\n      }\n    }\n    // set it to the beginning of the given unit\n    let d = spacetime(input, context.timezone, { today: today })\n\n    // set to beginning\n    // if (d.isValid() && keepTime !== true) {\n    //   d = d.startOf(this.unit)\n    // }\n    Object.defineProperty(this, 'd', {\n      enumerable: false,\n      writable: true,\n      value: d,\n    })\n    Object.defineProperty(this, 'context', {\n      enumerable: false,\n      writable: true,\n      value: context,\n    })\n  }\n  // make a new one\n  clone() {\n    let d = new Unit(this.d, this.unit, this.context)\n    return d\n  }\n  log() {\n    console.log('--')\n    this.d.log()\n    console.log('\\n')\n    return this\n  }\n  applyShift(obj = {}) {\n    Object.keys(obj).forEach((unit) => {\n      this.d = this.d.add(obj[unit], unit)\n    })\n    return this\n  }\n  applyTime(str) {\n    if (str) {\n      this.d = this.d.time(str)\n    } else {\n      this.d = this.d.startOf('day') //zero-out time\n    }\n    return this\n  }\n  applyRel(rel) {\n    if (rel === 'next') {\n      return this.next()\n    }\n    if (rel === 'last') {\n      return this.last()\n    }\n    return this\n  }\n  applySection(section) {\n    if (section === 'start') {\n      return this.start()\n    }\n    if (section === 'end') {\n      return this.end()\n    }\n    if (section === 'middle') {\n      return this.middle()\n    }\n    return this\n  }\n  format(fmt) {\n    return this.d.format(fmt)\n  }\n  start() {\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  end() {\n    this.d = this.d.endOf(this.unit)\n    return this\n  }\n  middle() {\n    let diff = this.d.diff(this.d.endOf(this.unit))\n    let minutes = Math.round(diff.minutes / 2)\n    this.d = this.d.add(minutes, 'minutes')\n    return this\n  }\n  // the millescond before\n  before() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.endOf(this.unit)\n    return this\n  }\n  // 'after 2019'\n  after() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'next june' 'next tuesday'\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  // tricky: 'last june' 'last tuesday'\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nmodule.exports = Unit\n","const spacetime = require('spacetime')\nconst Unit = require('./Unit')\n\nclass Day extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\n// like 'feb 2'\nclass CalendarDate extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    return this\n  }\n}\n\nclass WeekDay extends Day {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    // is the input just a weekday?\n    if (typeof input === 'string') {\n      this.d = spacetime(context.today, context.timezone)\n      this.d = this.d.day(input)\n      // assume a wednesday in the future\n      if (this.d.isBefore(context.today)) {\n        this.d = this.d.add(7, 'days')\n      }\n    } else {\n      this.d = input\n    }\n    this.weekDay = this.d.dayName()\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n  clone() {\n    //overloaded method\n    return new WeekDay(this.d, this.unit, this.context)\n  }\n  end() {\n    //overloaded method\n    this.d = this.d.endOf('day')\n    return this\n  }\n  next() {\n    this.d = this.d.add(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(7, 'days')\n    this.d = this.d.day(this.weekDay)\n    return this\n  }\n}\n\n// like 'haloween'\nclass Holiday extends CalendarDate {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'day'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('day')\n    }\n  }\n}\n\nmodule.exports = {\n  Day: Day,\n  WeekDay: WeekDay,\n  CalendarDate: CalendarDate,\n  Holiday: Holiday,\n}\n","const Unit = require('./Unit')\n\n// a specific month, like 'March'\nclass AnyMonth extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n}\n\n// a specific month, like 'March'\nclass Month extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'month'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf('month')\n    return this\n  }\n}\nclass AnyQuarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  last() {\n    console.log(this.d.format())\n    this.d = this.d.minus(1, 'quarter')\n    console.log(this.d.format())\n    this.d = this.d.startOf(this.unit)\n    console.log(this.d.format())\n    return this\n  }\n}\n\nclass Quarter extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'quarter'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Season extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'season'\n    // set to beginning\n    if (this.d.isValid()) {\n      this.d = this.d.startOf(this.unit)\n    }\n  }\n  next() {\n    this.d = this.d.add(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, 'year')\n    this.d = this.d.startOf(this.unit)\n    return this\n  }\n}\nclass Year extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'year'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('year')\n    }\n  }\n}\n\nmodule.exports = {\n  AnyMonth: AnyMonth,\n  Month: Month,\n  Quarter: Quarter,\n  AnyQuarter: AnyQuarter,\n  Season: Season,\n  Year: Year,\n}\n","const Unit = require('./Unit')\n\nclass Week extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('week')\n    }\n  }\n}\n\n//may need some work\nclass WeekEnd extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context)\n    this.unit = 'week'\n    if (this.d.isValid()) {\n      this.d = this.d.day('saturday')\n      this.d = this.d.startOf('day')\n    }\n  }\n  start() {\n    this.d = this.d.day('saturday').startOf('day')\n    return this\n  }\n  // end() {\n  //   this.d = this.d.day('sunday').endOf('day')\n  //   return this\n  // }\n  next() {\n    this.d = this.d.add(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n  last() {\n    this.d = this.d.minus(1, this.unit)\n    this.d = this.d.startOf('weekend')\n    return this\n  }\n}\n\nmodule.exports = {\n  Week: Week,\n  WeekEnd: WeekEnd,\n}\n","const Unit = require('./Unit')\n\nclass Hour extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'hour'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('hour')\n    }\n  }\n}\nclass Minute extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'minute'\n    if (this.d.isValid()) {\n      this.d = this.d.startOf('minute')\n    }\n  }\n}\nclass Moment extends Unit {\n  constructor(input, unit, context) {\n    super(input, unit, context, true)\n    this.unit = 'millisecond'\n  }\n}\n\nmodule.exports = {\n  Hour: Hour,\n  Minute: Minute,\n  Moment: Moment,\n}\n","module.exports = Object.assign(\n  { Unit: require('./Unit') },\n  require('./_day'),\n  require('./_year'),\n  require('./_week'),\n  require('./_time')\n)\n","const { Day, Moment, Hour } = require('../units')\n\nconst knownWord = {\n  today: (context) => {\n    return new Day(context.today, null, context)\n  },\n  yesterday: (context) => {\n    return new Day(context.today.minus(1, 'day'), null, context)\n  },\n  tomorrow: (context) => {\n    return new Day(context.today.plus(1, 'day'), null, context)\n  },\n  eom: (context) => {\n    let d = context.today.endOf('month')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n  // eod: (context) => {\n  //   let d = context.today.endOf('day')\n  //   d = d.startOf('hour').minus(4, 'hours') //rough\n  //   return new Hour(d, null, context)\n  // },\n  eoy: (context) => {\n    let d = context.today.endOf('year')\n    d = d.startOf('day')\n    return new Day(d, null, context)\n  },\n}\nknownWord.tommorrow = knownWord.tomorrow\nknownWord.tmrw = knownWord.tomorrow\n\nconst today = function (doc, context, section) {\n  let unit = null\n  // is it empty?\n  if (doc.found === false) {\n    // do we have just a time?\n    if (section.time !== null) {\n      unit = new Moment(context.today, null, context) // choose today\n    }\n    //do we just have a shift?\n    if (Object.keys(section.shift).length > 0) {\n      if (section.shift.hour || section.shift.minute) {\n        unit = new Moment(context.today, null, context) // choose now\n      } else {\n        unit = new Day(context.today, null, context) // choose today\n      }\n    }\n  }\n\n  // today, yesterday, tomorrow\n  let str = doc.text('reduced')\n  if (knownWord.hasOwnProperty(str) === true) {\n    return knownWord[str](context)\n  }\n  // day after next\n  if (str === 'next' && Object.keys(section.shift).length > 0) {\n    return knownWord.tomorrow(context)\n  }\n  return unit\n}\nmodule.exports = today\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('spacetime')) :\n  typeof define === 'function' && define.amd ? define(['spacetime'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.spacetimeHoliday = factory(global.spacetime));\n}(this, (function (spacetime) { 'use strict';\n\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n  var spacetime__default = /*#__PURE__*/_interopDefaultLegacy(spacetime);\n\n  //yep,\n  var jan = 'january';\n  var feb = 'february';\n  var mar = 'march';\n  var apr = 'april';\n  var may = 'may';\n  var jun = 'june';\n  var jul = 'july';\n  var aug = 'august';\n  var sep = 'september';\n  var oct = 'october';\n  var nov = 'november';\n  var dec = 'december';\n  var fixedHolidays = {\n    'new years eve': [dec, 31],\n    'new years': [jan, 1],\n    'new years day': [jan, 1],\n    'inauguration day': [jan, 20],\n    'australia day': [jan, 26],\n    'national freedom day': [feb, 1],\n    'groundhog day': [feb, 2],\n    'rosa parks day': [feb, 4],\n    'valentines day': [feb, 14],\n    'saint valentines day': [feb, 14],\n    'st valentines day ': [feb, 14],\n    'saint patricks day': [mar, 17],\n    'st patricks day': [mar, 17],\n    'april fools': [apr, 1],\n    'april fools day': [apr, 1],\n    'emancipation day': [apr, 16],\n    'tax day': [apr, 15],\n    //US\n    'labour day': [may, 1],\n    'cinco de mayo': [may, 5],\n    'national nurses day': [may, 6],\n    'harvey milk day': [may, 22],\n    'victoria day': [may, 24],\n    juneteenth: [jun, 19],\n    'canada day': [jul, 1],\n    'independence day': [jul, 4],\n    'independents day': [jul, 4],\n    'bastille day': [jul, 14],\n    'purple heart day': [aug, 7],\n    'womens equality day': [aug, 26],\n    '16 de septiembre': [sep, 16],\n    'dieciseis de septiembre': [sep, 16],\n    'grito de dolores': [sep, 16],\n    halloween: [oct, 31],\n    'all hallows eve': [oct, 31],\n    'day of the dead': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'dia de muertos': [oct, 31],\n    // Ranged holiday [nov, 2],\n    'veterans day': [nov, 11],\n    'st andrews day': [nov, 30],\n    'saint andrews day': [nov, 30],\n    'all saints day': [nov, 1],\n    'all sts day': [nov, 1],\n    'armistice day': [nov, 11],\n    'rememberance day': [nov, 11],\n    'christmas eve': [dec, 24],\n    christmas: [dec, 25],\n    xmas: [dec, 25],\n    'boxing day': [dec, 26],\n    'st stephens day': [dec, 26],\n    'saint stephens day': [dec, 26],\n    // Fixed religious and cultural holidays\n    // Catholic + Christian\n    epiphany: [jan, 6],\n    'orthodox christmas day': [jan, 7],\n    'orthodox new year': [jan, 14],\n    'assumption of mary': [aug, 15],\n    'all souls day': [nov, 2],\n    'feast of the immaculate conception': [dec, 8],\n    'feast of our lady of guadalupe': [dec, 12],\n    // Kwanzaa\n    kwanzaa: [dec, 26],\n    // Ranged holiday [jan, 1],\n    // Pagan / metal 🤘\n    imbolc: [feb, 2],\n    beltaine: [may, 1],\n    lughnassadh: [aug, 1],\n    samhain: [oct, 31]\n  };\n\n  var fixedDates = function fixedDates(str, normal, year, tz) {\n    if (fixedHolidays.hasOwnProperty(str) || fixedHolidays.hasOwnProperty(normal)) {\n      var arr = fixedHolidays[str] || fixedHolidays[normal] || [];\n      var s = spacetime__default['default'].now(tz);\n      s = s.year(year);\n      s = s.startOf('year');\n      s = s.month(arr[0]);\n      s = s.date(arr[1]);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _01FixedDates = fixedDates;\n\n  //these are holidays on the 'nth weekday of month'\n  var jan$1 = 'january';\n  var feb$1 = 'february';\n  var mar$1 = 'march'; // const apr = 'april'\n\n  var may$1 = 'may';\n  var jun$1 = 'june'; // const jul = 'july'\n  // const aug = 'august'\n\n  var sep$1 = 'september';\n  var oct$1 = 'october';\n  var nov$1 = 'november'; // const dec = 'december'\n\n  var mon = 'monday'; // const tues = 'tuesday'\n  // const wed = 'wednesday'\n\n  var thurs = 'thursday';\n  var fri = 'friday'; // const sat = 'saturday'\n\n  var sun = 'sunday';\n  var holidays = {\n    'martin luther king day': [3, mon, jan$1],\n    //[third monday in january],\n    'presidents day': [3, mon, feb$1],\n    //[third monday in february],\n    'commonwealth day': [2, mon, mar$1],\n    //[second monday in march],\n    'mothers day': [2, sun, may$1],\n    //[second Sunday in May],\n    'fathers day': [3, sun, jun$1],\n    //[third Sunday in June],\n    'labor day': [1, mon, sep$1],\n    //[first monday in september],\n    'columbus day': [2, mon, oct$1],\n    //[second monday in october],\n    'canadian thanksgiving': [2, mon, oct$1],\n    //[second monday in october],\n    thanksgiving: [4, thurs, nov$1],\n    // [fourth Thursday in November],\n    'black friday': [4, fri, nov$1] //[fourth friday in november],\n    // 'memorial day': [may], //[last monday in may],\n    // 'us election': [nov], // [Tuesday following the first Monday in November],\n    // 'cyber monday': [nov]\n    // 'advent': [] // fourth Sunday before Christmas\n\n  }; // add aliases\n\n  holidays['turday day'] = holidays.thanksgiving;\n  holidays['indigenous peoples day'] = holidays['columbus day'];\n  holidays['mlk day'] = holidays['martin luther king day'];\n  var calendarHolidays = holidays;\n\n  var fixedDates$1 = function fixedDates(str, normal, year, tz) {\n    if (calendarHolidays.hasOwnProperty(str) || calendarHolidays.hasOwnProperty(normal)) {\n      var arr = calendarHolidays[str] || calendarHolidays[normal] || [];\n      var s = spacetime__default['default'].now(tz);\n      s = s.year(year); // [3rd, 'monday', 'january']\n\n      s = s.month(arr[2]);\n      s = s.startOf('month'); // make it january\n\n      var month = s.month(); // make it the 1st monday\n\n      s = s.day(arr[1]);\n\n      if (s.month() !== month) {\n        s = s.add(1, 'week');\n      } // make it nth monday\n\n\n      if (arr[0] > 1) {\n        s = s.add(arr[0] - 1, 'week');\n      }\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _02NthWeekday = fixedDates$1;\n\n  // https://www.timeanddate.com/calendar/determining-easter-date.html\n  var dates = {\n    easter: 0,\n    'ash wednesday': -46,\n    // (46 days before easter)\n    'palm sunday': 7,\n    // (1 week before easter)\n    'maundy thursday': -3,\n    // (3 days before easter)\n    'good friday': -2,\n    // (2 days before easter)\n    'holy saturday': -1,\n    // (1 days before easter)\n    'easter saturday': -1,\n    // (1 day before easter)\n    'easter monday': 1,\n    // (1 day after easter)\n    'ascension day': 39,\n    // (39 days after easter)\n    'whit sunday': 49,\n    // / pentecost (49 days after easter)\n    'whit monday': 50,\n    // (50 days after easter)\n    'trinity sunday': 65,\n    // (56 days after easter)\n    'corpus christi': 60,\n    // (60 days after easter)\n    'mardi gras': -47 //(47 days before easter)\n\n  };\n  dates['easter sunday'] = dates.easter;\n  dates['pentecost'] = dates['whit sunday'];\n  dates['whitsun'] = dates['whit sunday'];\n  var easterHolidays = dates;\n\n  // by John Dyer\n  // based on the algorithm by Oudin (1940) from http://www.tondering.dk/claus/cal/easter.php\n  var calcEaster = function calcEaster(year) {\n    var f = Math.floor,\n        // Golden Number - 1\n    G = year % 19,\n        C = f(year / 100),\n        // related to Epact\n    H = (C - f(C / 4) - f((8 * C + 13) / 25) + 19 * G + 15) % 30,\n        // number of days from 21 March to the Paschal full moon\n    I = H - f(H / 28) * (1 - f(29 / (H + 1)) * f((21 - G) / 11)),\n        // weekday for the Paschal full moon\n    J = (year + f(year / 4) + I + 2 - C + f(C / 4)) % 7,\n        // number of days from 21 March to the Sunday on or before the Paschal full moon\n    L = I - J,\n        month = 3 + f((L + 40) / 44),\n        date = L + 28 - 31 * f(month / 4);\n    month = month === 4 ? 'April' : 'March';\n    return month + ' ' + date;\n  };\n\n  var calcEaster_1 = calcEaster;\n\n  var easterDates = function easterDates(str, normal, year, tz) {\n    if (easterHolidays.hasOwnProperty(str) || easterHolidays.hasOwnProperty(normal)) {\n      var days = easterHolidays[str] || easterHolidays[normal] || [];\n      var date = calcEaster_1(year);\n\n      if (!date) {\n        return null; //no easter for this year\n      }\n\n      var e = spacetime__default['default'](date, tz);\n      e = e.year(year);\n      var s = e.add(days, 'day');\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _03EasterDates = easterDates;\n\n  // http://www.astropixels.com/ephemeris/soleq2001.html\n  // years 2000-2100\n  var exceptions = {\n    spring: [2003, 2007, 2044, 2048, 2052, 2056, 2060, 2064, 2068, 2072, 2076, 2077, 2080, 2081, 2084, 2085, 2088, 2089, 2092, 2093, 2096, 2097],\n    summer: [2021, 2016, 2020, 2024, 2028, 2032, 2036, 2040, 2041, 2044, 2045, 2048, 2049, 2052, 2053, 2056, 2057, 2060, 2061, 2064, 2065, 2068, 2069, 2070, 2072, 2073, 2074, 2076, 2077, 2078, 2080, 2081, 2082, 2084, 2085, 2086, 2088, 2089, 2090, 2092, 2093, 2094, 2096, 2097, 2098, 2099],\n    fall: [2002, 2003, 2004, 2006, 2007, 2010, 2011, 2014, 2015, 2018, 2019, 2022, 2023, 2026, 2027, 2031, 2035, 2039, 2043, 2047, 2051, 2055, 2059, 2092, 2096],\n    winter: [2002, 2003, 2006, 2007, 2011, 2015, 2019, 2023, 2027, 2031, 2035, 2039, 2043, 2080, 2084, 2088, 2092, 2096]\n  };\n  var winter20th = [2080, 2084, 2088, 2092, 2096];\n\n  var calcSeasons = function calcSeasons(year) {\n    // most common defaults\n    var res = {\n      spring: 'March 20 ' + year,\n      summer: 'June 21 ' + year,\n      fall: 'Sept 22 ' + year,\n      winter: 'Dec 21 ' + year\n    };\n\n    if (exceptions.spring.indexOf(year) !== -1) {\n      res.spring = 'March 19 ' + year;\n    }\n\n    if (exceptions.summer.indexOf(year) !== -1) {\n      res.summer = 'June 20 ' + year;\n    }\n\n    if (exceptions.fall.indexOf(year) !== -1) {\n      res.fall = 'Sept 21 ' + year;\n    } // winter can be 20th, 21st, or 22nd\n\n\n    if (exceptions.winter.indexOf(year) !== -1) {\n      res.winter = 'Dec 22 ' + year;\n    }\n\n    if (winter20th.indexOf(year) !== -1) {\n      res.winter = 'Dec 20 ' + year;\n    }\n\n    return res;\n  };\n\n  var seasons = calcSeasons;\n\n  // these are properly calculated in ./lib/seasons\n  var dates$1 = {\n    'spring equinox': 'spring',\n    'summer solistice': 'summer',\n    'fall equinox': 'fall',\n    'winter solstice': 'winter'\n  }; // aliases\n\n  dates$1['march equinox'] = dates$1['spring equinox'];\n  dates$1['vernal equinox'] = dates$1['spring equinox'];\n  dates$1['ostara'] = dates$1['spring equinox'];\n  dates$1['june solstice'] = dates$1['summer solistice'];\n  dates$1['litha'] = dates$1['summer solistice'];\n  dates$1['autumn equinox'] = dates$1['fall equinox'];\n  dates$1['autumnal equinox'] = dates$1['fall equinox'];\n  dates$1['september equinox'] = dates$1['fall equinox'];\n  dates$1['sept equinox'] = dates$1['fall equinox'];\n  dates$1['mabon'] = dates$1['fall equinox'];\n  dates$1['december solstice'] = dates$1['winter solistice'];\n  dates$1['dec solstice'] = dates$1['winter solistice'];\n  dates$1['yule'] = dates$1['winter solistice'];\n  var astroHolidays = dates$1;\n\n  var astroDates = function astroDates(str, normal, year, tz) {\n    if (astroHolidays.hasOwnProperty(str) || astroHolidays.hasOwnProperty(normal)) {\n      var season = astroHolidays[str] || astroHolidays[normal];\n      var seasons$1 = seasons(year);\n\n      if (!season || !seasons$1 || !seasons$1[season]) {\n        return null; // couldn't figure it out\n      }\n\n      var s = spacetime__default['default'](seasons$1[season], tz);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _04Astronomical = astroDates;\n\n  var dates$2 = {\n    // Muslim holidays\n    'isra and miraj': 'april 13',\n    'lailat al-qadr': 'june 10',\n    'eid al-fitr': 'june 15',\n    'id al-Fitr': 'june 15',\n    'eid ul-Fitr': 'june 15',\n    ramadan: 'may 16',\n    // Range holiday\n    'eid al-adha': 'sep 22',\n    muharram: 'sep 12',\n    'prophets birthday': 'nov 21'\n  };\n  var lunarHolidays = dates$2;\n\n  var dayDiff = -10.64;\n\n  var lunarDates = function lunarDates(str, normal, year, tz) {\n    if (lunarHolidays.hasOwnProperty(str) || lunarHolidays.hasOwnProperty(normal)) {\n      var date = lunarHolidays[str] || lunarHolidays[normal] || [];\n\n      if (!date) {\n        return null;\n      } // start at 2018\n\n\n      var s = spacetime__default['default'](date + ' 2018', tz);\n      var diff = year - 2018;\n      var toAdd = diff * dayDiff;\n      s = s.add(toAdd, 'day');\n      s = s.startOf('day'); // now set the correct year\n\n      s = s.year(year);\n\n      if (s.isValid()) {\n        return s;\n      }\n    }\n\n    return null;\n  };\n\n  var _05LunarDates = lunarDates;\n\n  var nowYear = spacetime__default['default'].now().year();\n\n  var spacetimeHoliday = function spacetimeHoliday(str, year, tz) {\n    year = year || nowYear;\n    str = str || '';\n    str = String(str);\n    str = str.trim().toLowerCase();\n    str = str.replace(/'s/, 's'); // 'mother's day'\n\n    var normal = str.replace(/ day$/, '');\n    normal = normal.replace(/^the /, '');\n    normal = normal.replace(/^orthodox /, ''); //orthodox good friday\n    // try easier, unmoving holidays\n\n    var s = _01FixedDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // try 'nth monday' holidays\n\n\n    s = _02NthWeekday(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // easter-based holidays\n\n\n    s = _03EasterDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // solar-based holidays\n\n\n    s = _04Astronomical(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    } // mostly muslim holidays\n\n\n    s = _05LunarDates(str, normal, year, tz);\n\n    if (s !== null) {\n      return s;\n    }\n\n    return null;\n  };\n\n  var src = spacetimeHoliday;\n\n  return src;\n\n})));\n//# sourceMappingURL=spacetime-holiday.js.map\n","const { Holiday } = require('../units')\nconst spacetimeHoliday = require('spacetime-holiday')\n\nconst parseHoliday = function (doc, context) {\n  let unit = null\n  let m = doc.match('[<holiday>#Holiday+] [<year>#Year?]')\n  let year = context.today.year()\n  if (m.groups('year').found) {\n    year = Number(m.groups('year').text('reduced')) || year\n  }\n  let str = m.groups('holiday').text('reduced')\n  let s = spacetimeHoliday(str, year, context.timezone)\n  if (s !== null) {\n    // assume the year in the future..\n    if (s.isBefore(context.today) && year === context.today.year()) {\n      s = spacetimeHoliday(str, year + 1, context.timezone)\n    }\n    unit = new Holiday(s, null, context)\n  }\n  return unit\n}\nmodule.exports = parseHoliday\n","const { Week, WeekEnd, AnyMonth, AnyQuarter, Year, Season, WeekDay, Day, Hour, Minute, Moment } = require('../units')\nconst mapping = {\n  day: Day,\n  hour: Hour,\n  evening: Hour,\n  second: Moment,\n  milliscond: Moment,\n  instant: Moment,\n  minute: Minute,\n  week: Week,\n  weekend: WeekEnd,\n  month: AnyMonth,\n  quarter: AnyQuarter,\n  year: Year,\n  season: Season,\n  // set aliases\n  yr: Year,\n  qtr: AnyQuarter,\n  wk: Week,\n  sec: Moment,\n  hr: Hour,\n}\n\nlet matchStr = `^(${Object.keys(mapping).join('|')})$`\n\n// when a unit of time is spoken of as 'this month' - instead of 'february'\nconst nextLast = function (doc, context) {\n  //this month, last quarter, next year\n  let m = doc.match(matchStr)\n  if (m.found === true) {\n    let str = m.text('reduced')\n    if (mapping.hasOwnProperty(str)) {\n      let Model = mapping[str]\n      if (!Model) {\n        return null\n      }\n      let unit = new Model(null, str, context)\n      return unit\n    }\n  }\n\n  //try this version - 'next friday, last thursday'\n  m = doc.match('^#WeekDay$')\n  if (m.found === true) {\n    let str = m.text('reduced')\n    let unit = new WeekDay(str, null, context)\n    return unit\n  }\n  return null\n}\nmodule.exports = nextLast\n","const { Quarter, Season, Year } = require('../units')\nconst spacetime = require('spacetime')\n\nconst fmtToday = function (context) {\n  return {\n    date: context.today.date(),\n    month: context.today.month(),\n    year: context.today.year(),\n  }\n}\n\nconst parseYearly = function (doc, context) {\n  // support 'summer 2002'\n  let m = doc.match('(spring|summer|winter|fall|autumn) [<year>#Year?]')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    let unit = new Season(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'q4 2020'\n  m = doc.match('[<q>#FinancialQuarter] [<year>#Year?]')\n  if (m.found) {\n    let str = m.groups('q').text('reduced')\n    let s = spacetime(str, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '4th quarter 2020'\n  m = doc.match('[<q>#Value] quarter (of|in)? [<year>#Year?]')\n  if (m.found) {\n    let q = m.groups('q').text('reduced')\n    let s = spacetime(`q${q}`, context.timezone, { today: fmtToday(context) })\n    if (m.groups('year')) {\n      let year = Number(m.groups('year').text()) || context.today.year()\n      s = s.year(year)\n    }\n    let unit = new Quarter(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support '2020'\n  m = doc.match('^#Year$')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let s = spacetime(null, context.timezone, { today: fmtToday(context) })\n    s = s.year(str)\n    let unit = new Year(s, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  return null\n}\nmodule.exports = parseYearly\n","const { Day, CalendarDate, Month, Moment } = require('../units')\n\n// parse things like 'june 5th 2019'\n// most of this is done in spacetime\nconst parseExplicit = function (doc, context) {\n  let impliedYear = context.today.year()\n  // 'fifth of june 1992'\n  // 'june the fifth 1992'\n  let m = doc.match('[<date>#Value] of? [<month>#Month] [<year>#Year]')\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value] [<year>#Year]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // 'march 1992'\n  m = doc.match('[<month>#Month] of? [<year>#Year]')\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      year: m.groups('year').text() || impliedYear,\n    }\n    let unit = new Month(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  //no-years\n  // 'fifth of june'\n  m = doc.match('[<date>#Value] of? [<month>#Month]')\n  // 'june the fifth'\n  if (!m.found) {\n    m = doc.match('[<month>#Month] the? [<date>#Value]')\n  }\n  if (m.found) {\n    let obj = {\n      month: m.groups('month').text(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new CalendarDate(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support 'december'\n  if (doc.has('#Month')) {\n    let obj = {\n      month: doc.match('#Month').text(),\n      date: 1, //assume 1st\n      year: context.today.year(),\n    }\n    let unit = new Month(obj, null, context)\n    // assume 'feb' in the future\n    if (unit.d.month() < context.today.month()) {\n      obj.year += 1\n      unit = new Month(obj, null, context)\n    }\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  // support 'thursday 21st'\n  m = doc.match('#WeekDay [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n  // support date-only 'the 21st'\n  m = doc.match('the [<date>#Value]')\n  if (m.found) {\n    let obj = {\n      month: context.today.month(),\n      date: m.groups('date').text(),\n      year: context.today.year(),\n    }\n    let unit = new CalendarDate(obj, null, context)\n    if (unit.d.isValid() === true) {\n      // assume it's forward\n      if (unit.d.isBefore(context.today)) {\n        unit.d = unit.d.add(1, 'month')\n      }\n      return unit\n    }\n  }\n  // parse ISO as a Moment\n  m = doc.match('/[0-9]{4}-[0-9]{2}-[0-9]{2}t[0-9]{2}:/')\n  if (m.found) {\n    let str = doc.text('reduced')\n    let unit = new Moment(str, null, context)\n    if (unit.d.isValid() === true) {\n      return unit\n    }\n  }\n\n  let str = doc.text('reduced')\n  // punt it to spacetime, for the heavy-lifting\n  let unit = new Day(str, null, context)\n  // did we find a date?\n  if (unit.d.isValid() === false) {\n    return null\n  }\n  return unit\n}\nmodule.exports = parseExplicit\n","const { Quarter, Season, Week, Day, Hour, Minute, Month, WeekEnd } = require('../units')\n\nconst units = {\n  day: Day,\n  week: Week,\n  weekend: WeekEnd,\n  month: Month,\n  quarter: Quarter,\n  season: Season,\n  hour: Hour,\n  minute: Minute,\n}\n\nconst applyCounter = function (unit, counter = {}) {\n  let Unit = units[counter.unit]\n  if (!Unit) {\n    return unit\n  }\n  let d = unit.d\n\n  // support 'first' or 0th\n  if (counter.dir === 'first' || counter.num === 0) {\n    d = unit.start().d\n    d = d.startOf(counter.unit)\n  } else if (counter.dir === 'last') {\n    d = d.endOf(unit.unit)\n    d = d.startOf(counter.unit)\n  } else if (counter.num) {\n    // support 'nth week', eg.\n    d = d.add(counter.num, counter.unit)\n  }\n  let u = new Unit(d, null, unit.context)\n  if (u.d.isValid() === true) {\n    return u\n  }\n  return unit //fallback\n}\nmodule.exports = applyCounter\n","// const { Hour, Moment } = require('./units')\nconst tokens = {\n  shift: require('./01-tokenize/01-shift'),\n  counter: require('./01-tokenize/02-counter'),\n  time: require('./01-tokenize/03-time'),\n  relative: require('./01-tokenize/04-relative'),\n  section: require('./01-tokenize/05-section'),\n  timezone: require('./01-tokenize/06-timezone'),\n}\n\nconst parse = {\n  today: require('./02-parse/01-today'),\n  holiday: require('./02-parse/02-holidays'),\n  nextLast: require('./02-parse/03-next-last'),\n  yearly: require('./02-parse/04-yearly'),\n  explicit: require('./02-parse/05-explicit'),\n}\n\nconst transform = {\n  counter: require('./03-transform/addCounter'),\n}\n\nconst parseDate = function (doc, context) {\n  // quick normalization\n  doc.match('[^the] !#Value', 0).remove() // keep 'the 17th'\n  //parse-out any sections\n  let shift = tokens.shift(doc)\n  let counter = tokens.counter(doc)\n  let tz = tokens.timezone(doc)\n  let time = tokens.time(doc, context)\n  let section = tokens.section(doc, context)\n  let rel = tokens.relative(doc)\n  //set our new timezone\n  if (tz) {\n    context = Object.assign({}, context, { timezone: tz })\n    let iso = context.today.format('iso-short')\n    context.today = context.today.goto(context.timezone).set(iso)\n  }\n  let unit = null\n  //'in two days'\n  unit = unit || parse.today(doc, context, { shift, time, rel })\n  // 'this haloween'\n  unit = unit || parse.holiday(doc, context)\n  // 'this month'\n  unit = unit || parse.nextLast(doc, context)\n  // 'q2 2002'\n  unit = unit || parse.yearly(doc, context)\n  // 'this june 2nd'\n  unit = unit || parse.explicit(doc, context)\n  // doc.debug()\n  if (!unit) {\n    return null\n  }\n\n  // 2 days after..\n  if (shift) {\n    unit.applyShift(shift)\n    // if (shift.hour || shift.minute || shift.second) {\n    //   console.log(shift)\n    //   unit = new Hour(unit.d, null, unit.context)\n    // }\n  }\n  // this/next/last\n  if (rel) {\n    unit.applyRel(rel)\n  }\n  // end of\n  if (section) {\n    unit.applySection(section)\n  }\n  // at 5:40pm\n  if (time) {\n    unit.applyTime(time)\n  }\n  // apply counter\n  if (counter && counter.unit) {\n    unit = transform.counter(unit, counter)\n  }\n  // debugging\n  // console.log('\\n\\n=-=-=-=-=-=-=-=-=-=-=-=Date-=-=-=-=-=-=-=-=-=-=-=-=-\\n')\n  // console.log(`  shift:      ${JSON.stringify(shift)}`)\n  // console.log(`  counter:   `, counter)\n  // console.log(`  rel:        ${rel || '-'}`)\n  // console.log(`  section:    ${section || '-'}`)\n  // console.log(`  time:       ${time || '-'}`)\n  // console.log(`  str:       '${doc.text()}'`)\n  // console.log('  unit:     ', unit, '\\n')\n  // doc.debug()\n  // console.log('=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\\n\\n')\n  return unit\n}\nmodule.exports = parseDate\n","const parseDate = require('../parseDate/parse')\nconst Unit = require('../parseDate/units/Unit')\n\nconst punt = function (unit, context) {\n  unit = unit.applyShift(context.punt)\n  return unit\n}\n\nmodule.exports = [\n  {\n    // two explicit dates - 'between friday and sunday'\n    match: 'between [<start>*] and [<end>*]',\n    parse: (m, context) => {\n      let start = m.groups('start')\n      start = parseDate(start, context)\n      let end = m.groups('end')\n      end = parseDate(end, context)\n      if (start && end) {\n        return {\n          start: start,\n          end: end.before(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // two months, no year - 'june 5 to june 7'\n    match: '[<from>#Month #Value] (to|through|thru) [<to>#Month #Value] [<year>#Year?]',\n    parse: (m, context) => {\n      let res = m.groups()\n      let start = res.from\n      if (res.year) {\n        start = start.append(res.year)\n      }\n      start = parseDate(start, context)\n      if (start) {\n        let end = res.to\n        if (res.year) {\n          end = end.append(res.year)\n        }\n        end = parseDate(end, context)\n        // reverse the order?\n        if (start.d.isAfter(end.d)) {\n          let tmp = start\n          start = end\n          end = tmp\n        }\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, first form - 'january 5 to 7 1998'\n    match: '[<month>#Month] [<from>#Value] (to|through|thru) [<to>#Value] of? [<year>#Year]',\n    parse: (m, context) => {\n      let { month, from, to, year } = m.groups()\n      let year2 = year.clone()\n      let start = from.prepend(month.text()).append(year.text())\n      start = parseDate(start, context)\n      if (start) {\n        let end = to.prepend(month.text()).append(year2)\n        end = parseDate(end, context)\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // one month, one year, second form - '5 to 7 of january 1998'\n    match: '[<from>#Value] (to|through|thru) [<to>#Value of? #Month of? #Year]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('to')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - '5 to 7 of january'\n    match: '[<from>#Value] (to|through|thru) [<to>#Value of? #Month]',\n    parse: (m, context) => {\n      let to = m.groups('to')\n      to = parseDate(to, context)\n      if (to) {\n        let fromDate = m.groups('from')\n        let from = to.clone()\n        from.d = from.d.date(fromDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // one month, no year - 'january 5 to 7'\n    match: '[<from>#Month #Value] (to|through|thru) [<to>#Value]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      from = parseDate(from, context)\n      if (from) {\n        let toDate = m.groups('to')\n        let to = from.clone()\n        to.d = to.d.date(toDate.text('normal'))\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'from A to B'\n    match: 'from? [<from>*] (to|until|upto|through|thru) [<to>*]',\n    parse: (m, context) => {\n      let from = m.groups('from')\n      let to = m.groups('to')\n      from = parseDate(from, context)\n      to = parseDate(to, context)\n      if (from && to) {\n        return {\n          start: from,\n          end: to.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  // {\n  //   // 'A through B' (inclusive end)\n  //   match: 'from? [<a>*] (through|thru) [<b>*]',\n  //   parse: (m, context) => {\n  //     let from = m.groups('a')\n  //     let to = m.groups('b')\n  //     from = parseDate(from, context)\n  //     to = parseDate(to, context)\n  //     if (from && to) {\n  //       return {\n  //         start: from,\n  //         end: to.end(),\n  //       }\n  //     }\n  //     return null\n  //   },\n  // },\n\n  // {\n  //   // 'A until B' (not inclusive end)\n  //   match: 'from? [<a>*] (to|until|upto) [<b>*]',\n  //   parse: (m, context) => {\n  //     let from = m.groups('a')\n  //     let to = m.groups('b')\n  //     from = parseDate(from, context)\n  //     to = parseDate(to, context)\n  //     if (from && to) {\n  //       return {\n  //         start: from,\n  //         end: to.end(),\n  //       }\n  //     }\n  //     return null\n  //   },\n  // },\n\n  {\n    // 'before june'\n    match: '^due? (by|before) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        let start = new Unit(context.today, null, context)\n        if (start.d.isAfter(unit.d)) {\n          start = unit.clone().applyShift({ weeks: -2 })\n        }\n        // end the night before\n        let end = unit.clone().applyShift({ day: -1 })\n        return {\n          start: start,\n          end: end.end(),\n        }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'in june'\n    match: '^(on|in|at|@) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return { start: unit, end: unit.clone().end() }\n      }\n      return null\n    },\n  },\n\n  {\n    // 'after june'\n    match: '^(after|following) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        unit = unit.after()\n        return {\n          start: unit.clone(),\n          end: punt(unit.clone(), context),\n        }\n      }\n      return null\n    },\n  },\n  {\n    // 'in june'\n    match: '^(on|during|in|during) [*]',\n    group: 0,\n    parse: (m, context) => {\n      let unit = parseDate(m, context)\n      if (unit) {\n        return {\n          start: unit,\n          end: unit.clone().end(),\n        }\n      }\n      return null\n    },\n  },\n]\n","const parseDate = require('../parseDate/parse')\nconst ranges = require('./ranges')\n\n// loop thru each range template\nconst parseRange = function (doc, context) {\n  // try each template in order\n  for (let i = 0; i < ranges.length; i += 1) {\n    let fmt = ranges[i]\n    let m = doc.match(fmt.match)\n    if (m.found) {\n      if (fmt.group !== undefined) {\n        m = m.groups(fmt.group)\n      }\n      let res = fmt.parse(m, context)\n      if (res !== null) {\n        // console.log(fmt.match)\n        return res\n      }\n    }\n  }\n  //else, try whole thing\n  let unit = parseDate(doc, context)\n  if (unit) {\n    return {\n      start: unit,\n      end: unit.clone().end(),\n    }\n  }\n  return {\n    start: null,\n    end: null,\n  }\n}\nmodule.exports = parseRange\n","const normalize = function (doc) {\n  doc = doc.clone()\n  if (!doc.numbers) {\n    console.warn(\"Compromise: compromise-dates cannot find plugin dependency 'compromise-number'\")\n  } else {\n    // convert 'two' to 2\n    let num = doc.numbers()\n    num.toNumber()\n    num.toCardinal(false)\n    // num.normalize()\n  }\n  // // expand 'aug 20-21'\n  doc.contractions().expand()\n  // // remove adverbs\n  doc.adverbs().remove()\n  // // 'week-end'\n  doc.replace('week end', 'weekend').tag('Date')\n  // // 'a up to b'\n  doc.replace('up to', 'upto').tag('Date')\n  // 'in a few years'\n  let m = doc.match('in [a few] #Duration')\n  if (m.found) {\n    m.groups('0').replaceWith('2')\n    m.tag('DateShift')\n  }\n  return doc\n}\nmodule.exports = normalize\n","const spacetime = require('spacetime')\nconst parseRanges = require('./02-ranges')\nconst normalize = require('./normalize')\n\nconst getDate = function (doc, context) {\n  // validate context a bit\n  context = context || {}\n  context.timezone = context.timezone || 'ETC/UTC'\n  context.today = spacetime(context.today || null, context.timezone)\n  //turn 'five' into 5..\n  doc = normalize(doc)\n  //interpret 'between [A] and [B]'...\n  return parseRanges(doc, context)\n}\nmodule.exports = getDate\n","let arr = [\n  ['mon', 'monday'],\n  ['tue', 'tuesday'],\n  ['tues', 'tuesday'],\n  ['wed', 'wednesday'],\n  ['thu', 'thursday'],\n  ['thurs', 'thursday'],\n  ['fri', 'friday'],\n  ['sat', 'saturday'],\n  ['sun', 'sunday'],\n\n  ['jan', 'january'],\n  ['feb', 'february'],\n  ['mar', 'march'],\n  ['apr', 'april'],\n  ['jun', 'june'],\n  ['jul', 'july'],\n  ['aug', 'august'],\n  ['sep', 'september'],\n  ['sept', 'september'],\n  ['oct', 'october'],\n  ['nov', 'november'],\n  ['dec', 'december'],\n]\n\narr = arr.map(a => {\n  return { short: a[0], long: a[1] }\n})\n\nmodule.exports = arr\n","const parse = require('./find')\nconst abbrevs = require('./data/_abbrevs')\n\nmodule.exports = {\n  /** overload the original json with noun information */\n  json: function (options) {\n    let n = null\n    if (typeof options === 'number') {\n      n = options\n      options = null\n    }\n    options = options || { terms: false }\n    let res = []\n    let format = options.format || 'iso'\n    this.forEach((doc) => {\n      let json = doc.json(options)[0]\n      let obj = parse(doc, this.context)\n      let start = obj.start ? obj.start.format(format) : null\n      let end = obj.end ? obj.end.format(format) : null\n      // set iso strings to json result\n      json.date = {\n        start: start,\n        end: end,\n      }\n      // add duration\n      if (start && end) {\n        json.date.duration = obj.start.d.diff(obj.end.d)\n        // we don't need these\n        delete json.date.duration.milliseconds\n        delete json.date.duration.seconds\n      }\n      res.push(json)\n    })\n    if (n !== null) {\n      return res[n]\n    }\n    return res\n  },\n\n  /** render all dates according to a specific format */\n  format: function (fmt) {\n    this.forEach((doc) => {\n      let obj = parse(doc, this.context)\n      let str = ''\n      if (obj.start) {\n        str = obj.start.format(fmt)\n        if (obj.end) {\n          let end = obj.start.format(fmt)\n          if (str !== end) {\n            str += ' to ' + end\n          }\n        }\n        doc.replaceWith(str, { keepTags: true, keepCase: false })\n      }\n    })\n    return this\n  },\n  /** replace 'Fri' with 'Friday', etc*/\n  toLongForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.short, a.long, true)\n    })\n    return this\n  },\n  /** replace 'Friday' with 'Fri', etc*/\n  toShortForm: function () {\n    abbrevs.forEach((a) => {\n      this.replace(a.long, a.short, true)\n    })\n    return this\n  },\n}\n","const tagger = require('./01-tagger')\nconst tags = require('./data/_tags')\nconst words = require('./data/words')\nconst methods = require('./methods')\nconst spacetime = require('spacetime')\n\nconst opts = {\n  punt: { weeks: 2 },\n}\n\nconst addMethods = function (Doc, world) {\n  // our new tags\n  world.addTags(tags)\n  // add info for the date plugin\n  world.addWords(words)\n  // run our tagger\n  world.postProcess(tagger)\n\n  /**  */\n  class Dates extends Doc {\n    constructor(list, from, w) {\n      super(list, from, w)\n      this.context = opts\n    }\n  }\n  //add-in methods\n  Object.assign(Dates.prototype, methods)\n\n  Doc.prototype.dates = function (n) {\n    let context = {}\n    if (n && typeof n === 'object') {\n      context = n\n      n = null\n    }\n    context = Object.assign({}, context, opts)\n    // let r = this.clauses()\n    let dates = this.match('#Date+')\n    if (typeof n === 'number') {\n      dates = dates.get(n)\n    }\n    let d = new Dates(dates.list, this, this.world)\n    if (context.today) {\n      context.today = spacetime(context.today, context.timezone)\n    }\n    d.context = context\n    return d\n  }\n}\n\nmodule.exports = addMethods\n"],"names":["preps","thisNext","sections","seasons","tagYear","m","reason","found","forEach","p","str","text","num","parseInt","tag","tagYearSafe","tagDates","doc","match","month","val","ifNo","duration","unTag","season","date","not","cardinal","v","time","here","values","has","replaceWith","dateTagger","sectionTagger","timeTagger","notIf","shiftTagger","fixUp","oops","d","knownDate","lastTerm","terms","methods","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","normalize","numbers","tagDate","fn","FinancialQuarter","isA","Season","Year","notA","Duration","Holiday","Timezone","DateShift","global","factory","module","this","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","len","arr2","TypeError","MSEC_IN_HOUR","toUtc","dstChange","offset","year","_dstChange$split","split","_dstChange$split2","rest","_rest$split","_rest$split2","day","hour","Date","UTC","inSummerTime","epoch","start","end","summerOffset","winterOffset","getUTCFullYear","startUtc","endUtc","summerTime","quickOffset","s","zones","timezones","obj","tz","console","warn","dst","jul","dec","hem","inSummer","quick","_build","_build$1","freeze","__proto__","_prefixes","createCommonjsModule","exports","getCjsExportFromNamespace","data","all","keys","k","Number","names","replace","before","unpack","fallbackTZ","safeIntl","Intl","DateTimeFormat","format","resolvedOptions","timezone","timeZone","toLowerCase","guessTz","guessTz_1","isOffset","isNumber","utcOffset","gmtOffset","toIana","parseOffset","parseOffset_1","local","cities","reduce","h","city","lookupTz","error","trim","hasOwnProperty","id","Error","find","millisecond","second","minute","week","milliseconds","walk","unit","previous","current","startUnit","original","diff","Math","abs","halfStep","units","valid","walkTo","getMonth","getFullYear","seconds","wants","old","clone","silent","walk_1","shortMonths","longMonths","buildMapping","sep","months","short","long","mapping","set","i18n","parseOffset$1","parseFloat","parseOffset_1$1","parseTime","arguments","startOf","concat","substring","ampm","_h","parseTime_1","monthLengths","monthLengths_1","fns","isLeapYear","isDate","isNaN","valueOf","input","isObject","isBoolean","zeroPad","pad","join","titleCase","toUpperCase","substr","ordinal","j","toCardinal","String","getEpoch","tmp","getTime","beADate","formatTimezone","delimiter","sign","absOffset","hours","minutes","fns_1","fns_2","fns_3","fns_4","fns_5","fns_6","fns_7","fns_8","fns_9","fns_10","fns_11","fns_12","fns_13","hasDate","max","hasDate_1","months$1","parseYear","today","strFmt","reg","parse","givenTz","options","british","_today","quarter","getDate","strParse","getNow","now","dates","tonight","tomorrow","add","yesterday","subtract","christmas","newYears","namedDates","minimumEpoch","defaults","handleArray","order","handleObject","assign","parseInput","res","isValid","_res","shortDays","longDays","days","aliases","tues","thur","thurs","titleCaseEnabled","caseFormat","useTitleCase","isoOffset","_offset","applyCaseFormat","dayName","dayShort","dayNumber","dayOrdinal","dayPad","dateOrdinal","datePad","monthName","monthShort","monthNumber","monthOrdinal","monthPad","isoMonth","yearShort","isoYear","isNegative","time24","hour24","hour12","hourPad","hour24Pad","minutePad","secondPad","era","json","numeric","numericUs","numericUk","mmDd","iso","h24","ms","isoShort","isoUtc","toISOString","nice","niceYear","niceDay","niceFull","mdy","dmy","ymd","printFormat","out","indexOf","_","fmt","format_1","G","GG","GGG","GGGG","y","yy","yyy","yyyy","yyyyy","Q","QQ","QQQ","QQQQ","M","MM","MMM","MMMM","w","ww","dd","D","dayOfYear","DD","DDD","E","EE","EEE","EEEE","EEEEE","e","ee","eee","eeee","eeeee","a","aa","aaa","aaaa","h12","hh","H","HH","mm","ss","A","z","zz","zzz","zzzz","Z","ZZ","ZZZ","ZZZZ","addAlias","_char","to","toName","escapeChars","filter","ch","combineRepeated","c","map","unixFmt","txt","unixFmt_1","units$1","doUnit","endOf","percent","toFixed","progress","progress_1","nearest","prog","nearest_1","climb","b","isBefore","isAfter","diffOne","one","fastYear","years","msDiff","weeks","waterfall","reverseDiff","main","reversed","diff$1","qualifiers","almost","over","getDiff","later","earlier","isSame","u","pluralize","since","isNow","every","rounded","qualified","precise","englishValues","englishValue","nextUnit","nextValue","splice","since_1","north","south","quarters","units$2","quarterhour","_weekStart","q","hemisphere","decade","century","startOf_1","isDay","result","every_1","parseDst","epochShift","hasDst","Boolean","default_offset","change","back","summer","winter","isDST","timezone_1","units$3","input$1","hasDST","leapYear","last","goto","isAwake","isAsleep","log","logYear","_this","debug","fromNow","weekStart","inDST","round","each","methods_1","isLeapYear$1","validate","confirm","want","shift","sec","methods$1","getMilliseconds","getSeconds","getMinutes","getHours","hourFloat","_minute","_hour","which","dayTime","times","morning","breakfast","noon","lunch","afternoon","evening","dinner","night","midnight","_01Time","methods$2","getDay","_02Date","clearMinutes","methods$3","sum","setDate","setFullYear","setHours","setMinutes","setMonth","toAdd","minus","thisOne","skipWeeks","_month","floor","millenium","_03Year","methods$4","addMethods","Space","query","isLeapYear$2","getMonthLength","rollMonth","_years","rollDaysDown","rollDaysUp","_model","daysBack","order$1","keep","dstAwareUnits","keepDate","addMethods$1","SpaceTime","_sum","wantYear","haveYear","plus","print","addMethods$2","tzAware","same","addMethods$3","isEqual","isBetween","isInclusive","startEpoch","endEpoch","compare","addMethods$4","defineProperty","get","bias","getTimezoneOffset","toLocalDate","spacetime","whereIts","startHour","endHour","tzs","whereIts_1","_version","main$1","setToday","extend","version","plugin","src","america","asia","europe","africa","aus","pac","informal","bst","ireland","cet","cest","eet","eest","trt","etc","utc","gmt","sast","acst","acdt","aest","aedt","awst","awdt","acwst","lhst","lhdt","msk","russian","cst","cdt","mst","mdt","ast","adt","est","edt","pst","pdt","ahst","ahdt","hst","nst","ndt","brt","brasília","brasilia","amt","east","easst","vet","pyt","pyst","cot","clst","cldt","uyt","ist","irst","irdt","iranian","pkt","ict","ct","almt","yakt","gst","uae","hkt","wib","wita","idt","israeli","krat","myt","sgt","kst","uzt","vlat","mvt","mut","mht","sst","chst","pgt","iana","formal","lex","knownUnits","weekend","wk","min","parseUnit","parseShift","ts","remove","groups","dir","oneBased","getCounter","hardCoded","daybreak","midday","lunchtime","dinnertime","eod","halfPast","term","mins","behind","context","timeStr","desc","g","parseRelative","rel","parseSection","parseTimezone","Unit","keepTime","enumerable","writable","section","middle","Day","CalendarDate","WeekDay","weekDay","AnyMonth","Month","AnyQuarter","Quarter","Week","WeekEnd","Hour","Minute","Moment","knownWord","eom","eoy","tommorrow","tmrw","define","feb","apr","oct","parseHoliday","spacetimeHoliday","milliscond","instant","yr","qtr","hr","matchStr","nextLast","Model","fmtToday","parseYearly","parseExplicit","impliedYear","applyCounter","counter","tokens","relative","holiday","require$$7","require$$8","yearly","require$$9","explicit","require$$10","transform","require$$11","parseDate","applyShift","applyRel","applySection","applyTime","punt","append","year2","prepend","fromDate","toDate","group","after","parseRange","ranges","toNumber","contractions","expand","adverbs","parseRanges","keepTags","keepCase","toLongForm","abbrevs","toShortForm","opts","Doc","world","addTags","tags","addWords","words","postProcess","tagger","Dates","list"],"mappings":"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"}